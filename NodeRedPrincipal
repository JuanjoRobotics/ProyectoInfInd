[
    {
        "id": "cb95b8f7.9b4968",
        "type": "tab",
        "label": "Telegram_trabajo",
        "disabled": false,
        "info": ""
    },
    {
        "id": "1147cc5.9871434",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch encender",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres encender?",
        "answers": [
            "cocina",
            "habitacion",
            "salon",
            "toilette",
            "todo"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 685,
        "y": 1130,
        "wires": [
            [
                "8f0e032c.df76"
            ],
            [
                "e84fa126.2450a"
            ],
            [
                "37f33064.6ac1c"
            ],
            [
                "2214f55f.65740a"
            ],
            [
                "f7df7ac5.0a7d18"
            ],
            [
                "6d653d04.ac03c4"
            ]
        ]
    },
    {
        "id": "40590e7a.8e1f9",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/encender",
        "bot": "407d7e26.e9903",
        "command": "/encender",
        "commandType": "str",
        "commandCase": false,
        "x": 499,
        "y": 1138,
        "wires": [
            [
                "1147cc5.9871434"
            ]
        ]
    },
    {
        "id": "997fb7bd.4977e8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "habitacion-bajo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "habitacion encendida a nivel bajo",
        "parseMode": "",
        "x": 1515.0000305175781,
        "y": 619.9999866485596,
        "wires": []
    },
    {
        "id": "59706509.9cb08c",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "salon-bajo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "salon encendido a nivel bajo",
        "parseMode": "",
        "x": 1621.9999542236328,
        "y": 1068.999963760376,
        "wires": []
    },
    {
        "id": "a7f4bcd0.4e281",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "wc-bajo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "baño encendido a nivel bajo",
        "parseMode": "",
        "x": 1520.0000267028809,
        "y": 1520.9999084472656,
        "wires": []
    },
    {
        "id": "f9d1040e.b17438",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "todo-bajo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se han encendido todas las luces a nivel bajo",
        "parseMode": "",
        "x": 1516.000114440918,
        "y": 2048.0001430511475,
        "wires": []
    },
    {
        "id": "859317dc.9f0a78",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch apagar",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres apagar?",
        "answers": [
            "cocina",
            "habitacion",
            "salon",
            "toilette",
            "todo"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 335,
        "y": 2863.0003700256348,
        "wires": [
            [
                "2fd5a89.7d49558"
            ],
            [
                "daf251bd.b49c2"
            ],
            [
                "9ef52112.d1741"
            ],
            [
                "32d10223.71833e"
            ],
            [
                "66b35bde.38a1d4"
            ],
            [
                "3492e6bb.e41d4a"
            ]
        ]
    },
    {
        "id": "670556d3.5465b8",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/apagar",
        "bot": "407d7e26.e9903",
        "command": "/apagar",
        "commandType": "str",
        "commandCase": false,
        "x": 55,
        "y": 2865.0003700256348,
        "wires": [
            [
                "859317dc.9f0a78"
            ]
        ]
    },
    {
        "id": "8bc7f6d3.17c518",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "cocina apagada",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "cocina apagada",
        "parseMode": "",
        "x": 1039.9999465942383,
        "y": 2729.0006351470947,
        "wires": []
    },
    {
        "id": "5140cb7b.b2f9a4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "habitacion apagado",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "habitacion apagada",
        "parseMode": "",
        "x": 1084.0000076293945,
        "y": 2826.0004720687866,
        "wires": []
    },
    {
        "id": "2d62db1.a024624",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "salon apagado",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "salon apagado",
        "parseMode": "",
        "x": 1086.0000076293945,
        "y": 2945.0004720687866,
        "wires": []
    },
    {
        "id": "3d026add.ec4946",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "wc apagado",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "baño apagado",
        "parseMode": "",
        "x": 1043.0000076293945,
        "y": 3066.0004720687866,
        "wires": []
    },
    {
        "id": "8348ef79.b626f",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "todo apagado",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se han apagado todas las luces",
        "parseMode": "",
        "x": 1026.9999313354492,
        "y": 3152.000551223755,
        "wires": []
    },
    {
        "id": "8f0e032c.df76",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch cocina",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 918.0000114440918,
        "y": 264.00002670288086,
        "wires": [
            [
                "c8001b36.6eb768"
            ],
            [
                "6676dc53.2a1c24"
            ],
            [
                "409e7718.3ad498"
            ],
            [
                "d77a4892.613528"
            ],
            [
                "45abdaa6.0566d4"
            ]
        ]
    },
    {
        "id": "3c0945d2.1eb40a",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "cocina-medio",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "cocina encendida a nivel medio",
        "parseMode": "",
        "x": 1437.9999656677246,
        "y": 201.0000286102295,
        "wires": []
    },
    {
        "id": "c0638f31.994ce",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "cocina-100%",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "cocina encendida a nivel fuego valirio",
        "parseMode": "",
        "x": 1456.0000114440918,
        "y": 407.00003814697266,
        "wires": []
    },
    {
        "id": "9cc8bac1.a75388",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "cocina-alto",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "cocina encendida a nivel alto",
        "parseMode": "",
        "x": 1448.0000648498535,
        "y": 295.00003814697266,
        "wires": []
    },
    {
        "id": "e84fa126.2450a",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch habitacion",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 973.0000114440918,
        "y": 758.0000267028809,
        "wires": [
            [
                "cdd7db6f.6e8788"
            ],
            [
                "a6a50051.811c"
            ],
            [
                "7b05aa21.738364"
            ],
            [
                "c95a3a2a.2ca2e8"
            ],
            [
                "53f2c27b.9ebdec"
            ]
        ]
    },
    {
        "id": "8ae64cef.b7442",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "habitacion-medio",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "habitacion encendida a nivel medio",
        "parseMode": "",
        "x": 1527.0000305175781,
        "y": 729.9999866485596,
        "wires": []
    },
    {
        "id": "d877e28f.5a57e",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "habitacion-alto",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "habitacion encendida a nivel alto",
        "parseMode": "",
        "x": 1532.0000305175781,
        "y": 826.9999866485596,
        "wires": []
    },
    {
        "id": "4df24e3f.799ff",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "habitacion-100%",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "habitacion encendida a todo leche",
        "parseMode": "",
        "x": 1534.0000305175781,
        "y": 938.9999866485596,
        "wires": []
    },
    {
        "id": "37f33064.6ac1c",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch salon",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 1052.0000114440918,
        "y": 1188.0000267028809,
        "wires": [
            [
                "58d23458.fe3c9c"
            ],
            [
                "9fa98f9b.d9bc8"
            ],
            [
                "5958b86.d712248"
            ],
            [
                "f54dd8de.edd5d8"
            ],
            [
                "58601cce.9799b4"
            ]
        ]
    },
    {
        "id": "2214f55f.65740a",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch wc",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 980.0000305175781,
        "y": 1613.0000267028809,
        "wires": [
            [
                "4c61864c.beff38"
            ],
            [
                "c0602873.90d1f8"
            ],
            [
                "43e3c7a0.807b58"
            ],
            [
                "1151ef26.933041"
            ],
            [
                "25b9a65d.3140ba"
            ]
        ]
    },
    {
        "id": "17be3e05.9c2542",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "salon-medio",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "salon encendido a nivel medio",
        "parseMode": "",
        "x": 1646.9999542236328,
        "y": 1175.999963760376,
        "wires": []
    },
    {
        "id": "e77501a5.d82b5",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "salon-alto",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "salon encendido a nivel alto",
        "parseMode": "",
        "x": 1657.9999542236328,
        "y": 1287.999963760376,
        "wires": []
    },
    {
        "id": "4c8a3979.3672c8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "salon-100%",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "salon encendido para HellBoy",
        "parseMode": "",
        "x": 1665.9999542236328,
        "y": 1398.999963760376,
        "wires": []
    },
    {
        "id": "31ae3cb5.6e8cc4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "wc-medio",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "baño encendido a nivel medio",
        "parseMode": "",
        "x": 1522.0000267028809,
        "y": 1615.9999084472656,
        "wires": []
    },
    {
        "id": "72ad5f66.15b3",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "wc-alto",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "baño encendido a nivel alto",
        "parseMode": "",
        "x": 1538.0000038146973,
        "y": 1702.0000286102295,
        "wires": []
    },
    {
        "id": "cc22971e.778808",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "wc-100%",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "baño encendido al maximo",
        "parseMode": "",
        "x": 1562.9999389648438,
        "y": 1801.999979019165,
        "wires": []
    },
    {
        "id": "f7df7ac5.0a7d18",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch todo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 1034.0000267028809,
        "y": 2145.0000343322754,
        "wires": [
            [
                "d9c5eb05.0b0518"
            ],
            [
                "a0225a37.d966e8"
            ],
            [
                "b6af5d9e.daf18"
            ],
            [
                "9cac8314.a6732"
            ],
            [
                "4ca72c63.b0a8f4"
            ]
        ]
    },
    {
        "id": "89e6e01a.bc467",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "todo-medio",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se han encendido todas las luces a nivel medio",
        "parseMode": "",
        "x": 1387,
        "y": 2191.000219345093,
        "wires": []
    },
    {
        "id": "c3226777.1554a8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "todo-alto",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se han encendido todas las luces a nivel alto",
        "parseMode": "",
        "x": 1419.999921798706,
        "y": 2354.9999227523804,
        "wires": []
    },
    {
        "id": "73e20c72.d97a84",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "todo-100%",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se han encendido todas las luces a toda ostia",
        "parseMode": "",
        "x": 1385.9999752044678,
        "y": 2457.999822616577,
        "wires": []
    },
    {
        "id": "fdb6fb57.09cb18",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Encender y regular PWM",
        "info": "e",
        "x": 604.0000114440918,
        "y": 792.0000267028809,
        "wires": []
    },
    {
        "id": "d9c6ed52.15243",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Apagar luces",
        "info": "e",
        "x": 330,
        "y": 2767.0003700256348,
        "wires": []
    },
    {
        "id": "b751aeb.6b5935",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/estado",
        "bot": "407d7e26.e9903",
        "command": "/estado",
        "commandType": "str",
        "commandCase": false,
        "x": 3598.9998931884766,
        "y": 219.99999809265137,
        "wires": [
            [
                "8e9de4d1.546c88"
            ]
        ]
    },
    {
        "id": "8e9de4d1.546c88",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch estado",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "De que quieres ver el estado?",
        "answers": [
            "cocina",
            "habitacion",
            "salon",
            "toilette",
            "todo"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3778.9998931884766,
        "y": 215.99999809265137,
        "wires": [
            [
                "17d8db0c.136f55"
            ],
            [
                "5bebf5e9.53567c"
            ],
            [
                "bca25601.618918"
            ],
            [
                "c7e248e2.f37228"
            ],
            [
                "17d8db0c.136f55",
                "5bebf5e9.53567c",
                "bca25601.618918",
                "c7e248e2.f37228",
                "72fd38a.ce6d2c8"
            ],
            [
                "2b7b5d2a.06de22"
            ]
        ]
    },
    {
        "id": "9213261c.af1508",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "estado habitacion",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4841.000015258789,
        "y": 177.99999809265137,
        "wires": []
    },
    {
        "id": "df6ecc4.42aef3",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "estado salon",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4822.000015258789,
        "y": 227.99999809265137,
        "wires": []
    },
    {
        "id": "6749d5f1.f157dc",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "estado baño",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4825.000015258789,
        "y": 275.99999809265137,
        "wires": []
    },
    {
        "id": "b27c202a.1b716",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Estado de los sensores",
        "info": "e",
        "x": 3791.9998931884766,
        "y": 135.99999809265137,
        "wires": []
    },
    {
        "id": "3504168e.e4c62a",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/start",
        "bot": "407d7e26.e9903",
        "command": "/start",
        "commandType": "str",
        "commandCase": false,
        "x": 55,
        "y": 418.5557918548584,
        "wires": [
            [
                "3402c984.102fb6",
                "14bef70d.e44c99"
            ]
        ]
    },
    {
        "id": "bf418aa1.776be8",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "mensaje de bienvenida e informacion",
        "info": "e",
        "x": 225,
        "y": 146.0000228881836,
        "wires": []
    },
    {
        "id": "b6132bd3.8e4038",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.topic = \"infind/GRUPO2/ESP5826449/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.685791015625,
        "y": 3783.5608530044556,
        "wires": [
            [
                "1567217.52944df"
            ]
        ]
    },
    {
        "id": "69ccbc0a.cb7434",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 157.00001525878906,
        "y": 3783.3335905075073,
        "wires": [
            [
                "7a214638.93bc18",
                "4193e1ec.f7ea"
            ]
        ]
    },
    {
        "id": "7a214638.93bc18",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 419,
        "y": 3783.3335580825806,
        "wires": [
            [
                "b6132bd3.8e4038",
                "70be20a3.64df1"
            ]
        ]
    },
    {
        "id": "17d8db0c.136f55",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Registro cocina",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\": \"infind/GRUPO2/ESP5826449/datos\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4017.9998931884766,
        "y": 113.99999809265137,
        "wires": [
            [
                "3a5d58ea.46b118"
            ]
        ]
    },
    {
        "id": "3a5d58ea.46b118",
        "type": "mongodb in",
        "z": "cb95b8f7.9b4968",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4331.999893188477,
        "y": 112.99999809265137,
        "wires": [
            [
                "7af9d6af.7d8d28"
            ]
        ]
    },
    {
        "id": "7af9d6af.7d8d28",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta cocina",
        "func": "var vcc=msg.payload[0].vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led =msg.payload[0].LED;\n\n\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado de la cocina es el siguiente:  \\n\";\nmsg.payload+=\"El voltaje es de \"+vcc+\" voltios \\n\";\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"La cocina esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"La cocina esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"La cocina esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"La cocina esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"La cocina esta apagada  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4624.700088500977,
        "y": 113.99999809265137,
        "wires": [
            [
                "29d9285.6fdb7d8"
            ]
        ]
    },
    {
        "id": "29d9285.6fdb7d8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "estado cocina",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4846.999893188477,
        "y": 97.99999809265137,
        "wires": []
    },
    {
        "id": "41f7cc12.bcfcd4",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1506.999984741211,
        "y": 40.000003814697266,
        "wires": []
    },
    {
        "id": "1042f82.ae00608",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1273.0001792907715,
        "y": 72.00004005432129,
        "wires": [
            [
                "41f7cc12.bcfcd4",
                "f066880d.0cb2b8"
            ]
        ]
    },
    {
        "id": "c8001b36.6eb768",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1129.0001754760742,
        "y": 79.0000228881836,
        "wires": [
            [
                "1042f82.ae00608"
            ]
        ]
    },
    {
        "id": "f066880d.0cb2b8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "cocina-bajo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "cocina encendida a nivel bajo",
        "parseMode": "",
        "x": 1435.9999656677246,
        "y": 90.00002861022949,
        "wires": []
    },
    {
        "id": "7c9e2f2c.eae1d",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1493.9999656677246,
        "y": 147.0000286102295,
        "wires": []
    },
    {
        "id": "33a09d6d.ed3c82",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1265.0000534057617,
        "y": 163.00004386901855,
        "wires": [
            [
                "7c9e2f2c.eae1d",
                "3c0945d2.1eb40a"
            ]
        ]
    },
    {
        "id": "6676dc53.2a1c24",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1132.0000534057617,
        "y": 169.0000295639038,
        "wires": [
            [
                "33a09d6d.ed3c82"
            ]
        ]
    },
    {
        "id": "c3825b3a.53d6e8",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1260,
        "y": 256.0000190734863,
        "wires": [
            [
                "9cc8bac1.a75388",
                "d2111aa2.48dd08"
            ]
        ]
    },
    {
        "id": "409e7718.3ad498",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1118.00004196167,
        "y": 252.00003814697266,
        "wires": [
            [
                "c3825b3a.53d6e8"
            ]
        ]
    },
    {
        "id": "d2111aa2.48dd08",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1513.0000648498535,
        "y": 247.00003814697266,
        "wires": []
    },
    {
        "id": "c57e908b.1152b",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1261.0000267028809,
        "y": 323.00007820129395,
        "wires": [
            [
                "682f2cf4.efcc84",
                "c0638f31.994ce"
            ]
        ]
    },
    {
        "id": "d77a4892.613528",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1123.00004196167,
        "y": 312.000036239624,
        "wires": [
            [
                "c57e908b.1152b"
            ]
        ]
    },
    {
        "id": "682f2cf4.efcc84",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1531.0000114440918,
        "y": 353.00003814697266,
        "wires": []
    },
    {
        "id": "6086651a.e1affc",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 743.0000076293945,
        "y": 2763.0006351470947,
        "wires": [
            [
                "56a2f66a.5d4e88",
                "8bc7f6d3.17c518"
            ]
        ]
    },
    {
        "id": "2fd5a89.7d49558",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 570.0000686645508,
        "y": 2767.0006351470947,
        "wires": [
            [
                "6086651a.e1affc"
            ]
        ]
    },
    {
        "id": "56a2f66a.5d4e88",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1076.9999465942383,
        "y": 2676.000633239746,
        "wires": []
    },
    {
        "id": "5bebf5e9.53567c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Registro habitacion",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\": \"infind/GRUPO2/ESP8789990/datos\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4024.9998931884766,
        "y": 184.99999809265137,
        "wires": [
            [
                "81a20a47.2d1528"
            ]
        ]
    },
    {
        "id": "81a20a47.2d1528",
        "type": "mongodb in",
        "z": "cb95b8f7.9b4968",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4321.999893188477,
        "y": 192.99999809265137,
        "wires": [
            [
                "2ee643ea.30bc3c"
            ]
        ]
    },
    {
        "id": "2ee643ea.30bc3c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta habitacion",
        "func": "var vcc=msg.payload[0].vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led = msg.payload[0].LED;\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado de la habitacion es el siguiente:  \\n\";\nmsg.payload+=\"El voltaje es de \"+vcc+\" voltios \\n\";\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"La  habitacion esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"La  habitacion esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"La  habitacion esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"La  habitacion esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"La habitacion esta apagada  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4623.699844360352,
        "y": 171.99999809265137,
        "wires": [
            [
                "9213261c.af1508"
            ]
        ]
    },
    {
        "id": "bca25601.618918",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Registro salon",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\": \"infind/GRUPO2/ESP5821487/datos\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4017.9998931884766,
        "y": 235.99999809265137,
        "wires": [
            [
                "120ab895.fce517"
            ]
        ]
    },
    {
        "id": "120ab895.fce517",
        "type": "mongodb in",
        "z": "cb95b8f7.9b4968",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4328.999893188477,
        "y": 237.99999809265137,
        "wires": [
            [
                "748abdb4.cf7e24"
            ]
        ]
    },
    {
        "id": "748abdb4.cf7e24",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta salon",
        "func": "var vcc=msg.payload[0].vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led = msg.payload[0].LED;\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado del salon es el siguiente:  \\n\";\nmsg.payload+=\"El voltaje es de \"+vcc+\" voltios \\n\";\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"El salon esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"El salon esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"El salon esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"El salon esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"El salon esta apagado  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4616.699844360352,
        "y": 224.99999809265137,
        "wires": [
            [
                "df6ecc4.42aef3"
            ]
        ]
    },
    {
        "id": "c7e248e2.f37228",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Registro baño",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\": \"infind/GRUPO2/ESP1122489/datos\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4018.9998931884766,
        "y": 282.99999809265137,
        "wires": [
            [
                "9a219fff.37152"
            ]
        ]
    },
    {
        "id": "9a219fff.37152",
        "type": "mongodb in",
        "z": "cb95b8f7.9b4968",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4331.999893188477,
        "y": 289.99999809265137,
        "wires": [
            [
                "821b8dc0.2ecd3"
            ]
        ]
    },
    {
        "id": "821b8dc0.2ecd3",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta baño",
        "func": "var vcc=msg.payload[0].vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado del baño es el siguiente:  \\n\";\nmsg.payload+=\"El voltaje es de \"+vcc+\" voltios \\n\";\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"El baño esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"El baño esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"El baño esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"El baño esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"El baño esta apagado  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4619.699844360352,
        "y": 276.99999809265137,
        "wires": [
            [
                "6749d5f1.f157dc"
            ]
        ]
    },
    {
        "id": "a44c3979.949938",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 748.9999694824219,
        "y": 2823.0004873275757,
        "wires": [
            [
                "d6364351.39f3b",
                "5140cb7b.b2f9a4"
            ]
        ]
    },
    {
        "id": "daf251bd.b49c2",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 573.9999923706055,
        "y": 2823.0004720687866,
        "wires": [
            [
                "a44c3979.949938"
            ]
        ]
    },
    {
        "id": "d6364351.39f3b",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1123.0000076293945,
        "y": 2777.0004720687866,
        "wires": []
    },
    {
        "id": "f1853f84.0504c",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 748.0000076293945,
        "y": 2916.0005378723145,
        "wires": [
            [
                "f3377f38.9b74e",
                "2d62db1.a024624"
            ]
        ]
    },
    {
        "id": "9ef52112.d1741",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 577,
        "y": 2909.0005378723145,
        "wires": [
            [
                "f1853f84.0504c"
            ]
        ]
    },
    {
        "id": "f3377f38.9b74e",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1139.0000076293945,
        "y": 2898.0004720687866,
        "wires": []
    },
    {
        "id": "72cc61a1.f5633",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 753.0000228881836,
        "y": 3003.0007610321045,
        "wires": [
            [
                "6e563e5d.28a57",
                "3d026add.ec4946"
            ]
        ]
    },
    {
        "id": "32d10223.71833e",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 600.0000152587891,
        "y": 2993.0007610321045,
        "wires": [
            [
                "72cc61a1.f5633"
            ]
        ]
    },
    {
        "id": "6e563e5d.28a57",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1125.0000076293945,
        "y": 3018.0004720687866,
        "wires": []
    },
    {
        "id": "c5f98de6.940e",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 763.9999847412109,
        "y": 3078.0005493164062,
        "wires": [
            [
                "8348ef79.b626f",
                "6e563e5d.28a57",
                "f3377f38.9b74e",
                "d6364351.39f3b",
                "56a2f66a.5d4e88"
            ]
        ]
    },
    {
        "id": "66b35bde.38a1d4",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 605.0000419616699,
        "y": 3072.0005493164062,
        "wires": [
            [
                "c5f98de6.940e"
            ]
        ]
    },
    {
        "id": "45abdaa6.0566d4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 942.0000114440918,
        "y": 416.00002670288086,
        "wires": []
    },
    {
        "id": "cdd7db6f.6e8788",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1190.0000114440918,
        "y": 603.0000267028809,
        "wires": [
            [
                "3e07164.7b906ea"
            ]
        ]
    },
    {
        "id": "a6a50051.811c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1202.0000114440918,
        "y": 699.0000267028809,
        "wires": [
            [
                "4b28a303.d9f17c"
            ]
        ]
    },
    {
        "id": "7b05aa21.738364",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1204.0000114440918,
        "y": 771.0000267028809,
        "wires": [
            [
                "3b7a0b43.9ccde4"
            ]
        ]
    },
    {
        "id": "c95a3a2a.2ca2e8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1211.0000114440918,
        "y": 859.0000267028809,
        "wires": [
            [
                "c32c3eaa.39e6f"
            ]
        ]
    },
    {
        "id": "3e07164.7b906ea",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1333.9999923706055,
        "y": 605.0000419616699,
        "wires": [
            [
                "997fb7bd.4977e8",
                "c2261875.1e7ce8"
            ]
        ]
    },
    {
        "id": "4b28a303.d9f17c",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1340.9999923706055,
        "y": 704.0000419616699,
        "wires": [
            [
                "8ae64cef.b7442",
                "9e1befe4.7ab1e"
            ]
        ]
    },
    {
        "id": "3b7a0b43.9ccde4",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1345.9999923706055,
        "y": 785.0000419616699,
        "wires": [
            [
                "d877e28f.5a57e",
                "7e3ea89c.abb178"
            ]
        ]
    },
    {
        "id": "c32c3eaa.39e6f",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1349.9999923706055,
        "y": 854.0000419616699,
        "wires": [
            [
                "4df24e3f.799ff",
                "ac721d6.b9661e"
            ]
        ]
    },
    {
        "id": "c2261875.1e7ce8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1569.0000305175781,
        "y": 561.9999866485596,
        "wires": []
    },
    {
        "id": "9e1befe4.7ab1e",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1575.0000305175781,
        "y": 670.9999866485596,
        "wires": []
    },
    {
        "id": "7e3ea89c.abb178",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1581.0000305175781,
        "y": 783.9999866485596,
        "wires": []
    },
    {
        "id": "ac721d6.b9661e",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1582.0000305175781,
        "y": 887.9999866485596,
        "wires": []
    },
    {
        "id": "58d23458.fe3c9c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1258.999984741211,
        "y": 1102.9999771118164,
        "wires": [
            [
                "b6dd908c.54997"
            ]
        ]
    },
    {
        "id": "9fa98f9b.d9bc8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1257.0000114440918,
        "y": 1168.0000267028809,
        "wires": [
            [
                "5122dc26.144844"
            ]
        ]
    },
    {
        "id": "5958b86.d712248",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1257.99995803833,
        "y": 1229.0000267028809,
        "wires": [
            [
                "d9eafa7c.519f78"
            ]
        ]
    },
    {
        "id": "f54dd8de.edd5d8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1266.000015258789,
        "y": 1288.000002861023,
        "wires": [
            [
                "1c6d0f2a.2e6d31"
            ]
        ]
    },
    {
        "id": "b6dd908c.54997",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1398.9999389648438,
        "y": 1095.9999904632568,
        "wires": [
            [
                "59706509.9cb08c",
                "c79e3a04.6bbce8"
            ]
        ]
    },
    {
        "id": "5122dc26.144844",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1390.9999408721924,
        "y": 1164.9999904632568,
        "wires": [
            [
                "17be3e05.9c2542",
                "84f36ebe.f016f"
            ]
        ]
    },
    {
        "id": "d9eafa7c.519f78",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1395.0000457763672,
        "y": 1234.9999732971191,
        "wires": [
            [
                "e77501a5.d82b5",
                "b5a94bdd.78d6f8"
            ]
        ]
    },
    {
        "id": "1c6d0f2a.2e6d31",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1402.999963760376,
        "y": 1296.0000295639038,
        "wires": [
            [
                "4c8a3979.3672c8",
                "dfcd48e9.0f59d8"
            ]
        ]
    },
    {
        "id": "c79e3a04.6bbce8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1635.9999542236328,
        "y": 1024.999963760376,
        "wires": []
    },
    {
        "id": "84f36ebe.f016f",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1652.9999542236328,
        "y": 1121.999963760376,
        "wires": []
    },
    {
        "id": "dfcd48e9.0f59d8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1675.9999542236328,
        "y": 1343.999963760376,
        "wires": []
    },
    {
        "id": "b5a94bdd.78d6f8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1679.9999542236328,
        "y": 1241.999963760376,
        "wires": []
    },
    {
        "id": "4c61864c.beff38",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1157.0000038146973,
        "y": 1537.000018119812,
        "wires": [
            [
                "f1ceeb47.080658"
            ]
        ]
    },
    {
        "id": "c0602873.90d1f8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1157,
        "y": 1594.0000219345093,
        "wires": [
            [
                "92cfc6e5.0e9618"
            ]
        ]
    },
    {
        "id": "43e3c7a0.807b58",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1169.0000305175781,
        "y": 1651.0000267028809,
        "wires": [
            [
                "e82dfd16.71942"
            ]
        ]
    },
    {
        "id": "1151ef26.933041",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1186.0000305175781,
        "y": 1717.0000314712524,
        "wires": [
            [
                "3b6bc483.d818ac"
            ]
        ]
    },
    {
        "id": "f1ceeb47.080658",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1294.0000114440918,
        "y": 1519.999963760376,
        "wires": [
            [
                "a7f4bcd0.4e281",
                "55185ad.2a599a4"
            ]
        ]
    },
    {
        "id": "92cfc6e5.0e9618",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1297.999984741211,
        "y": 1591.9999141693115,
        "wires": [
            [
                "31ae3cb5.6e8cc4",
                "6f9ef151.1a26c"
            ]
        ]
    },
    {
        "id": "e82dfd16.71942",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1304.0000114440918,
        "y": 1652.9999713897705,
        "wires": [
            [
                "72ad5f66.15b3",
                "39ec8b2a.b9c594"
            ]
        ]
    },
    {
        "id": "3b6bc483.d818ac",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1315.0000629425049,
        "y": 1711.0000324249268,
        "wires": [
            [
                "cc22971e.778808",
                "625b2868.f09718"
            ]
        ]
    },
    {
        "id": "55185ad.2a599a4",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1536.0000267028809,
        "y": 1462.9999084472656,
        "wires": []
    },
    {
        "id": "6f9ef151.1a26c",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1564.0000267028809,
        "y": 1569.9999084472656,
        "wires": []
    },
    {
        "id": "39ec8b2a.b9c594",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1620.9998512268066,
        "y": 1663.0000267028809,
        "wires": []
    },
    {
        "id": "625b2868.f09718",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1634.9999961853027,
        "y": 1751.9999771118164,
        "wires": []
    },
    {
        "id": "d9c5eb05.0b0518",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1196.0000686645508,
        "y": 2003.99995803833,
        "wires": [
            [
                "9ee2ef6a.23669"
            ]
        ]
    },
    {
        "id": "a0225a37.d966e8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1211.0000762939453,
        "y": 2128.0001106262207,
        "wires": [
            [
                "6213c4c1.593fac"
            ]
        ]
    },
    {
        "id": "b6af5d9e.daf18",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1229.9999771118164,
        "y": 2254.000026702881,
        "wires": [
            [
                "c285927d.2709d"
            ]
        ]
    },
    {
        "id": "9cac8314.a6732",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1233.0000476837158,
        "y": 2389.9999504089355,
        "wires": [
            [
                "1ebeeb7d.331c85"
            ]
        ]
    },
    {
        "id": "9ee2ef6a.23669",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1344.0000686645508,
        "y": 1999.99995803833,
        "wires": [
            [
                "f9d1040e.b17438",
                "1f0fb118.73963f",
                "9250cd89.d1358",
                "9112ec95.c89d7",
                "26a4004c.a59da"
            ]
        ]
    },
    {
        "id": "6213c4c1.593fac",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1363.0000762939453,
        "y": 2127.0001106262207,
        "wires": [
            [
                "89e6e01a.bc467",
                "c463b9.c2374c48",
                "7bea131c.2ac88c",
                "3df7bda1.fc9762",
                "cbce8cf9.24a95"
            ]
        ]
    },
    {
        "id": "c285927d.2709d",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1391.0000381469727,
        "y": 2289.999972343445,
        "wires": [
            [
                "c3226777.1554a8",
                "f93c081.179cef8",
                "96719d32.b601a",
                "dace9a86.7e4928",
                "8d98f782.c213b8"
            ]
        ]
    },
    {
        "id": "1ebeeb7d.331c85",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1393.0000476837158,
        "y": 2402.9999504089355,
        "wires": [
            [
                "73e20c72.d97a84",
                "15b9bb97.5a9674",
                "3ccce6d7.f873ca",
                "2bbb9f36.b3f1e",
                "f53a63c4.a4e8c"
            ]
        ]
    },
    {
        "id": "9ea788a6.b86e08",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 807,
        "y": 4337.69677734375,
        "wires": []
    },
    {
        "id": "78c471d9.c96c4",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "sensor puerta",
        "func": "var deteccion = msg.payload.VL53L0X;\n\nif (deteccion > -1 && deteccion <=100) \nmsg.payload = \"Se ha abierto la puerta\";\n\nif (deteccion > 100) \nmsg.payload = \"Se ha cerrado la puerta\";\nif (deteccion == -1)\nmsg.payload = \"sensor no inicializado\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 600.3333435058594,
        "y": 4527.697163581848,
        "wires": [
            [
                "78481f71.b8f5f"
            ]
        ]
    },
    {
        "id": "9108000a.9d9de",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/puerta",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 168.33335876464844,
        "y": 4562.697616577148,
        "wires": [
            [
                "306acfb5.57441"
            ]
        ]
    },
    {
        "id": "7ac6a4b0.3947ac",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "calidad del aire de la cocina",
        "info": "",
        "x": 145.33334350585938,
        "y": 4631.697322845459,
        "wires": []
    },
    {
        "id": "55c25750.61f268",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "estado puerta principal",
        "info": "",
        "x": 168.33335876464844,
        "y": 4515.6974058151245,
        "wires": []
    },
    {
        "id": "91dabfd1.5c448",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 149.00001525878906,
        "y": 4273.697261810303,
        "wires": [
            [
                "f14ae36e.fc575"
            ]
        ]
    },
    {
        "id": "927d8823.9b0768",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura cocina",
        "func": "var deteccion = msg.payload.DHT11.temp;\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DE LA COCINA ES DEMASIADO ALTA \\n\";\n\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DE LA COCINA ES DEMASIADO BAJA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 543.0000152587891,
        "y": 4270.696767807007,
        "wires": [
            [
                "9ea788a6.b86e08"
            ]
        ]
    },
    {
        "id": "34b92a1e.cfc016",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "temperaturas",
        "info": "",
        "x": 140.00001525878906,
        "y": 4229.697128295898,
        "wires": []
    },
    {
        "id": "2194a2d0.3f226e",
        "type": "mongodb out",
        "z": "cb95b8f7.9b4968",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 889.772705078125,
        "y": 3875.3335580825806,
        "wires": []
    },
    {
        "id": "5ccdcbe0.4f7b14",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP8789990/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.685791015625,
        "y": 3876.5608530044556,
        "wires": [
            [
                "2194a2d0.3f226e"
            ]
        ]
    },
    {
        "id": "80267bfb.7e3228",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 160.99998474121094,
        "y": 3887.3335275650024,
        "wires": [
            [
                "5d6f0503.ac47dc"
            ]
        ]
    },
    {
        "id": "5d6f0503.ac47dc",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 427.2225971221924,
        "y": 3887.3343019485474,
        "wires": [
            [
                "5ccdcbe0.4f7b14",
                "6b1bace2.f41fe4"
            ]
        ]
    },
    {
        "id": "7de15541.d2a8bc",
        "type": "mongodb out",
        "z": "cb95b8f7.9b4968",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 904.772705078125,
        "y": 3960.3335580825806,
        "wires": []
    },
    {
        "id": "5d3b24b.b610edc",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP1122489/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 611.685791015625,
        "y": 3962.5608530044556,
        "wires": [
            [
                "7de15541.d2a8bc",
                "f41e3f64.7dde2"
            ]
        ]
    },
    {
        "id": "6c61efe.e2c5b1",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 145,
        "y": 3975.3335275650024,
        "wires": [
            [
                "2b2fd651.49c6fa"
            ]
        ]
    },
    {
        "id": "2b2fd651.49c6fa",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 417,
        "y": 3969.3335580825806,
        "wires": [
            [
                "5d3b24b.b610edc",
                "52691fec.0f5d3"
            ]
        ]
    },
    {
        "id": "572b4ef6.2df5f",
        "type": "mongodb out",
        "z": "cb95b8f7.9b4968",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 900.772705078125,
        "y": 4054.3335580825806,
        "wires": []
    },
    {
        "id": "625dc83d.507f48",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP5821487/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.685791015625,
        "y": 4056.5608530044556,
        "wires": [
            [
                "572b4ef6.2df5f"
            ]
        ]
    },
    {
        "id": "ca6e81fe.65cca",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 152,
        "y": 4060.333372116089,
        "wires": [
            [
                "fcef84a9.bc42f8"
            ]
        ]
    },
    {
        "id": "fcef84a9.bc42f8",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 445.0000114440918,
        "y": 4055.333734512329,
        "wires": [
            [
                "625dc83d.507f48",
                "86f4d3e9.8a15a"
            ]
        ]
    },
    {
        "id": "99fb8e45.b19ca",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "javi",
        "info": "e",
        "x": 91,
        "y": 3745.3335580825806,
        "wires": []
    },
    {
        "id": "223b634b.923d6c",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Frank",
        "info": "e",
        "x": 94,
        "y": 3851.3335580825806,
        "wires": []
    },
    {
        "id": "d81265c9.8f01a8",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Leo",
        "info": "e",
        "x": 114,
        "y": 4027.3335580825806,
        "wires": []
    },
    {
        "id": "6ae0e922.284418",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Juanjo",
        "info": "e",
        "x": 102,
        "y": 3939.3335580825806,
        "wires": []
    },
    {
        "id": "f14ae36e.fc575",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 365.0000457763672,
        "y": 4271.696767807007,
        "wires": [
            [
                "927d8823.9b0768"
            ]
        ]
    },
    {
        "id": "306acfb5.57441",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 443.33337783813477,
        "y": 4589.697616577148,
        "wires": [
            [
                "78c471d9.c96c4",
                "274e3013.bc44b"
            ]
        ]
    },
    {
        "id": "72fd38a.ce6d2c8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "estado casa",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se va a mostrar el estado de cada parte de la casa",
        "parseMode": "",
        "x": 4049.9998931884766,
        "y": 333.99999809265137,
        "wires": []
    },
    {
        "id": "1f0fb118.73963f",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1584.0003509521484,
        "y": 1889.9999046325684,
        "wires": []
    },
    {
        "id": "9250cd89.d1358",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP230/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1562.378158569336,
        "y": 1924.9146995544434,
        "wires": []
    },
    {
        "id": "9112ec95.c89d7",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1592.378158569336,
        "y": 1962.0965843200684,
        "wires": []
    },
    {
        "id": "26a4004c.a59da",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1607.378158569336,
        "y": 1994.0965843200684,
        "wires": []
    },
    {
        "id": "cbce8cf9.24a95",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1649.378074645996,
        "y": 2119.8239192962646,
        "wires": []
    },
    {
        "id": "3df7bda1.fc9762",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1654.7559509277344,
        "y": 2171.738649368286,
        "wires": []
    },
    {
        "id": "7bea131c.2ac88c",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1674.7559509277344,
        "y": 2208.920534133911,
        "wires": []
    },
    {
        "id": "c463b9.c2374c48",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1689.7559509277344,
        "y": 2240.920534133911,
        "wires": []
    },
    {
        "id": "f93c081.179cef8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1739.3779277801514,
        "y": 2374.8237075805664,
        "wires": []
    },
    {
        "id": "96719d32.b601a",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1727.7557353973389,
        "y": 2409.7385025024414,
        "wires": []
    },
    {
        "id": "dace9a86.7e4928",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1747.7557353973389,
        "y": 2446.9203872680664,
        "wires": []
    },
    {
        "id": "8d98f782.c213b8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1751.75563621521,
        "y": 2493.9202995300293,
        "wires": []
    },
    {
        "id": "3ccce6d7.f873ca",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1731.378179550171,
        "y": 2564.550874710083,
        "wires": []
    },
    {
        "id": "2bbb9f36.b3f1e",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1719.7559871673584,
        "y": 2599.465669631958,
        "wires": []
    },
    {
        "id": "f53a63c4.a4e8c",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1739.7559871673584,
        "y": 2636.647554397583,
        "wires": []
    },
    {
        "id": "15b9bb97.5a9674",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1748.7560329437256,
        "y": 2685.647529602051,
        "wires": []
    },
    {
        "id": "199482a5.39ea7d",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "-------------------------------------Avisos especiales-------------------------------------",
        "info": "",
        "x": 522.92333984375,
        "y": 4170.521593093872,
        "wires": []
    },
    {
        "id": "8b6d5a92.28a318",
        "type": "ui_switch",
        "z": "cb95b8f7.9b4968",
        "name": "separdor decimal",
        "label": "{{msg.topic}}",
        "tooltip": "",
        "group": "26879d4b.7e9e12",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 2795.0143852233887,
        "y": 4980,
        "wires": [
            [
                "49979d95.00bf14"
            ]
        ]
    },
    {
        "id": "8dfad84.4f69b28",
        "type": "inject",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 2737.0114097595215,
        "y": 4901.911847114563,
        "wires": [
            [
                "49979d95.00bf14"
            ]
        ]
    },
    {
        "id": "49979d95.00bf14",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "set global separador_decimal",
        "func": "if(msg.payload===true)\n{\n    global.set(\"separador_decimal\",\"coma\");\n    msg.topic=\"separador decimal = coma\";\n}\nelse\n{\n    global.set(\"separador_decimal\",\"punto\");\n    msg.topic=\"separador decimal = punto\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3065.0227966308594,
        "y": 4902.619219779968,
        "wires": [
            [
                "8b6d5a92.28a318"
            ]
        ]
    },
    {
        "id": "11e244a2.42c5bb",
        "type": "ui_date_picker",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "label": "Fecha inicio",
        "group": "26879d4b.7e9e12",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "x": 2899.7929039001465,
        "y": 4729.756088256836,
        "wires": [
            [
                "8ea661ab.7feaf"
            ]
        ]
    },
    {
        "id": "4ac34026.22a71",
        "type": "ui_date_picker",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "label": "Fecha final",
        "group": "26879d4b.7e9e12",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "x": 2902.804256439209,
        "y": 4778.750325679779,
        "wires": [
            [
                "3de495f3.c5c83a"
            ]
        ]
    },
    {
        "id": "8ea661ab.7feaf",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "desde",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3095.7985801696777,
        "y": 4728.417975902557,
        "wires": [
            []
        ]
    },
    {
        "id": "3de495f3.c5c83a",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hasta",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3099.0258598327637,
        "y": 4779.3015303611755,
        "wires": [
            []
        ]
    },
    {
        "id": "b3821c01.cde1c",
        "type": "inject",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 2701.8014030456543,
        "y": 4754.176528453827,
        "wires": [
            [
                "11e244a2.42c5bb",
                "4ac34026.22a71"
            ]
        ]
    },
    {
        "id": "55be51b8.5b806",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Controles para seleccionar fechas",
        "info": "",
        "x": 2758.8013916015625,
        "y": 4657.653812885284,
        "wires": []
    },
    {
        "id": "5d7e7577.27191c",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Selector de separador decimal",
        "info": "",
        "x": 2749.0255737304688,
        "y": 4841.573971748352,
        "wires": []
    },
    {
        "id": "83609717.be0ea8",
        "type": "http response",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "statusCode": "",
        "headers": {
            "Content-Disposition": "attachment; filename=registros.csv"
        },
        "x": 3638.5079231262207,
        "y": 4685.790338516235,
        "wires": []
    },
    {
        "id": "f657f050.9ca24",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Unicode y separador",
        "func": "//add Unicode BOM character (byte order mark) to make EXCEL knows this is UTF-8\nif(global.get(\"separador_decimal\")==\"punto\")\n{\n    msg.payload='\\ufeff'+msg.payload;\n\n}\nelse\n{\n    msg.payload='\\ufeff'+(msg.payload).replace(/\\./g,\",\");\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3533.5082397460938,
        "y": 4614.790338516235,
        "wires": [
            [
                "83609717.be0ea8"
            ]
        ]
    },
    {
        "id": "e220512e.4bf94",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "consulta",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),0,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),23,59,59,999);\n\nmsg.payload=\n[\n    { \"$match\": {\"$topic\": \"infind/GRUPO2/ESP145/datos/cocina\", \"date\": { \"$gte\": inicio , \"$lte\": final } } },\n    { \"$project\": {\n        \"_id\": 0,\n        \"date\": 1,\n        \"temp\": \"$DHT11.temp\",\n        \"hum\": \"$DHT11.hum\",\n        }\n    },\n    { \"$sort\": {\"date\": 1} }\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2788.5080947875977,
        "y": 4584.789490699768,
        "wires": [
            [
                "a43810db.35d7a",
                "5e247bee.a198c4"
            ]
        ]
    },
    {
        "id": "eccb4ff1.8cfdc",
        "type": "http in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "url": "/registros",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 2625.508056640625,
        "y": 4584.789469718933,
        "wires": [
            [
                "e220512e.4bf94"
            ]
        ]
    },
    {
        "id": "259e3c57.c4ad44",
        "type": "ui_template",
        "z": "cb95b8f7.9b4968",
        "group": "26879d4b.7e9e12",
        "name": "",
        "order": 3,
        "width": "0",
        "height": "0",
        "format": "<style>\n.button {\n    text-align: center;\n    font: bold 17px Arial;\n    text-decoration: none;\n    background-color: #339966;\n    color: white;\n    padding: 8px 10px;\n    border: 2px solid #CCCCCC;\n  }\n  \n  .button:hover\n  {\n   background-color: #26734d;\n  }\n\n</style>\n<a href=\"/registros\" class=\"button\">Descarga registros en CSV (EXCEL)</a>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 2644.5080795288086,
        "y": 4476.789302825928,
        "wires": [
            []
        ]
    },
    {
        "id": "a43810db.35d7a",
        "type": "mongodb in",
        "z": "cb95b8f7.9b4968",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 3083.5222778320312,
        "y": 4584.79515171051,
        "wires": [
            [
                "7ad391f7.71277",
                "9a73cc7d.ab6d5"
            ]
        ]
    },
    {
        "id": "7ad391f7.71277",
        "type": "csv",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "sep": ";",
        "hdrin": "",
        "hdrout": true,
        "multi": "one",
        "ret": "\\r\\n",
        "temp": "date, temp, hum",
        "skip": 0,
        "x": 3348.5083236694336,
        "y": 4582.78976726532,
        "wires": [
            [
                "f657f050.9ca24"
            ]
        ]
    },
    {
        "id": "8255736e.34b41",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Botón en HTML para lanzar descarga de fichero",
        "info": "",
        "x": 2754.297836303711,
        "y": 4428.87175655365,
        "wires": []
    },
    {
        "id": "66f44863.32a7b8",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Flujo para descarga de fichero",
        "info": "",
        "x": 2696.522262573242,
        "y": 4526.795123100281,
        "wires": []
    },
    {
        "id": "5e247bee.a198c4",
        "type": "debug",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 3069.83353805542,
        "y": 4450.2660665512085,
        "wires": []
    },
    {
        "id": "9a73cc7d.ab6d5",
        "type": "debug",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 3418.9999809265137,
        "y": 4468.9326066970825,
        "wires": []
    },
    {
        "id": "cc80a675.6a69e8",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "PREGUNTAR AL PROFESOR SOBRE ESTO",
        "info": "",
        "x": 3244.015682220459,
        "y": 4619.01628112793,
        "wires": []
    },
    {
        "id": "3402c984.102fb6",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch bienvenida",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "¡Hola! Soy el bot del grupo 2, Puedo hacer muchas cosas, solo tienes que pulsar en una de los siguientes opciones. ¿No sabes que hace cada una?, ¡Tranquilo!, tienes un tutorial justo debajo, ahora sí... ¿En que puedo ayudarte?",
        "answers": [
            "Encender",
            "Apagar",
            "Ver estado",
            "Tutorial"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 247.89588165283203,
        "y": 295.4450912475586,
        "wires": [
            [
                "2da6427c.cd1ffe"
            ],
            [
                "d29ece94.508c2"
            ],
            [
                "21016206.b5dd6e"
            ],
            [
                "9c9f3e3e.c122b"
            ],
            []
        ]
    },
    {
        "id": "e853cf76.711fd",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Ayuda",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 582.8958358764648,
        "y": 336.0002899169922,
        "wires": []
    },
    {
        "id": "9c9f3e3e.c122b",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "ayuda mensaje",
        "func": "msg.payload = \"¿Estás un poco perdido? Tranquilo, yo te ayudo. \\n\";\nmsg.payload += \"En primer lugar puedes utilizar el comando /encender o /apagar para modificar las luces. \\n\";\nmsg.payload += \"Una vez lo hagas podrás elegir qué quieres enceder, tienes varios niveles para elegir. \\n\";\nmsg.payload += \"Por otro lado tienes el comando /estado para comprobar cierta información de cada rincón de la casa. \\n\";\nmsg.payload += \"Otro comando interesante es /prediccion, que te permite ver la prediccion del tiempo atmosferico. \\n\";\nmsg.payload += \"Con el comando /configuracion podrás tocar varios parámetros como el tiempo de recogida de datos, el de pwm, el estado del switch y del led y el tiempo de actualizacion . Tambien puedes actualizar manualmente con /actualiza \\n\";\nmsg.payload += \"Si escribes /TempMax o /TempMin podrás cambiar la temperatura a la que quieres los avisos \\n\";\nmsg.payload += \"Hay otros mensajes que se envian automaticamente si ocurren situaciones concretas, como por ejemplo, que se abra la puerta de la casa o que tengas un nivel de humo demasiado alto. \\n\";\nmsg.payload += \"¿No me crees? Pues metele fuego a la casa para que veas lo efectivo que soy ^^. \\n\";\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 491.89585876464844,
        "y": 276.00025939941406,
        "wires": [
            [
                "e853cf76.711fd"
            ]
        ]
    },
    {
        "id": "19dee5b5.dd749a",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4813.999984741211,
        "y": 2805.7644367218018,
        "wires": []
    },
    {
        "id": "f3736886.d575c8",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch tiempo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Muy bien, ¿Que tiempo de recogida de datos quieres?",
        "answers": [
            "5 segundos",
            "10 segundo",
            "30 segundos",
            "1 minuto",
            "5 minutos"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4028.0478591918945,
        "y": 2711.89013671875,
        "wires": [
            [
                "bb994458.799538"
            ],
            [
                "1dedd397.38f68c"
            ],
            [
                "fff2ec81.f7d34"
            ],
            [
                "f1ce99a3.6b9888"
            ],
            [
                "2266dbc.ac3c024"
            ],
            [
                "aca70d84.c861f"
            ]
        ]
    },
    {
        "id": "bb994458.799538",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "5 segundos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 5};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4257.943832397461,
        "y": 2573.7781686782837,
        "wires": [
            [
                "449ac9c4.261748",
                "19dee5b5.dd749a",
                "15ba61a2.c9015e",
                "766894b7.61975c",
                "7fb5725.1a4818c",
                "2ef8922f.bc4e9e"
            ]
        ]
    },
    {
        "id": "1dedd397.38f68c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "10 segundos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 10};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4267.0478515625,
        "y": 2658.778076171875,
        "wires": [
            [
                "863aee33.57fb1",
                "19dee5b5.dd749a",
                "15ba61a2.c9015e",
                "766894b7.61975c",
                "7fb5725.1a4818c",
                "2ef8922f.bc4e9e"
            ]
        ]
    },
    {
        "id": "fff2ec81.f7d34",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "30 segundos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 30};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4272.0478515625,
        "y": 2729.778076171875,
        "wires": [
            [
                "206b276c.840308",
                "19dee5b5.dd749a",
                "15ba61a2.c9015e",
                "766894b7.61975c",
                "7fb5725.1a4818c",
                "2ef8922f.bc4e9e"
            ]
        ]
    },
    {
        "id": "f1ce99a3.6b9888",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "1 minuto",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 60};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4273.047836303711,
        "y": 2797.7784729003906,
        "wires": [
            [
                "aa39e70e.bbebd8",
                "19dee5b5.dd749a",
                "15ba61a2.c9015e",
                "766894b7.61975c",
                "7fb5725.1a4818c",
                "2ef8922f.bc4e9e"
            ]
        ]
    },
    {
        "id": "2266dbc.ac3c024",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "5 minutos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 300};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4282.047958374023,
        "y": 2862.000274658203,
        "wires": [
            [
                "198569e6.198b46",
                "19dee5b5.dd749a",
                "15ba61a2.c9015e",
                "766894b7.61975c",
                "7fb5725.1a4818c",
                "2ef8922f.bc4e9e"
            ]
        ]
    },
    {
        "id": "449ac9c4.261748",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 5 segundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 5 segundos",
        "parseMode": "",
        "x": 4550.94384765625,
        "y": 2407.6682739257812,
        "wires": []
    },
    {
        "id": "863aee33.57fb1",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 10 segundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 10 segundos",
        "parseMode": "",
        "x": 4554.944076538086,
        "y": 2460.6694355010986,
        "wires": []
    },
    {
        "id": "206b276c.840308",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 30 segundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 30 segundos",
        "parseMode": "",
        "x": 4561.943954467773,
        "y": 2505.6693439483643,
        "wires": []
    },
    {
        "id": "aa39e70e.bbebd8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 1 minuto",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 1 minuto",
        "parseMode": "",
        "x": 4544.944076538086,
        "y": 2556.8910236358643,
        "wires": []
    },
    {
        "id": "198569e6.198b46",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 5 minutos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 5 minutos",
        "parseMode": "",
        "x": 4553.943832397461,
        "y": 2604.8901691436768,
        "wires": []
    },
    {
        "id": "582a4416.f761fc",
        "type": "http request",
        "z": "cb95b8f7.9b4968",
        "name": "AEMET http request",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.aemet.es/xml/municipios/localidad_29067.xml",
        "tls": "",
        "x": 2036.1986465454102,
        "y": 3724.1122722625732,
        "wires": [
            [
                "57ce4f.7e47d1b"
            ]
        ]
    },
    {
        "id": "57ce4f.7e47d1b",
        "type": "xml",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 2379.1983375549316,
        "y": 3611.112313270569,
        "wires": [
            [
                "291bd304.8bf1ec",
                "63a5a2a0.3cfbac",
                "791e2ff9.3e00b",
                "cffc90fe.92345"
            ]
        ]
    },
    {
        "id": "291bd304.8bf1ec",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "fecha elaboracion",
        "rules": [
            {
                "t": "set",
                "p": "fecha",
                "pt": "global",
                "to": "payload.root.elaborado[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2619.4985313415527,
        "y": 3417.112112045288,
        "wires": [
            []
        ]
    },
    {
        "id": "30ab6bbe.c9eee4",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var cielo_hoy = global.get(\"cielo_hoy\");\nvar fecha = global.get(\"fecha\")\nvar lluvia_hoy = global.get(\"lluvia_hoy\")\nvar periodo = global.get(\"periodo\")\nmsg.payload.chatId =  1308127721;\nmsg.payload = \"hoy (\" +periodo+\") tendremos el cielo \"+cielo_hoy+\" y con una probabilidad de lluvias de \"+lluvia_hoy+\" % \\n\";\nmsg.payload +=\"Fecha de elaboracion: \"+fecha+ \"\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2945.498550415039,
        "y": 3559.1121196746826,
        "wires": [
            [
                "1da15242.3f4fbe"
            ]
        ]
    },
    {
        "id": "da45ff5.77f61",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/prediccion",
        "bot": "407d7e26.e9903",
        "command": "/prediccion",
        "commandType": "str",
        "commandCase": false,
        "x": 1610.307373046875,
        "y": 3763.111328125,
        "wires": [
            [
                "31d4b644.71932a",
                "a7907c2b.c3163"
            ]
        ]
    },
    {
        "id": "1da15242.3f4fbe",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3113.498504638672,
        "y": 3559.112283706665,
        "wires": []
    },
    {
        "id": "31d4b644.71932a",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var hora = new Date().getHours();\nmsg.payload = hora;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1791.498291015625,
        "y": 3717.111328125,
        "wires": [
            [
                "a71ad5eb.30b548"
            ]
        ]
    },
    {
        "id": "63a5a2a0.3cfbac",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\n\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].prob_precipitacion[cont]._;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2606.49853515625,
        "y": 3464.112548828125,
        "wires": [
            [
                "225f37ce.9de658"
            ]
        ]
    },
    {
        "id": "a71ad5eb.30b548",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "hora",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1901.498291015625,
        "y": 3669.111328125,
        "wires": [
            []
        ]
    },
    {
        "id": "225f37ce.9de658",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2742.4985389709473,
        "y": 3467.1122245788574,
        "wires": [
            []
        ]
    },
    {
        "id": "791e2ff9.3e00b",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].estado_cielo[cont].$.descripcion;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2620.4982109069824,
        "y": 3557.1122846603394,
        "wires": [
            [
                "c9d3ff25.5bc15"
            ]
        ]
    },
    {
        "id": "c9d3ff25.5bc15",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "estado cielo hoy",
        "rules": [
            {
                "t": "set",
                "p": "cielo_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2782.498432159424,
        "y": 3556.112283706665,
        "wires": [
            [
                "30ab6bbe.c9eee4"
            ]
        ]
    },
    {
        "id": "cffc90fe.92345",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].estado_cielo[cont].$.periodo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2622.4983139038086,
        "y": 3620.1120710372925,
        "wires": [
            [
                "fb7613fa.b787f"
            ]
        ]
    },
    {
        "id": "fb7613fa.b787f",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "periodo",
        "rules": [
            {
                "t": "set",
                "p": "periodo",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2780.4982681274414,
        "y": 3625.1119079589844,
        "wires": [
            []
        ]
    },
    {
        "id": "e5c1e3a2.b133d",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Esta funcion calcula la hora actual",
        "info": "",
        "x": 1807.498291015625,
        "y": 3621.111328125,
        "wires": []
    },
    {
        "id": "83083d.696af7c",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Recibo el comando",
        "info": "",
        "x": 4709.307140350342,
        "y": 2303.1111764907837,
        "wires": []
    },
    {
        "id": "e6affa07.f41678",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "convierto en globales las variables que necesito",
        "info": "",
        "x": 2309.4984588623047,
        "y": 3419.112503051758,
        "wires": []
    },
    {
        "id": "58336f7c.e7a96",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Para estas necesito primero elegir el periodo correcto",
        "info": "",
        "x": 3125.4983558654785,
        "y": 3646.112127304077,
        "wires": []
    },
    {
        "id": "8114627f.903c5",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Las junto todas en esta funcion y lo envio a telegram",
        "info": "",
        "x": 3096.498546600342,
        "y": 3491.112117767334,
        "wires": []
    },
    {
        "id": "a7907c2b.c3163",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch prediccion",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que prediccion quieres ver?",
        "answers": [
            "hoy",
            "mañana",
            "Pasado mañana"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 1806.9764289855957,
        "y": 3797.334144592285,
        "wires": [
            [
                "582a4416.f761fc"
            ],
            [
                "9dc53549.c15ee8"
            ],
            [
                "8cf4029.dce73"
            ],
            [
                "e21a42cb.aa88c"
            ]
        ]
    },
    {
        "id": "9dc53549.c15ee8",
        "type": "http request",
        "z": "cb95b8f7.9b4968",
        "name": "AEMET http request",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.aemet.es/xml/municipios/localidad_29067.xml",
        "tls": "",
        "x": 2034.6433410644531,
        "y": 3788.8894939422607,
        "wires": [
            [
                "ec120049.3121f"
            ]
        ]
    },
    {
        "id": "ec120049.3121f",
        "type": "xml",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 2397.6434898376465,
        "y": 3726.889389038086,
        "wires": [
            [
                "73bb3205.64c46c",
                "db195c89.8528b",
                "3510f53c.308eaa",
                "9bf8031.eef59"
            ]
        ]
    },
    {
        "id": "73bb3205.64c46c",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "estado cielo mañana",
        "rules": [
            {
                "t": "set",
                "p": "cielo_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[1].estado_cielo[0].$.descripcion",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2666.9431076049805,
        "y": 3676.889476776123,
        "wires": [
            []
        ]
    },
    {
        "id": "db195c89.8528b",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "fecha elaboracion",
        "rules": [
            {
                "t": "set",
                "p": "fecha",
                "pt": "global",
                "to": "payload.root.elaborado[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2671.94327545166,
        "y": 3718.889479637146,
        "wires": [
            []
        ]
    },
    {
        "id": "3510f53c.308eaa",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "lluvia mañana",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[1].prob_precipitacion[0]._",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2660.9432678222656,
        "y": 3759.889699935913,
        "wires": [
            []
        ]
    },
    {
        "id": "fb46802a.a376a",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var cielo_manana = global.get(\"cielo_manana\");\nvar lluvia_manana = global.get(\"lluvia_manana\")\nvar fecha = global.get(\"fecha\")\nvar periodo = global.get(\"periodo\")\nmsg.payload.chatId =  1308127721;\nmsg.payload = \"Mañana tendremos el cielo \"+cielo_manana+\" y con una probabilidad de lluvias de \"+lluvia_manana+\" % \\n\";\nmsg.payload +=\"Fecha de elaboracion: \"+fecha+ \"\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2847.9432525634766,
        "y": 3841.8894062042236,
        "wires": [
            [
                "ea855249.bbfb4"
            ]
        ]
    },
    {
        "id": "ea855249.bbfb4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3035.9437980651855,
        "y": 3841.889298439026,
        "wires": []
    },
    {
        "id": "9bf8031.eef59",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\n\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].prob_precipitacion[cont]._;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2665.9430046081543,
        "y": 3834.8894901275635,
        "wires": [
            [
                "bd8530bd.c1a18",
                "fb46802a.a376a"
            ]
        ]
    },
    {
        "id": "bd8530bd.c1a18",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2830.9432983398438,
        "y": 3773.8894577026367,
        "wires": [
            []
        ]
    },
    {
        "id": "7dfd54e8.4283cc",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "convierto en globales las variables que necesito",
        "info": "",
        "x": 3008.94287109375,
        "y": 3714.8896484375,
        "wires": []
    },
    {
        "id": "16ddc454.627e1c",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Las junto todas en esta funcion y lo envio a telegram",
        "info": "",
        "x": 3092.94384765625,
        "y": 3786.8896265029907,
        "wires": []
    },
    {
        "id": "374c8e11.da41e2",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "estado cielo pasado mañana",
        "rules": [
            {
                "t": "set",
                "p": "cielo_pasado_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[2].estado_cielo[0].$.descripcion",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2681.6997604370117,
        "y": 3917.524196624756,
        "wires": [
            []
        ]
    },
    {
        "id": "2bf11b57.f286a4",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "lluvia pasado mañana",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_pasado_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[2].prob_precipitacion[0]._",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2695.699577331543,
        "y": 4020.524196624756,
        "wires": [
            [
                "215d4a1f.a23596"
            ]
        ]
    },
    {
        "id": "8cf4029.dce73",
        "type": "http request",
        "z": "cb95b8f7.9b4968",
        "name": "AEMET http request",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.aemet.es/xml/municipios/localidad_29067.xml",
        "tls": "",
        "x": 2056.699317932129,
        "y": 3845.524015323026,
        "wires": [
            [
                "619f7a85.e0c144"
            ]
        ]
    },
    {
        "id": "619f7a85.e0c144",
        "type": "xml",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 2413.6993675231934,
        "y": 3869.5238332748413,
        "wires": [
            [
                "7e4f498d.5c7548",
                "1775be81.d88c51",
                "374c8e11.da41e2",
                "2bf11b57.f286a4"
            ]
        ]
    },
    {
        "id": "7e4f498d.5c7548",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "fecha elaboracion",
        "rules": [
            {
                "t": "set",
                "p": "fecha",
                "pt": "global",
                "to": "payload.root.elaborado[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2699.999687194824,
        "y": 3966.524196624756,
        "wires": [
            []
        ]
    },
    {
        "id": "215d4a1f.a23596",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var cielo_pasado_manana = global.get(\"cielo_pasado_manana\");\nvar lluvia_pasado_manana = global.get(\"lluvia_pasado_manana\")\nvar fecha = global.get(\"fecha\")\nvar periodo = global.get(\"periodo\")\nmsg.payload.chatId =  1308127721;\nmsg.payload = \"Pasado mañana tendremos el cielo \"+cielo_pasado_manana+\" y con una probabilidad de lluvias de \"+lluvia_pasado_manana+\" % \\n\";\nmsg.payload +=\"Fecha de elaboracion: \"+fecha+ \"\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2903.999439239502,
        "y": 4132.524440765381,
        "wires": [
            [
                "7650de0f.8691e"
            ]
        ]
    },
    {
        "id": "7650de0f.8691e",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3091.9999504089355,
        "y": 4052.5239419937134,
        "wires": []
    },
    {
        "id": "1775be81.d88c51",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\n\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].prob_precipitacion[cont]._;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2687.9990730285645,
        "y": 4110.524440765381,
        "wires": [
            [
                "9f7a91fd.20093"
            ]
        ]
    },
    {
        "id": "9f7a91fd.20093",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2886.9996223449707,
        "y": 4042.5243186950684,
        "wires": [
            []
        ]
    },
    {
        "id": "da5c7d1e.a5f53",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Las junto todas en esta funcion y lo envio a telegram",
        "info": "",
        "x": 3149,
        "y": 3997.524270057678,
        "wires": []
    },
    {
        "id": "c83e3c7c.cb59a",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4722.999782562256,
        "y": 2105.1895780563354,
        "wires": []
    },
    {
        "id": "457d6c11.47a634",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/configuracion",
        "bot": "407d7e26.e9903",
        "command": "/configuracion",
        "commandType": "str",
        "commandCase": false,
        "x": 3656.055461883545,
        "y": 2139.5371351242065,
        "wires": [
            [
                "ab8e164d.ee7308"
            ]
        ]
    },
    {
        "id": "ab8e164d.ee7308",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch pwm",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que tiempo de pwm de datos quieres?",
        "answers": [
            "5 milisegundos",
            "10 milisegundos",
            "100 milisegundos",
            "200 milisegundos",
            "500 milisegundos"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3892.055419921875,
        "y": 2141.3154296875,
        "wires": [
            [
                "63ea9d1a.cf3584"
            ],
            [
                "415a3313.3c5e9c"
            ],
            [
                "86ce6549.76e5a8"
            ],
            [
                "5d571336.28f5ec"
            ],
            [
                "a9e7ece5.54069"
            ],
            [
                "a05054d2.c20f18"
            ]
        ]
    },
    {
        "id": "63ea9d1a.cf3584",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "5 milisegundos",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"velocidad\": 5};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4173.951984405518,
        "y": 1991.2034130096436,
        "wires": [
            [
                "c83e3c7c.cb59a",
                "379e168c.d1ec8a",
                "1fa9355a.1b63db",
                "1b774f16.6846c1",
                "f3c10525.d81348",
                "fd13b5a.d216a48"
            ]
        ]
    },
    {
        "id": "415a3313.3c5e9c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "10 milisegundos",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"velocidad\": 10};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4156.055988311768,
        "y": 2075.2034130096436,
        "wires": [
            [
                "c83e3c7c.cb59a",
                "773c997f.10a948",
                "1fa9355a.1b63db",
                "1b774f16.6846c1",
                "f3c10525.d81348",
                "fd13b5a.d216a48"
            ]
        ]
    },
    {
        "id": "86ce6549.76e5a8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "100 milisegundos",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"velocidad\": 100};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4170.055744171143,
        "y": 2153.2034130096436,
        "wires": [
            [
                "eefe58f.6ee97a8",
                "c83e3c7c.cb59a",
                "1fa9355a.1b63db",
                "1b774f16.6846c1",
                "f3c10525.d81348",
                "fd13b5a.d216a48"
            ]
        ]
    },
    {
        "id": "5d571336.28f5ec",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "200 milisegundos",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"velocidad\": 200};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4173.05574798584,
        "y": 2231.203718185425,
        "wires": [
            [
                "c2d23558.53fae8",
                "c83e3c7c.cb59a",
                "1fa9355a.1b63db",
                "1b774f16.6846c1",
                "f3c10525.d81348",
                "fd13b5a.d216a48"
            ]
        ]
    },
    {
        "id": "a9e7ece5.54069",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "500 milisegundos",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 500};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4161.055744171143,
        "y": 2316.4255809783936,
        "wires": [
            [
                "f49a0471.5acb08",
                "c83e3c7c.cb59a",
                "1fa9355a.1b63db",
                "1b774f16.6846c1",
                "f3c10525.d81348",
                "fd13b5a.d216a48"
            ]
        ]
    },
    {
        "id": "eefe58f.6ee97a8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 100 milisegundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 100 milisegundos",
        "parseMode": "",
        "x": 4592.951602935791,
        "y": 1952.0944471359253,
        "wires": []
    },
    {
        "id": "c2d23558.53fae8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 200 milisegundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 200 milisegundos",
        "parseMode": "",
        "x": 4594.951602935791,
        "y": 2003.3163003921509,
        "wires": []
    },
    {
        "id": "f49a0471.5acb08",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 500 milisegundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 500 milisegundos",
        "parseMode": "",
        "x": 4595.951606750488,
        "y": 2047.3158121109009,
        "wires": []
    },
    {
        "id": "379e168c.d1ec8a",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 5 milisegundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 5 milisegundos",
        "parseMode": "",
        "x": 4584.895664215088,
        "y": 1872.00004196167,
        "wires": []
    },
    {
        "id": "773c997f.10a948",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 10 milisegundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 10 milisegundos",
        "parseMode": "",
        "x": 4591.895694732666,
        "y": 1910.9993810653687,
        "wires": []
    },
    {
        "id": "e877a549.b3de08",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "prediccion",
        "links": [
            "cb15f29e.19409"
        ],
        "x": 1593.383056640625,
        "y": 3839.67236328125,
        "wires": [
            [
                "a7907c2b.c3163"
            ]
        ]
    },
    {
        "id": "cb15f29e.19409",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "prediccion",
        "links": [
            "e877a549.b3de08"
        ],
        "x": 588.3907451629639,
        "y": 506.7740993499756,
        "wires": []
    },
    {
        "id": "d76189c4.f958a8",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "pwm",
        "links": [
            "9b8b84cc.45a7c8"
        ],
        "x": 587.3867769241333,
        "y": 549.7620763778687,
        "wires": []
    },
    {
        "id": "9b8b84cc.45a7c8",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "links": [
            "d76189c4.f958a8"
        ],
        "x": 3719.378837585449,
        "y": 2076.3379101753235,
        "wires": [
            [
                "ab8e164d.ee7308"
            ]
        ]
    },
    {
        "id": "d29ece94.508c2",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "apagar",
        "links": [
            "f58f4eb2.9c82b"
        ],
        "x": 427.3828411102295,
        "y": 175.76206398010254,
        "wires": []
    },
    {
        "id": "f58f4eb2.9c82b",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "apagar",
        "links": [
            "d29ece94.508c2"
        ],
        "x": 85.39062690734863,
        "y": 2809.6684188842773,
        "wires": [
            [
                "859317dc.9f0a78"
            ]
        ]
    },
    {
        "id": "21016206.b5dd6e",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "estado",
        "links": [
            "2f01c318.49a34c"
        ],
        "x": 428.3828411102295,
        "y": 224.7737865447998,
        "wires": []
    },
    {
        "id": "2f01c318.49a34c",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "links": [
            "21016206.b5dd6e"
        ],
        "x": 3624.3905391693115,
        "y": 171.42194747924805,
        "wires": [
            [
                "8e9de4d1.546c88"
            ]
        ]
    },
    {
        "id": "2da6427c.cd1ffe",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "encender",
        "links": [
            "11b60e06.4cf392"
        ],
        "x": 424.37500953674316,
        "y": 129.52378463745117,
        "wires": []
    },
    {
        "id": "11b60e06.4cf392",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "encender",
        "links": [
            "2da6427c.cd1ffe"
        ],
        "x": 494.3789014816284,
        "y": 1200.406244277954,
        "wires": [
            [
                "1147cc5.9871434"
            ]
        ]
    },
    {
        "id": "bf552559.114678",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Elige el nivel de la cocina",
        "info": "e",
        "x": 912.7656364440918,
        "y": 149.75002670288086,
        "wires": []
    },
    {
        "id": "37438434.d4ce5c",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Elige el nivel de la habitacion",
        "info": "e",
        "x": 960.7656364440918,
        "y": 669.7500267028809,
        "wires": []
    },
    {
        "id": "c620be2b.2ae55",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Elige el nivel del salon",
        "info": "e",
        "x": 1039.7656364440918,
        "y": 1112.7500839233398,
        "wires": []
    },
    {
        "id": "a3f393de.71fe6",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Elige el nivel del baño",
        "info": "e",
        "x": 1007.765739440918,
        "y": 1502.7500190734863,
        "wires": []
    },
    {
        "id": "b21c0293.b808d",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Elige el nivel de todas las habitaciones",
        "info": "e",
        "x": 1101.7655944824219,
        "y": 1964.749987602234,
        "wires": []
    },
    {
        "id": "11d8b1ef.8336de",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "velocidad de respuesta del pwm",
        "info": "",
        "x": 3896.1405296325684,
        "y": 2035.263632774353,
        "wires": []
    },
    {
        "id": "c774b358.9f54b",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Cocina",
        "info": "",
        "x": 4166.849422454834,
        "y": 4078.252639770508,
        "wires": []
    },
    {
        "id": "4706c050.7fa16",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Salón",
        "info": "",
        "x": 4127.09871673584,
        "y": 4300.251315116882,
        "wires": []
    },
    {
        "id": "7954da83.84b3b4",
        "type": "ui_led",
        "z": "cb95b8f7.9b4968",
        "group": "40706f5a.d9a34",
        "order": 5,
        "width": "5",
        "height": "2",
        "label": "Puerta abierta (ROJO) / Puerta cerrada (VERDE)",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 749.0992736816406,
        "y": 4587.107772827148,
        "wires": []
    },
    {
        "id": "12ba3f89.7999e",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Temp/Hum salon",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4092.098747253418,
        "y": 4350.251691818237,
        "wires": [
            [
                "edccf713.ad6718",
                "b5337d71.06826"
            ],
            [
                "f37aa1dd.ebfc2",
                "6f9e6369.c51b6c"
            ],
            [
                "cbb7c344.b0072",
                "568d73f8.40590c"
            ]
        ]
    },
    {
        "id": "4fef3862.ad0138",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Temp/Hum cocina",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4158.098747253418,
        "y": 4132.251684188843,
        "wires": [
            [
                "79edbba8.e4cd34",
                "29d19b80.4fa154"
            ],
            [
                "72154587.a2e61c",
                "5da5a2e.6e6025c"
            ],
            [
                "a87f8c83.2d17",
                "8cc2e7c1.7d3428"
            ]
        ]
    },
    {
        "id": "274e3013.bc44b",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Puerta",
        "func": "var puerta = msg.payload.VL53L0X;\nif (puerta <= 100 )\n\nmsg={\"payload\": 1 , \"topic\": \"Puerta\"};\n\nelse\n\nmsg={\"payload\": 0 , \"topic\": \"Puerta\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 582.0989685058594,
        "y": 4573.250874519348,
        "wires": [
            [
                "7954da83.84b3b4"
            ]
        ]
    },
    {
        "id": "86f4d3e9.8a15a",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "salon",
        "links": [
            "4f303d73.1f84a4"
        ],
        "x": 529.3867444992065,
        "y": 4090.0201711654663,
        "wires": []
    },
    {
        "id": "4f303d73.1f84a4",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "salon",
        "links": [
            "86f4d3e9.8a15a"
        ],
        "x": 3911.7120265960693,
        "y": 4343.911848068237,
        "wires": [
            [
                "12ba3f89.7999e"
            ]
        ]
    },
    {
        "id": "70be20a3.64df1",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "cocina",
        "links": [
            "51d85ba7.2ec0b4"
        ],
        "x": 504.7656373977661,
        "y": 3820.2502975463867,
        "wires": []
    },
    {
        "id": "51d85ba7.2ec0b4",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "cocina",
        "links": [
            "70be20a3.64df1"
        ],
        "x": 4006.090892791748,
        "y": 4127.14248085022,
        "wires": [
            [
                "4fef3862.ad0138"
            ]
        ]
    },
    {
        "id": "a87f8c83.2d17",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "12ab21eb.8662ce",
        "order": 6,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "cocina",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4386.666748046875,
        "y": 4172.002154350281,
        "wires": []
    },
    {
        "id": "cbb7c344.b0072",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "12ab21eb.8662ce",
        "order": 9,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "salon",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4278.666328430176,
        "y": 4382.001319885254,
        "wires": []
    },
    {
        "id": "f4a80023.24e54",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "------------------DASHBOARD------------------",
        "info": "",
        "x": 4347.333099365234,
        "y": 3971.334536552429,
        "wires": []
    },
    {
        "id": "a5ef099c.9e7978",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "------------------RECOGIDA DE DATOS------------------",
        "info": "",
        "x": 445.6666564941406,
        "y": 3702.33349609375,
        "wires": []
    },
    {
        "id": "1a34c159.e72d5f",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "------------------PREDICCION------------------",
        "info": "",
        "x": 2136.191162109375,
        "y": 3571.0001220703125,
        "wires": []
    },
    {
        "id": "e1abfd3.e3371",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "------------------DESCARGA EXCEL------------------",
        "info": "",
        "x": 2979.0000228881836,
        "y": 4342.26563167572,
        "wires": []
    },
    {
        "id": "7e031aca.a91f94",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "tiempo respuesta",
        "info": "e",
        "x": 4038.0478591918945,
        "y": 2637,
        "wires": []
    },
    {
        "id": "21430828.fed9f8",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch bienvenida",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Aqui tienes mas opciones",
        "answers": [
            "actualizacion",
            "Prediccion",
            "Configuracion"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 409.76563262939453,
        "y": 524.7499923706055,
        "wires": [
            [
                "36cc2359.456fec"
            ],
            [
                "cb15f29e.19409"
            ],
            [
                "d76189c4.f958a8"
            ],
            []
        ]
    },
    {
        "id": "14bef70d.e44c99",
        "type": "delay",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 187.00000762939453,
        "y": 501.37889289855957,
        "wires": [
            [
                "21430828.fed9f8",
                "e7fc1db6.9f751"
            ]
        ]
    },
    {
        "id": "4cdf5ddb.a5bd84",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/switch",
        "bot": "407d7e26.e9903",
        "command": "/switch",
        "commandType": "str",
        "commandCase": false,
        "x": 3589.7668647766113,
        "y": 881.4158964157104,
        "wires": [
            [
                "73c4e719.c67c48"
            ]
        ]
    },
    {
        "id": "9452d6de.0fc118",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4177.7663497924805,
        "y": 553.4158697128296,
        "wires": [
            [
                "effe05b6.9a2da8"
            ]
        ]
    },
    {
        "id": "92943829.39cfd8",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch switch salon",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el switch del salon?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3951.765884399414,
        "y": 546.4158563613892,
        "wires": [
            [
                "9452d6de.0fc118"
            ],
            [
                "693b6866.4ba6a8"
            ],
            [
                "a470b136.a9406"
            ]
        ]
    },
    {
        "id": "693b6866.4ba6a8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4187.765983581543,
        "y": 607.4158554077148,
        "wires": [
            [
                "38069256.1ba42e"
            ]
        ]
    },
    {
        "id": "c61d927d.41461",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4641.266563415527,
        "y": 561.3064956665039,
        "wires": []
    },
    {
        "id": "b5f507f5.fc4758",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "switch",
        "links": [
            "4f28daf5.11d2e4"
        ],
        "x": 3596.266366958618,
        "y": 825.4159288406372,
        "wires": [
            [
                "73c4e719.c67c48"
            ]
        ]
    },
    {
        "id": "effe05b6.9a2da8",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4347.16703414917,
        "y": 539.6658716201782,
        "wires": [
            [
                "c61d927d.41461",
                "9913f7a.ad7e608"
            ]
        ]
    },
    {
        "id": "38069256.1ba42e",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4368.166858673096,
        "y": 598.6658487319946,
        "wires": [
            [
                "c61d927d.41461",
                "90db2a8e.b6d208"
            ]
        ]
    },
    {
        "id": "90db2a8e.b6d208",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha encendido el led del salon",
        "parseMode": "",
        "x": 4581.000389099121,
        "y": 612.665867805481,
        "wires": []
    },
    {
        "id": "9913f7a.ad7e608",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha apagado el led del salon",
        "parseMode": "",
        "x": 4567.000389099121,
        "y": 509.6658983230591,
        "wires": []
    },
    {
        "id": "da034814.187f98",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4186.3336181640625,
        "y": 667.6658754348755,
        "wires": [
            [
                "6a18a158.d0484"
            ]
        ]
    },
    {
        "id": "6a18a158.d0484",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4372.33362197876,
        "y": 663.6658754348755,
        "wires": [
            [
                "c61d927d.41461"
            ]
        ]
    },
    {
        "id": "c116d5d7.1bacb8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio dashboard salon",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4222.000732421875,
        "y": 4458.334928512573,
        "wires": [
            [
                "d753082b.d4e938"
            ]
        ]
    },
    {
        "id": "d753082b.d4e938",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4399.000049591064,
        "y": 4467.334391593933,
        "wires": [
            [
                "9dfefd7c.120e2"
            ]
        ]
    },
    {
        "id": "8a126b80.7fff28",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio dashboard cocina",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4170.000129699707,
        "y": 4231.334922790527,
        "wires": [
            [
                "87fda46.2528058"
            ]
        ]
    },
    {
        "id": "87fda46.2528058",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4355.000045776367,
        "y": 4233.334383964539,
        "wires": [
            [
                "83e89818.620b18"
            ]
        ]
    },
    {
        "id": "2b0ae29b.974f7e",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio dashboard habitacion",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4154.0006103515625,
        "y": 4701.334774017334,
        "wires": [
            [
                "6b725be.8c546a4"
            ]
        ]
    },
    {
        "id": "6b725be.8c546a4",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4363.000793457031,
        "y": 4709.334991455078,
        "wires": [
            [
                "8afe0627.e0ecb8"
            ]
        ]
    },
    {
        "id": "f74eb208.42cc7",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio dashboard baño",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4109.0007247924805,
        "y": 4979.334458351135,
        "wires": [
            [
                "a8ea8d54.d8d07"
            ]
        ]
    },
    {
        "id": "a8ea8d54.d8d07",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4277.000347137451,
        "y": 4950.334285736084,
        "wires": [
            [
                "ecd0a62f.f3ce88"
            ]
        ]
    },
    {
        "id": "83e89818.620b18",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4610.000717163086,
        "y": 4229.3351402282715,
        "wires": []
    },
    {
        "id": "8afe0627.e0ecb8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4587.000637054443,
        "y": 4677.334882736206,
        "wires": []
    },
    {
        "id": "ecd0a62f.f3ce88",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4545.0003662109375,
        "y": 4959.334384918213,
        "wires": []
    },
    {
        "id": "9dfefd7c.120e2",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4660.00048828125,
        "y": 4449.333984375,
        "wires": []
    },
    {
        "id": "a56bb1fb.e22ce",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "Habitación",
        "info": "",
        "x": 4106.43172454834,
        "y": 4540.001377105713,
        "wires": []
    },
    {
        "id": "11bf83e6.fc9e6c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Temp/Hum habitacion",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4083.4317474365234,
        "y": 4599.001699447632,
        "wires": [
            [
                "400e471c.5ecbd8",
                "679820b7.94a32"
            ],
            [
                "42e5c119.e5584",
                "9e7ad52.dab1828"
            ],
            [
                "d64864d9.60fd18",
                "3acb5995.929526"
            ]
        ]
    },
    {
        "id": "ab6c18be.25a608",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "habitacion",
        "links": [
            "6b1bace2.f41fe4"
        ],
        "x": 3899.0450286865234,
        "y": 4587.661855697632,
        "wires": [
            [
                "11bf83e6.fc9e6c"
            ]
        ]
    },
    {
        "id": "d64864d9.60fd18",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "12ab21eb.8662ce",
        "order": 3,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "habitacion",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4333.000144958496,
        "y": 4635.751111030579,
        "wires": []
    },
    {
        "id": "6b1bace2.f41fe4",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "habitacion",
        "links": [
            "ab6c18be.25a608"
        ],
        "x": 509.99998474121094,
        "y": 3924.6667795181274,
        "wires": []
    },
    {
        "id": "f7675c4e.40c6e",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/Peligro",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 145,
        "y": 4671.000350952148,
        "wires": [
            [
                "bb0eeddb.2ad7"
            ]
        ]
    },
    {
        "id": "bb0eeddb.2ad7",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 392.00003814697266,
        "y": 4670.000350952148,
        "wires": [
            [
                "4992c3d4.12d01c",
                "774fc63b.8ccba8",
                "3dbb683.44e2298",
                "b9106d54.92888",
                "8a964ecf.f31f1",
                "19187536.0e720b"
            ]
        ]
    },
    {
        "id": "4992c3d4.12d01c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "CO",
        "func": "var CO=msg.payload.CO\n\n\nif (CO == 1)\nmsg.payload = \"peligro bajo de CO en la cocina\"\nif (CO == 2)\nmsg.payload =\"peligro medio de CO en la cocina\"\nif (CO == 3)\nmsg.payload=\"peligro alto de CO en la cocina\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 558.833366394043,
        "y": 4633.333879470825,
        "wires": [
            [
                "467d82e6.1802ac"
            ]
        ]
    },
    {
        "id": "467d82e6.1802ac",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 750.0001449584961,
        "y": 4673.3337116241455,
        "wires": []
    },
    {
        "id": "774fc63b.8ccba8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta CO",
        "func": "var CO=msg.payload.CO\n\nif (CO === 0)\nmsg.payload = 0\nif (CO == 1)\nmsg.payload = 1\nif (CO == 2)\nmsg.payload = 2\nif (CO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 587.0000457763672,
        "y": 4786.000061035156,
        "wires": [
            [
                "3989e89.2d5f318"
            ]
        ]
    },
    {
        "id": "3989e89.2d5f318",
        "type": "ui_led",
        "z": "cb95b8f7.9b4968",
        "group": "a5a62931.5d2068",
        "order": 4,
        "width": "2",
        "height": "2",
        "label": "CO",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 781.0000762939453,
        "y": 4782.000360488892,
        "wires": []
    },
    {
        "id": "3dbb683.44e2298",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta LPG",
        "func": "var LPG=msg.payload.LPG\n\nif (LPG === 0)\nmsg.payload = 0\nif (LPG == 1)\nmsg.payload = 1\nif (LPG == 2)\nmsg.payload = 2\nif (LPG == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 594.8334007263184,
        "y": 4825.333696365356,
        "wires": [
            [
                "1c1e317a.47347f"
            ]
        ]
    },
    {
        "id": "1c1e317a.47347f",
        "type": "ui_led",
        "z": "cb95b8f7.9b4968",
        "group": "a5a62931.5d2068",
        "order": 4,
        "width": "2",
        "height": "2",
        "label": "LPG",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 778.0000762939453,
        "y": 4820.333696365356,
        "wires": []
    },
    {
        "id": "b9106d54.92888",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta HUMO",
        "func": "var HUMO=msg.payload.Humo\n\nif (HUMO === 0)\nmsg.payload = 0\nif (HUMO == 1)\nmsg.payload = 1\nif (HUMO == 2)\nmsg.payload = 2\nif (HUMO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.0000686645508,
        "y": 4865.333696365356,
        "wires": [
            [
                "4a595e17.8f31d"
            ]
        ]
    },
    {
        "id": "4a595e17.8f31d",
        "type": "ui_led",
        "z": "cb95b8f7.9b4968",
        "group": "a5a62931.5d2068",
        "order": 4,
        "width": "2",
        "height": "2",
        "label": "Humo",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 774.0000762939453,
        "y": 4866.333698272705,
        "wires": []
    },
    {
        "id": "15ba61a2.c9015e",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4822.16618347168,
        "y": 2861.0003986358643,
        "wires": []
    },
    {
        "id": "1fa9355a.1b63db",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4708.007106781006,
        "y": 2152.554690361023,
        "wires": []
    },
    {
        "id": "7ab88b5e.bba644",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch actualiza",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Y por último, ¿Que tiempo de actualizacion de datos quieres?",
        "answers": [
            "manual",
            "60 minutos",
            "120 minutos",
            "240 minutos"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4163.499588012695,
        "y": 3029.445022583008,
        "wires": [
            [
                "715ff481.69ba0c"
            ],
            [
                "8357de8e.3815b"
            ],
            [
                "d8108a44.2735f8"
            ],
            [
                "e922eb64.e20188"
            ],
            [
                "134523b6.9820dc"
            ]
        ]
    },
    {
        "id": "8357de8e.3815b",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "60 minutos",
        "func": "\n\nmsg.payload= {\"actualiza\": 60};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4368.395332336426,
        "y": 3026.332962036133,
        "wires": [
            [
                "84b4f6ce.23cd68",
                "f6a87b56.634fa8",
                "b5804f8a.095af",
                "3dab7131.eba62e",
                "ee7921f6.0d18b",
                "d793c1f6.c2778"
            ]
        ]
    },
    {
        "id": "d8108a44.2735f8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "120 minutos",
        "func": "\n\nmsg.payload= {\"actualiza\": 120};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4375.499336242676,
        "y": 3122.332962036133,
        "wires": [
            [
                "546767f5.ac4728",
                "f6a87b56.634fa8",
                "b5804f8a.095af",
                "3dab7131.eba62e",
                "ee7921f6.0d18b",
                "d793c1f6.c2778"
            ]
        ]
    },
    {
        "id": "e922eb64.e20188",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "240 minutos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"actualiza\": 240};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4383.499336242676,
        "y": 3216.332962036133,
        "wires": [
            [
                "da73c84c.f63498",
                "f6a87b56.634fa8",
                "b5804f8a.095af",
                "3dab7131.eba62e",
                "ee7921f6.0d18b",
                "d793c1f6.c2778"
            ]
        ]
    },
    {
        "id": "715ff481.69ba0c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "manual",
        "func": "\nmsg.payload= {\"actualiza\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4367.499824523926,
        "y": 2941.332962036133,
        "wires": [
            [
                "cbeabd7b.e1c52",
                "f6a87b56.634fa8",
                "b5804f8a.095af",
                "3dab7131.eba62e",
                "ee7921f6.0d18b",
                "d793c1f6.c2778"
            ]
        ]
    },
    {
        "id": "c2d6979b.e0cfb8",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "tiempo respuesta",
        "info": "e",
        "x": 4173.499588012695,
        "y": 2954.554885864258,
        "wires": []
    },
    {
        "id": "cbeabd7b.e1c52",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta manual",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion manual",
        "parseMode": "",
        "x": 4711.388496398926,
        "y": 2919.556106567383,
        "wires": []
    },
    {
        "id": "84b4f6ce.23cd68",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 60 minutos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion en 60 minutos",
        "parseMode": "",
        "x": 4733.388496398926,
        "y": 3015.556106567383,
        "wires": []
    },
    {
        "id": "546767f5.ac4728",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 120 minutos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion en 120 minutos",
        "parseMode": "",
        "x": 4722.388496398926,
        "y": 3107.556106567383,
        "wires": []
    },
    {
        "id": "da73c84c.f63498",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta 240 minutos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion en 240 minutos",
        "parseMode": "",
        "x": 4745.388496398926,
        "y": 3188.556106567383,
        "wires": []
    },
    {
        "id": "f6a87b56.634fa8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4785.000312805176,
        "y": 2967.778274536133,
        "wires": []
    },
    {
        "id": "b5804f8a.095af",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4790.000312805176,
        "y": 3067.014358520508,
        "wires": []
    },
    {
        "id": "8a964ecf.f31f1",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": " LPG",
        "func": "var LPG = msg.payload.LPG\n\nif (LPG == 1)\nmsg.payload = \"peligro bajo de LPG en la cocina\"\nif (LPG == 2)\nmsg.payload = \"peligro medio de LPG en la cocina\"\nif (LPG == 3)\nmsg.payload = \"peligro alto de LPG en la cocina\"\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 571.1702041625977,
        "y": 4666.541933059692,
        "wires": [
            [
                "467d82e6.1802ac"
            ]
        ]
    },
    {
        "id": "19187536.0e720b",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Humo",
        "func": "var Humo = msg.payload.Humo\n\nif (Humo == 1)\nmsg.payload = \"peligro bajo de Humo en la cocina\"\nif (Humo == 2)\nmsg.payload = \"peligro medio de Humo en la cocina\"\nif (Humo == 3)\nmsg.payload = \"peligro alto de Humo en la cocina\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 578.1597709655762,
        "y": 4703.538471221924,
        "wires": [
            [
                "467d82e6.1802ac"
            ]
        ]
    },
    {
        "id": "3f810c35.5ee464",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/Peligro",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 1035.2293395996094,
        "y": 4677.6680908203125,
        "wires": [
            [
                "db78611a.55afc"
            ]
        ]
    },
    {
        "id": "db78611a.55afc",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1238.6736755371094,
        "y": 4737.6671142578125,
        "wires": [
            [
                "3416710d.eb207e",
                "b75615.982839e8",
                "f673f4a3.ed04d8",
                "72eb720f.fb5f8c",
                "934c894a.987d98",
                "44e07b26.f85934"
            ]
        ]
    },
    {
        "id": "3416710d.eb207e",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "CO",
        "func": "var CO=msg.payload.CO\n\n\nif (CO == 1)\nmsg.payload = \"peligro bajo de CO en el salon\"\nif (CO == 2)\nmsg.payload =\"peligro medio de CO en el salon\"\nif (CO == 3)\nmsg.payload=\"peligro alto de CO en el salon\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1404.5070114135742,
        "y": 4640.000534057617,
        "wires": [
            [
                "3eed4da3.c766c2"
            ]
        ]
    },
    {
        "id": "3eed4da3.c766c2",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 1604.6737976074219,
        "y": 4670.0006103515625,
        "wires": []
    },
    {
        "id": "b75615.982839e8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta CO",
        "func": "var CO=msg.payload.CO\n\nif (CO === 0)\nmsg.payload = 0\nif (CO == 1)\nmsg.payload = 1\nif (CO == 2)\nmsg.payload = 2\nif (CO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1432.6736907958984,
        "y": 4792.666715621948,
        "wires": [
            [
                "a7354d33.375e"
            ]
        ]
    },
    {
        "id": "a7354d33.375e",
        "type": "ui_led",
        "z": "cb95b8f7.9b4968",
        "group": "40706f5a.d9a34",
        "order": 6,
        "width": "2",
        "height": "2",
        "label": "CO",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1631.6736755371094,
        "y": 4760.6671142578125,
        "wires": []
    },
    {
        "id": "f673f4a3.ed04d8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta LPG",
        "func": "var LPG=msg.payload.LPG\n\nif (LPG === 0)\nmsg.payload = 0\nif (LPG == 1)\nmsg.payload = 1\nif (LPG == 2)\nmsg.payload = 2\nif (LPG == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1440.5070457458496,
        "y": 4832.000350952148,
        "wires": [
            [
                "832f99a5.4ee1b8"
            ]
        ]
    },
    {
        "id": "832f99a5.4ee1b8",
        "type": "ui_led",
        "z": "cb95b8f7.9b4968",
        "group": "40706f5a.d9a34",
        "order": 7,
        "width": "2",
        "height": "2",
        "label": "LPG",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1630.6736755371094,
        "y": 4798.0001220703125,
        "wires": []
    },
    {
        "id": "72eb720f.fb5f8c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta HUMO",
        "func": "var HUMO=msg.payload.Humo\n\nif (HUMO === 0)\nmsg.payload = 0\nif (HUMO == 1)\nmsg.payload = 1\nif (HUMO == 2)\nmsg.payload = 2\nif (HUMO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1453.673713684082,
        "y": 4872.000350952148,
        "wires": [
            [
                "44b2056b.a87a6c"
            ]
        ]
    },
    {
        "id": "44b2056b.a87a6c",
        "type": "ui_led",
        "z": "cb95b8f7.9b4968",
        "group": "40706f5a.d9a34",
        "order": 8,
        "width": "2",
        "height": "2",
        "label": "Humo",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1632.6736755371094,
        "y": 4838.0001220703125,
        "wires": []
    },
    {
        "id": "934c894a.987d98",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": " LPG",
        "func": "var LPG = msg.payload.LPG\n\nif (LPG == 1)\nmsg.payload = \"peligro bajo de LPG en el salon\"\nif (LPG == 2)\nmsg.payload = \"peligro medio de LPG en el salon\"\nif (LPG == 3)\nmsg.payload = \"peligro alto de LPG en el salon\"\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1416.843849182129,
        "y": 4673.208587646484,
        "wires": [
            [
                "3eed4da3.c766c2"
            ]
        ]
    },
    {
        "id": "44e07b26.f85934",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Humo",
        "func": "var Humo = msg.payload.Humo\n\nif (Humo == 1)\nmsg.payload = \"peligro bajo de Humo en el salon\"\nif (Humo == 2)\nmsg.payload = \"peligro medio de Humo en el salon\"\nif (Humo == 3)\nmsg.payload = \"peligro alto de Humo en el salon\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1423.8334159851074,
        "y": 4710.205125808716,
        "wires": [
            [
                "3eed4da3.c766c2"
            ]
        ]
    },
    {
        "id": "3b8dc5d9.072b1a",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "calidad del aire del salon",
        "info": "",
        "x": 1067.0071258544922,
        "y": 4636.667049407959,
        "wires": []
    },
    {
        "id": "92895839.b47bf8",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/actualiza",
        "bot": "407d7e26.e9903",
        "command": "/actualiza",
        "commandType": "str",
        "commandCase": false,
        "x": 2175.055519104004,
        "y": 244.66705131530762,
        "wires": [
            [
                "63bb9626.deb568"
            ]
        ]
    },
    {
        "id": "63bb9626.deb568",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch actualiza",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Esta seguro de que quiere actualizar?",
        "answers": [
            "Sí",
            "Me lo he pensado mejor..."
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2354.055519104004,
        "y": 241.66705131530762,
        "wires": [
            [
                "545da1e.9791d6",
                "8d1674e1.a8b408"
            ],
            [
                "c89fc3ff.54b94"
            ],
            [
                "7dd89dfa.86cc94"
            ]
        ]
    },
    {
        "id": "8a40f65f.5fa9e8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/FOTA",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 2881.500099182129,
        "y": 276.6670513153076,
        "wires": []
    },
    {
        "id": "d9daa3a0.d1586",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/FOTA",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 2883.500099182129,
        "y": 337.6670513153076,
        "wires": []
    },
    {
        "id": "c89fc3ff.54b94",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta no",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha cancelado la actualizacion",
        "parseMode": "",
        "x": 2587.500099182129,
        "y": 283.6675395965576,
        "wires": []
    },
    {
        "id": "545da1e.9791d6",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "respuesta si",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se va a actualizar",
        "parseMode": "",
        "x": 2596.500099182129,
        "y": 173.66705131530762,
        "wires": []
    },
    {
        "id": "b06e9552.300f08",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "actualiza2",
        "links": [
            "36cc2359.456fec"
        ],
        "x": 2211.833106994629,
        "y": 197.77813529968262,
        "wires": [
            [
                "63bb9626.deb568"
            ]
        ]
    },
    {
        "id": "36cc2359.456fec",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "actualiza",
        "links": [
            "b06e9552.300f08"
        ],
        "x": 583.8958101272583,
        "y": 451.8888988494873,
        "wires": []
    },
    {
        "id": "8d1674e1.a8b408",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "actualiza true",
        "func": "msg.payload = {\"actualiza\": true}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2590.437110900879,
        "y": 230.64263725280762,
        "wires": [
            [
                "8a40f65f.5fa9e8",
                "d9daa3a0.d1586",
                "bb2425c6.c067e8",
                "87cfe47e.6abf78"
            ]
        ]
    },
    {
        "id": "1567217.52944df",
        "type": "mongodb out",
        "z": "cb95b8f7.9b4968",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 887.8958587646484,
        "y": 3773.2224435806274,
        "wires": []
    },
    {
        "id": "6056564b.f9cab8",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "baño",
        "info": "",
        "x": 4071.3331985473633,
        "y": 4806.334994316101,
        "wires": []
    },
    {
        "id": "17762f40.1fbe91",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Temp/Hum baño",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4061.3329849243164,
        "y": 4867.335066795349,
        "wires": [
            [
                "6bacdbff.b00db4",
                "cd2636e.5c59bc8"
            ],
            [
                "fb10f6f5.039308",
                "2f3fbfb0.7d5a9"
            ],
            [
                "3989a12f.370a7e",
                "b5bb4083.b4dcf"
            ]
        ]
    },
    {
        "id": "b9c79372.b6124",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "baño",
        "links": [
            "52691fec.0f5d3"
        ],
        "x": 3896.9462661743164,
        "y": 4855.995223045349,
        "wires": [
            [
                "17762f40.1fbe91"
            ]
        ]
    },
    {
        "id": "3989a12f.370a7e",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "12ab21eb.8662ce",
        "order": 3,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "baño",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4297.9006996154785,
        "y": 4908.084046363831,
        "wires": []
    },
    {
        "id": "52691fec.0f5d3",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "baño",
        "links": [
            "b9c79372.b6124"
        ],
        "x": 523.5000281333923,
        "y": 4012.000069618225,
        "wires": []
    },
    {
        "id": "84799ccf.adcab",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/TemperaturaMax",
        "bot": "407d7e26.e9903",
        "command": "/TemperaturaMax",
        "commandType": "str",
        "commandCase": false,
        "x": 2195.3334350585938,
        "y": 735.33349609375,
        "wires": [
            [
                "304e353a.0cc91a"
            ]
        ]
    },
    {
        "id": "304e353a.0cc91a",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch temperatura",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Por favor elija la temperatura a la que quiere que le avisemos si se supera",
        "answers": [
            "30º ",
            "40º",
            "50º",
            "60º (No recomendado)"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2420.6668376922607,
        "y": 735.3334970474243,
        "wires": [
            [
                "f657569f.6275e8"
            ],
            [
                "5c4b6083.f69e"
            ],
            [
                "54445bc8.201534"
            ],
            [
                "f7dcb9ff.af3098"
            ],
            [
                "b4486999.46f638"
            ]
        ]
    },
    {
        "id": "dd070f69.86a6c",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura 30",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 30º",
        "parseMode": "",
        "x": 2870.000244140625,
        "y": 564.33349609375,
        "wires": []
    },
    {
        "id": "6d653d04.ac03c4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 732.3333206176758,
        "y": 1226.000005722046,
        "wires": []
    },
    {
        "id": "53f2c27b.9ebdec",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1043.3333435058594,
        "y": 856.0000257492065,
        "wires": []
    },
    {
        "id": "58601cce.9799b4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1074.3334045410156,
        "y": 1287.0000429153442,
        "wires": []
    },
    {
        "id": "25b9a65d.3140ba",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1011.333423614502,
        "y": 1702.0000972747803,
        "wires": []
    },
    {
        "id": "4ca72c63.b0a8f4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1063.3334045410156,
        "y": 2225.333320617676,
        "wires": []
    },
    {
        "id": "3492e6bb.e41d4a",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 447.333309173584,
        "y": 2969.333613395691,
        "wires": []
    },
    {
        "id": "b4486999.46f638",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2475.000171661377,
        "y": 820.3334999084473,
        "wires": []
    },
    {
        "id": "7dd89dfa.86cc94",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2416.667091369629,
        "y": 327.3337993621826,
        "wires": []
    },
    {
        "id": "134523b6.9820dc",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4178.667045593262,
        "y": 3106.333915710449,
        "wires": []
    },
    {
        "id": "aca70d84.c861f",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4068.6668701171875,
        "y": 2797.3334999084473,
        "wires": []
    },
    {
        "id": "2b7b5d2a.06de22",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3863.6667518615723,
        "y": 329.33332347869873,
        "wires": []
    },
    {
        "id": "e21a42cb.aa88c",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1890.857982635498,
        "y": 3875.6667652130127,
        "wires": []
    },
    {
        "id": "a05054d2.c20f18",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3952.666530609131,
        "y": 2226.6666898727417,
        "wires": []
    },
    {
        "id": "44d468d.0a95e98",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura 40",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 40º",
        "parseMode": "",
        "x": 2886.000244140625,
        "y": 638.0001831054688,
        "wires": []
    },
    {
        "id": "cfcee2d7.d7762",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura 50",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 50º",
        "parseMode": "",
        "x": 2870.000244140625,
        "y": 763.0001831054688,
        "wires": []
    },
    {
        "id": "6b19ca9.d2f6f34",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura 60",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 60º",
        "parseMode": "",
        "x": 2843.000244140625,
        "y": 832.0001831054688,
        "wires": []
    },
    {
        "id": "498aee73.70a1",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "TempMax",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2923.833522796631,
        "y": 697.0001630783081,
        "wires": [
            []
        ]
    },
    {
        "id": "f657569f.6275e8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 30",
        "func": "msg.payload = 30;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2661.833740234375,
        "y": 552.33349609375,
        "wires": [
            [
                "498aee73.70a1",
                "dd070f69.86a6c"
            ]
        ]
    },
    {
        "id": "5c4b6083.f69e",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 40",
        "func": "msg.payload = 40;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2648.000244140625,
        "y": 640.33349609375,
        "wires": [
            [
                "498aee73.70a1",
                "44d468d.0a95e98"
            ]
        ]
    },
    {
        "id": "54445bc8.201534",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 50",
        "func": "msg.payload = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2669.000244140625,
        "y": 726.33349609375,
        "wires": [
            [
                "498aee73.70a1",
                "cfcee2d7.d7762"
            ]
        ]
    },
    {
        "id": "f7dcb9ff.af3098",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 60",
        "func": "msg.payload = 60;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2656.0001831054688,
        "y": 807.3335027694702,
        "wires": [
            [
                "498aee73.70a1",
                "6b19ca9.d2f6f34"
            ]
        ]
    },
    {
        "id": "1a6b7502.e8e88b",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 163,
        "y": 4332.000108718872,
        "wires": [
            [
                "5ba11619.411ce8"
            ]
        ]
    },
    {
        "id": "354a7bda.c30a04",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 145,
        "y": 4378.000108718872,
        "wires": [
            [
                "6bacd6a5.e5dd28"
            ]
        ]
    },
    {
        "id": "5ba11619.411ce8",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 374.0000305175781,
        "y": 4330,
        "wires": [
            [
                "30553001.817c1"
            ]
        ]
    },
    {
        "id": "6bacd6a5.e5dd28",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 369.00001525878906,
        "y": 4377.999990463257,
        "wires": [
            [
                "8374d5b1.96c8e8"
            ]
        ]
    },
    {
        "id": "30553001.817c1",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura salon",
        "func": "var deteccion = msg.payload.DHT11.temp;\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DEL SALON ES DEMASIADO ALTA \\n\";\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DEL SALON ES DEMASIADO BAJA \\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 541.0000152587891,
        "y": 4328.999990463257,
        "wires": [
            [
                "9ea788a6.b86e08"
            ]
        ]
    },
    {
        "id": "8374d5b1.96c8e8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura habitacion",
        "func": "var deteccion = msg.payload.DHT11.temp;\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DE LA HABITACION ES DEMASIADO ALTA \\n\";\n\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DE LA HABITACION ES DEMASIADO BAJA \\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 537.0000152587891,
        "y": 4376.999990463257,
        "wires": [
            [
                "9ea788a6.b86e08"
            ]
        ]
    },
    {
        "id": "78481f71.b8f5f",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 790.3333435058594,
        "y": 4527.000350952148,
        "wires": []
    },
    {
        "id": "1009a9c2.f4fe76",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 150,
        "y": 4425.000108718872,
        "wires": [
            [
                "eb154257.5eed9"
            ]
        ]
    },
    {
        "id": "eb154257.5eed9",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 365.00001525878906,
        "y": 4420.999990463257,
        "wires": [
            [
                "963f4d5b.90f19"
            ]
        ]
    },
    {
        "id": "963f4d5b.90f19",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura WC",
        "func": "var deteccion = msg.payload.DHT11.temp;\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DEL BAÑO ES DEMASIADO ALTA, ¿QUE HAS COMIDO? \\n\";\n\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DEL BAÑO ES DEMASIADO BAJA \\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 546.0000152587891,
        "y": 4421.999990463257,
        "wires": [
            [
                "9ea788a6.b86e08"
            ]
        ]
    },
    {
        "id": "1b774f16.6846c1",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4702.999782562256,
        "y": 2203.000033378601,
        "wires": []
    },
    {
        "id": "f3c10525.d81348",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4710.999782562256,
        "y": 2254.000033378601,
        "wires": []
    },
    {
        "id": "1fe5d860.7aedc8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4277.999889373779,
        "y": 754.0001039505005,
        "wires": [
            [
                "de3da566.fd8208"
            ]
        ]
    },
    {
        "id": "fbca6542.16e8a8",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch switch cocina",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el switch de la cocina?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3996.9995040893555,
        "y": 788.0000867843628,
        "wires": [
            [
                "1fe5d860.7aedc8"
            ],
            [
                "95ec3ee3.f1f76"
            ],
            [
                "9eb2d547.451018"
            ]
        ]
    },
    {
        "id": "95ec3ee3.f1f76",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4287.999523162842,
        "y": 808.0000896453857,
        "wires": [
            [
                "e506e16d.483b4"
            ]
        ]
    },
    {
        "id": "1d77a6e7.861d39",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4728.499717712402,
        "y": 756.8907232284546,
        "wires": []
    },
    {
        "id": "de3da566.fd8208",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4447.400573730469,
        "y": 740.2501058578491,
        "wires": [
            [
                "1d77a6e7.861d39",
                "7d3773cb.d9e57c"
            ]
        ]
    },
    {
        "id": "e506e16d.483b4",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4468.4003982543945,
        "y": 799.2500829696655,
        "wires": [
            [
                "1d77a6e7.861d39",
                "7d9a508d.c477f"
            ]
        ]
    },
    {
        "id": "7d9a508d.c477f",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha encendido el led de la cocina",
        "parseMode": "",
        "x": 4671.233848571777,
        "y": 799.2500982284546,
        "wires": []
    },
    {
        "id": "7d3773cb.d9e57c",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha apagado el led de la cocina",
        "parseMode": "",
        "x": 4659.234275817871,
        "y": 715.2501249313354,
        "wires": []
    },
    {
        "id": "eeea89dc.a06b18",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4286.567157745361,
        "y": 868.2501096725464,
        "wires": [
            [
                "ec9ab6fe.a16fb8"
            ]
        ]
    },
    {
        "id": "ec9ab6fe.a16fb8",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4472.567161560059,
        "y": 864.2501096725464,
        "wires": [
            [
                "1d77a6e7.861d39"
            ]
        ]
    },
    {
        "id": "73c4e719.c67c48",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch switch ",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que switch quieres tocar?",
        "answers": [
            "salon",
            "cocina",
            "habitacion",
            "wc"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3753.0002937316895,
        "y": 888.0001192092896,
        "wires": [
            [
                "92943829.39cfd8"
            ],
            [
                "fbca6542.16e8a8"
            ],
            [
                "739cfb34.5ecda4"
            ],
            [
                "8f7d0f46.2a06e"
            ],
            [
                "3a03dcda.8c6694"
            ]
        ]
    },
    {
        "id": "81ee6503.a1d598",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4298.5080490112305,
        "y": 969.5234689712524,
        "wires": [
            [
                "fd35ddd6.09319"
            ]
        ]
    },
    {
        "id": "739cfb34.5ecda4",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch switch habitacion",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el switch del habitacion?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4060.5076065063477,
        "y": 1006.5234823226929,
        "wires": [
            [
                "81ee6503.a1d598"
            ],
            [
                "ce6c6a78.6eae68"
            ],
            [
                "c85217e5.588b88"
            ]
        ]
    },
    {
        "id": "ce6c6a78.6eae68",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4308.507682800293,
        "y": 1023.5234546661377,
        "wires": [
            [
                "e7741b95.616a28"
            ]
        ]
    },
    {
        "id": "c6d35af6.805788",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4735.008140563965,
        "y": 967.4140920639038,
        "wires": []
    },
    {
        "id": "fd35ddd6.09319",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4467.90873336792,
        "y": 955.7734708786011,
        "wires": [
            [
                "c6d35af6.805788",
                "81910cd7.a2afc"
            ]
        ]
    },
    {
        "id": "e7741b95.616a28",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4488.908557891846,
        "y": 1014.7734479904175,
        "wires": [
            [
                "c6d35af6.805788",
                "d77422f.5f9b9e"
            ]
        ]
    },
    {
        "id": "d77422f.5f9b9e",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha encendido el led de la habitacion",
        "parseMode": "",
        "x": 4675.742027282715,
        "y": 1008.7734823226929,
        "wires": []
    },
    {
        "id": "81910cd7.a2afc",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha apagado el led de la habitacion",
        "parseMode": "",
        "x": 4659.741966247559,
        "y": 922.7734985351562,
        "wires": []
    },
    {
        "id": "dcc0eaa0.710328",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4307.0753173828125,
        "y": 1083.7734746932983,
        "wires": [
            [
                "a6e5edf7.c1644"
            ]
        ]
    },
    {
        "id": "a6e5edf7.c1644",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4493.07532119751,
        "y": 1079.7734746932983,
        "wires": [
            [
                "c6d35af6.805788"
            ]
        ]
    },
    {
        "id": "a470b136.a9406",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3977.015914916992,
        "y": 616.7500228881836,
        "wires": []
    },
    {
        "id": "9eb2d547.451018",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4093.5158615112305,
        "y": 841.7500314712524,
        "wires": []
    },
    {
        "id": "c85217e5.588b88",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4139.516067504883,
        "y": 1063.7500305175781,
        "wires": []
    },
    {
        "id": "3a03dcda.8c6694",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3800.5159454345703,
        "y": 970.7500219345093,
        "wires": []
    },
    {
        "id": "b1443bae.5c9f88",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4330.016021728516,
        "y": 1186.7501239776611,
        "wires": [
            [
                "944fc798.3fcba8"
            ]
        ]
    },
    {
        "id": "8f7d0f46.2a06e",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch switch wc",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el switch del wc?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4062.015579223633,
        "y": 1223.7501373291016,
        "wires": [
            [
                "b1443bae.5c9f88"
            ],
            [
                "b00f8f1c.bd3a"
            ],
            [
                "2ed96b31.d273d4"
            ]
        ]
    },
    {
        "id": "b00f8f1c.bd3a",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4340.015655517578,
        "y": 1240.7501096725464,
        "wires": [
            [
                "3054cbb2.f67624"
            ]
        ]
    },
    {
        "id": "22adf83c.9c21e8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4762.516014099121,
        "y": 1185.6407318115234,
        "wires": []
    },
    {
        "id": "944fc798.3fcba8",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4499.416706085205,
        "y": 1173.0001258850098,
        "wires": [
            [
                "22adf83c.9c21e8",
                "80529bb.5657168"
            ]
        ]
    },
    {
        "id": "3054cbb2.f67624",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4520.416530609131,
        "y": 1232.0001029968262,
        "wires": [
            [
                "22adf83c.9c21e8",
                "e57ea682.e67298"
            ]
        ]
    },
    {
        "id": "e57ea682.e67298",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha encendido el led de la habitacion",
        "parseMode": "",
        "x": 4708.250205993652,
        "y": 1236.0001983642578,
        "wires": []
    },
    {
        "id": "80529bb.5657168",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha apagado el led de la habitacion",
        "parseMode": "",
        "x": 4696.249839782715,
        "y": 1141.0001363754272,
        "wires": []
    },
    {
        "id": "1858abeb.2e4c24",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4364.58332824707,
        "y": 1309.0001373291016,
        "wires": [
            [
                "ae013d7d.0b6cc"
            ]
        ]
    },
    {
        "id": "ae013d7d.0b6cc",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4524.583293914795,
        "y": 1297.000129699707,
        "wires": [
            [
                "22adf83c.9c21e8"
            ]
        ]
    },
    {
        "id": "2ed96b31.d273d4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4171.024040222168,
        "y": 1280.9766855239868,
        "wires": []
    },
    {
        "id": "766894b7.61975c",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4815,
        "y": 2757.7504596710205,
        "wires": []
    },
    {
        "id": "7fb5725.1a4818c",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4800.765625,
        "y": 2705.75,
        "wires": []
    },
    {
        "id": "bb2425c6.c067e8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/FOTA",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 2892.000587463379,
        "y": 236.00030326843262,
        "wires": []
    },
    {
        "id": "87cfe47e.6abf78",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/FOTA",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 2898.000587463379,
        "y": 186.00030326843262,
        "wires": []
    },
    {
        "id": "3dab7131.eba62e",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4790.000312805176,
        "y": 3153.000442504883,
        "wires": []
    },
    {
        "id": "ee7921f6.0d18b",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESPESP1122489/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4769.000312805176,
        "y": 3236.000442504883,
        "wires": []
    },
    {
        "id": "f41e3f64.7dde2",
        "type": "debug",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "x": 852.7656097412109,
        "y": 4013.2500314712524,
        "wires": []
    },
    {
        "id": "39fa9bce.c3e614",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "-----------------------------------------Configuracion-----------------------------------------",
        "info": "",
        "x": 4197.87922668457,
        "y": 1482.5860843658447,
        "wires": []
    },
    {
        "id": "fd13b5a.d216a48",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion1",
        "links": [
            "7ced2131.70704"
        ],
        "x": 4451.874984741211,
        "y": 2322.496181488037,
        "wires": []
    },
    {
        "id": "7ced2131.70704",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion1",
        "links": [
            "fd13b5a.d216a48"
        ],
        "x": 3884.8829793930054,
        "y": 2706.9219093322754,
        "wires": [
            [
                "f3736886.d575c8"
            ]
        ]
    },
    {
        "id": "2ef8922f.bc4e9e",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion2",
        "links": [
            "6bbffe51.c7438"
        ],
        "x": 4828.265625,
        "y": 2543.25,
        "wires": []
    },
    {
        "id": "6bbffe51.c7438",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion2",
        "links": [
            "2ef8922f.bc4e9e"
        ],
        "x": 4000.266309738159,
        "y": 3035.2509326934814,
        "wires": [
            [
                "7ab88b5e.bba644"
            ]
        ]
    },
    {
        "id": "80fe1715.b0f8b8",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/switch/status",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 3569.5005950927734,
        "y": 559.6667499542236,
        "wires": [
            [
                "b240c01.363184"
            ]
        ]
    },
    {
        "id": "cdba1a7a.54a758",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado ==1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3696.137104034424,
        "y": 672.128909111023,
        "wires": [
            [
                "d26f3c98.4901c"
            ]
        ]
    },
    {
        "id": "b240c01.363184",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3684.7660064697266,
        "y": 618.3828554153442,
        "wires": [
            [
                "cdba1a7a.54a758"
            ]
        ]
    },
    {
        "id": "475e1774.6a21c8",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/switch/status",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 3556.6670455932617,
        "y": 721.6667051315308,
        "wires": [
            [
                "23771930.83ac96"
            ]
        ]
    },
    {
        "id": "eedebd45.5a217",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/switch/status",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 3588.666877746582,
        "y": 1025.6667366027832,
        "wires": [
            [
                "606b8f12.19643"
            ]
        ]
    },
    {
        "id": "48b925c3.2afcec",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/switch/status",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 3670.666877746582,
        "y": 1281.6667413016166,
        "wires": [
            [
                "57c38247.8c995c"
            ]
        ]
    },
    {
        "id": "2a0a9247.bd944e",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado == 1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3789.6670532226562,
        "y": 818.6666955947876,
        "wires": [
            [
                "54a54c01.b4ca54"
            ]
        ]
    },
    {
        "id": "23771930.83ac96",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3706.2959518432617,
        "y": 770.9206228256226,
        "wires": [
            [
                "2a0a9247.bd944e"
            ]
        ]
    },
    {
        "id": "cba00585.ef74a8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado ==1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3786.666893005371,
        "y": 1132.6667470932007,
        "wires": [
            [
                "864eed7a.0bfe9"
            ]
        ]
    },
    {
        "id": "606b8f12.19643",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3781.295799255371,
        "y": 1082.9206428527832,
        "wires": [
            [
                "cba00585.ef74a8"
            ]
        ]
    },
    {
        "id": "14da197f.0eb207",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado ==1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3971.666946411133,
        "y": 1369.6668248176575,
        "wires": [
            [
                "9cc2b69c.b63a48"
            ]
        ]
    },
    {
        "id": "57c38247.8c995c",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3902.295795440674,
        "y": 1275.9208135604858,
        "wires": [
            [
                "14da197f.0eb207"
            ]
        ]
    },
    {
        "id": "d793c1f6.c2778",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "switch2",
        "links": [
            "90d9529b.c1206"
        ],
        "x": 4652.168043136597,
        "y": 3310.000326156616,
        "wires": []
    },
    {
        "id": "4f28daf5.11d2e4",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "switch",
        "links": [
            "b5f507f5.fc4758"
        ],
        "x": 589.5000305175781,
        "y": 609.6666793823242,
        "wires": []
    },
    {
        "id": "27562b09.3e42b4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 514.6667175292969,
        "y": 932.0001220703125,
        "wires": []
    },
    {
        "id": "1a612e8d.4ecec1",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch switch global",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el switch global?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3860.3335723876953,
        "y": 1702.3335189819336,
        "wires": [
            [
                "fc84a8bf.339228"
            ],
            [
                "f9317c6c.e6f58"
            ],
            [
                "d75cb4d3.951a48"
            ]
        ]
    },
    {
        "id": "90d9529b.c1206",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "switch2",
        "links": [
            "d793c1f6.c2778"
        ],
        "x": 3709.1671752929688,
        "y": 1699.6668510437012,
        "wires": [
            [
                "1a612e8d.4ecec1"
            ]
        ]
    },
    {
        "id": "fc84a8bf.339228",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio apagar",
        "func": "msg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4096.00032043457,
        "y": 1655.000144958496,
        "wires": [
            [
                "f383f693.cc7298"
            ]
        ]
    },
    {
        "id": "f9317c6c.e6f58",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4105.999954223633,
        "y": 1709.0001306533813,
        "wires": [
            [
                "bd82a81b.1ad1e8"
            ]
        ]
    },
    {
        "id": "436d2c8e.6e8844",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4565.50032043457,
        "y": 1667.890769958496,
        "wires": []
    },
    {
        "id": "f383f693.cc7298",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4265.40100479126,
        "y": 1641.2501468658447,
        "wires": [
            [
                "436d2c8e.6e8844",
                "53f7fe6.26b0e",
                "de467540.c175c8",
                "81b7782e.b9fc38",
                "b232a7db.d4d828",
                "63be48a1.135f28"
            ]
        ]
    },
    {
        "id": "bd82a81b.1ad1e8",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4258.40071105957,
        "y": 1697.250144958496,
        "wires": [
            [
                "436d2c8e.6e8844",
                "4a285409.0832fc",
                "de467540.c175c8",
                "81b7782e.b9fc38",
                "b232a7db.d4d828",
                "63be48a1.135f28"
            ]
        ]
    },
    {
        "id": "4a285409.0832fc",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se han encendido los switches",
        "parseMode": "",
        "x": 4491.23469543457,
        "y": 1606.2502670288086,
        "wires": []
    },
    {
        "id": "53f7fe6.26b0e",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se han apagado los switches",
        "parseMode": "",
        "x": 4482.23420715332,
        "y": 1568.250144958496,
        "wires": []
    },
    {
        "id": "d75cb4d3.951a48",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4017.0003204345703,
        "y": 1757.000144958496,
        "wires": []
    },
    {
        "id": "de467540.c175c8",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4572.00032043457,
        "y": 1711.000144958496,
        "wires": []
    },
    {
        "id": "81b7782e.b9fc38",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4583.00032043457,
        "y": 1749.000144958496,
        "wires": []
    },
    {
        "id": "b232a7db.d4d828",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4585.00032043457,
        "y": 1792.000144958496,
        "wires": []
    },
    {
        "id": "63be48a1.135f28",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "led2",
        "links": [
            "7f11c8c9.696828"
        ],
        "x": 4379.00032043457,
        "y": 1837.000144958496,
        "wires": []
    },
    {
        "id": "ae93e409.cf9788",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch led global",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el LED global?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4176.122291564941,
        "y": 3672.524130821228,
        "wires": [
            [
                "efb39079.c97c7"
            ],
            [
                "fe8ac234.3ea83"
            ],
            [
                "e7e44f5b.5841"
            ]
        ]
    },
    {
        "id": "7f11c8c9.696828",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "links": [
            "63be48a1.135f28"
        ],
        "x": 4018.7220916748047,
        "y": 3704.261294364929,
        "wires": [
            [
                "ae93e409.cf9788"
            ]
        ]
    },
    {
        "id": "a2d3c7bd.14f178",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4801.622177124023,
        "y": 3572.5243701934814,
        "wires": []
    },
    {
        "id": "68031593.2a9f4c",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4805,
        "y": 3621.439194202423,
        "wires": []
    },
    {
        "id": "7b8b7163.3c01",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4820,
        "y": 3660.6211347579956,
        "wires": []
    },
    {
        "id": "49341eb6.2fb31",
        "type": "mqtt out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4821,
        "y": 3699.621054649353,
        "wires": []
    },
    {
        "id": "e7e44f5b.5841",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4324.621917724609,
        "y": 3741.5240926742554,
        "wires": []
    },
    {
        "id": "fe8ac234.3ea83",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4348.121932983398,
        "y": 3675.5242490768433,
        "wires": [
            [
                "d239ab96.dc1b38"
            ]
        ]
    },
    {
        "id": "d239ab96.dc1b38",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4484.121513366699,
        "y": 3668.5244817733765,
        "wires": [
            [
                "a2d3c7bd.14f178",
                "68031593.2a9f4c",
                "7b8b7163.3c01",
                "49341eb6.2fb31",
                "f649e831.6340c8"
            ]
        ]
    },
    {
        "id": "156ca5c.ca1455a",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4469.122116088867,
        "y": 3602.5246725082397,
        "wires": [
            [
                "a2d3c7bd.14f178",
                "68031593.2a9f4c",
                "7b8b7163.3c01",
                "49341eb6.2fb31",
                "7b7536c5.a30f58"
            ]
        ]
    },
    {
        "id": "efb39079.c97c7",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4323.12194442749,
        "y": 3603.524347305298,
        "wires": [
            [
                "156ca5c.ca1455a"
            ]
        ]
    },
    {
        "id": "f649e831.6340c8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se han encendido los leds",
        "parseMode": "",
        "x": 4702.0102615356445,
        "y": 3503.667455673218,
        "wires": []
    },
    {
        "id": "7b7536c5.a30f58",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se han apagado los leds",
        "parseMode": "",
        "x": 4653.009880065918,
        "y": 3444.6673727035522,
        "wires": []
    },
    {
        "id": "322a5aaf.feded6",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "ACTUALIZACION FOTA",
        "info": "",
        "x": 2461.250160217285,
        "y": 120.73438835144043,
        "wires": []
    },
    {
        "id": "4b1e0498.c4aacc",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch bienvenida",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Aqui tienes mas opciones todavía",
        "answers": [
            "Switch",
            "Temp.maxima",
            "Temp. minima"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 349.6666564941406,
        "y": 665.6666870117188,
        "wires": [
            [
                "4f28daf5.11d2e4"
            ],
            [
                "5ad11f94.bdb6a"
            ],
            [
                "8af47cae.70ea1"
            ],
            []
        ]
    },
    {
        "id": "e7fc1db6.9f751",
        "type": "delay",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 168.6666717529297,
        "y": 641.6666870117188,
        "wires": [
            [
                "4b1e0498.c4aacc",
                "f87effb0.ec274"
            ]
        ]
    },
    {
        "id": "5ad11f94.bdb6a",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "tempmax",
        "links": [
            "d2e43f12.9859d"
        ],
        "x": 585.6666870117188,
        "y": 653.6666870117188,
        "wires": []
    },
    {
        "id": "d2e43f12.9859d",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "TempMax",
        "links": [
            "5ad11f94.bdb6a"
        ],
        "x": 2228.8334045410156,
        "y": 655.0000381469727,
        "wires": [
            [
                "304e353a.0cc91a"
            ]
        ]
    },
    {
        "id": "400e471c.5ecbd8",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "57330da7.251e34",
        "order": 0,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Habitacion",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4319.000152587891,
        "y": 4548.334246635437,
        "wires": []
    },
    {
        "id": "edccf713.ad6718",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "57330da7.251e34",
        "order": 0,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Salon",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4293.500152587891,
        "y": 4303.334239959717,
        "wires": []
    },
    {
        "id": "79edbba8.e4cd34",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "57330da7.251e34",
        "order": 0,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Cocina",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4434.500156402588,
        "y": 4061.3339881896973,
        "wires": []
    },
    {
        "id": "6bacdbff.b00db4",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "57330da7.251e34",
        "order": 0,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Baño",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4303.500148773193,
        "y": 4802.3342542648315,
        "wires": []
    },
    {
        "id": "a0532964.842ce8",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "57330da7.251e34",
        "order": 0,
        "width": "6",
        "height": "3",
        "gtype": "gage",
        "title": "Media",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 3545.500717163086,
        "y": 3943.3342838287354,
        "wires": []
    },
    {
        "id": "70143a2c.a82494",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "PENDIENTE TEMPERATURA GLOBAL",
        "info": "",
        "x": 3603.8334197998047,
        "y": 3892.6675357818604,
        "wires": []
    },
    {
        "id": "42e5c119.e5584",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "95c6b073.e17e4",
        "order": 1,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Habitacion",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4334.000154495239,
        "y": 4592.334247589111,
        "wires": []
    },
    {
        "id": "f37aa1dd.ebfc2",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "95c6b073.e17e4",
        "order": 2,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Salon",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4302.000152587891,
        "y": 4345.334240913391,
        "wires": []
    },
    {
        "id": "72154587.a2e61c",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "95c6b073.e17e4",
        "order": 3,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Cocina",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4430.000152587891,
        "y": 4121.334559440613,
        "wires": []
    },
    {
        "id": "fb10f6f5.039308",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "95c6b073.e17e4",
        "order": 4,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Baño",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4313.000152587891,
        "y": 4852.33425617218,
        "wires": []
    },
    {
        "id": "21f1f552.c6133a",
        "type": "ui_gauge",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "95c6b073.e17e4",
        "order": 6,
        "width": "6",
        "height": "3",
        "gtype": "donut",
        "title": "Media",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 3655.000473022461,
        "y": 3941.333673477173,
        "wires": []
    },
    {
        "id": "51ee50e6.c1e9e",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura",
        "info": "",
        "x": 4586.000156402588,
        "y": 4055.3339881896973,
        "wires": []
    },
    {
        "id": "2ab15e86.9cc5f2",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "humedad",
        "info": "",
        "x": 4568.000015258789,
        "y": 4122.334112167358,
        "wires": []
    },
    {
        "id": "568d73f8.40590c",
        "type": "ui_slider",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "label": "Salon____",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 6,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3995.0001373291016,
        "y": 4458.334243774414,
        "wires": [
            [
                "c116d5d7.1bacb8"
            ]
        ]
    },
    {
        "id": "3acb5995.929526",
        "type": "ui_slider",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "label": "Habitacion",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3943.000129699707,
        "y": 4694.33424949646,
        "wires": [
            [
                "2b0ae29b.974f7e"
            ]
        ]
    },
    {
        "id": "8cc2e7c1.7d3428",
        "type": "ui_slider",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "label": "Cocina___",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 8,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3952.0001373291016,
        "y": 4231.334238052368,
        "wires": [
            [
                "8a126b80.7fff28"
            ]
        ]
    },
    {
        "id": "b5bb4083.b4dcf",
        "type": "ui_slider",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "label": "Baño_____",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 9,
        "width": 0,
        "height": 0,
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3905.000129699707,
        "y": 4974.3342571258545,
        "wires": [
            [
                "f74eb208.42cc7"
            ]
        ]
    },
    {
        "id": "a9a2e7c4.0f3848",
        "type": "ui_chart",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bed665f6.de0078",
        "order": 0,
        "width": "12",
        "height": "8",
        "label": "Temperatura",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 4925,
        "y": 4331.333734512329,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4e79408e.53986",
        "type": "ui_chart",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bed665f6.de0078",
        "order": 0,
        "width": "12",
        "height": "7",
        "label": "Humedad",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 4928.000165939331,
        "y": 4564.333492279053,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "4193e1ec.f7ea",
        "type": "debug",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 412.38671875,
        "y": 3622.26953125,
        "wires": []
    },
    {
        "id": "679820b7.94a32",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "\nmsg.topic = \"Habitacion\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4786.76579284668,
        "y": 4357.250116348267,
        "wires": [
            [
                "a9a2e7c4.0f3848"
            ]
        ]
    },
    {
        "id": "9e7ad52.dab1828",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "\nmsg.topic = \"Habitacion\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4776.765670776367,
        "y": 4613.250116348267,
        "wires": [
            [
                "4e79408e.53986"
            ]
        ]
    },
    {
        "id": "5da5a2e.6e6025c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "\nmsg.topic = \"cocina\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4774.765609741211,
        "y": 4510.250238418579,
        "wires": [
            [
                "4e79408e.53986"
            ]
        ]
    },
    {
        "id": "29d19b80.4fa154",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "\nmsg.topic = \"cocina\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4777.765609741211,
        "y": 4287.249994277954,
        "wires": [
            [
                "a9a2e7c4.0f3848"
            ]
        ]
    },
    {
        "id": "cd2636e.5c59bc8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "\nmsg.topic = \"baño\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4789.765670776367,
        "y": 4391.250116348267,
        "wires": [
            [
                "a9a2e7c4.0f3848"
            ]
        ]
    },
    {
        "id": "2f3fbfb0.7d5a9",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "\nmsg.topic = \"baño\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4776.76579284668,
        "y": 4574.250240325928,
        "wires": [
            [
                "4e79408e.53986"
            ]
        ]
    },
    {
        "id": "6f9e6369.c51b6c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "\nmsg.topic = \"salon\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4779.765731811523,
        "y": 4541.25005531311,
        "wires": [
            [
                "4e79408e.53986"
            ]
        ]
    },
    {
        "id": "b5337d71.06826",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "func": "\nmsg.topic = \"salon\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4779.765609741211,
        "y": 4321.249994277954,
        "wires": [
            [
                "a9a2e7c4.0f3848"
            ]
        ]
    },
    {
        "id": "d26f3c98.4901c",
        "type": "ui_switch",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "label": "Salon",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 3936.7662200927734,
        "y": 683.2504281997681,
        "wires": [
            [
                "da034814.187f98"
            ]
        ]
    },
    {
        "id": "864eed7a.0bfe9",
        "type": "ui_switch",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "label": "Habitacion",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 4085.765914916992,
        "y": 1126.2502374649048,
        "wires": [
            [
                "dcc0eaa0.710328"
            ]
        ]
    },
    {
        "id": "54a54c01.b4ca54",
        "type": "ui_switch",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "label": "Cocina",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 3,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 4064.7659759521484,
        "y": 895.2503128051758,
        "wires": [
            [
                "eeea89dc.a06b18"
            ]
        ]
    },
    {
        "id": "9cc2b69c.b63a48",
        "type": "ui_switch",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "label": "Baño",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 4158.766342163086,
        "y": 1374.250470161438,
        "wires": [
            [
                "1858abeb.2e4c24"
            ]
        ]
    },
    {
        "id": "f6912eeb.f0c03",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "94936d81.8681a",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4370.766342163086,
        "y": 2981.250705718994,
        "wires": [
            [
                "715ff481.69ba0c"
            ]
        ]
    },
    {
        "id": "65fa35e1.ad252c",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "94936d81.8681a",
        "order": 4,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "60 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4367.26628112793,
        "y": 3071.7499742507935,
        "wires": [
            [
                "8357de8e.3815b"
            ]
        ]
    },
    {
        "id": "dab5da93.e25a88",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "94936d81.8681a",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "120 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4367.765670776367,
        "y": 3167.000401496887,
        "wires": [
            [
                "d8108a44.2735f8"
            ]
        ]
    },
    {
        "id": "dc5b34c6.4cad08",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "94936d81.8681a",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "240 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4377.015670776367,
        "y": 3262.2500343322754,
        "wires": [
            [
                "e922eb64.e20188"
            ]
        ]
    },
    {
        "id": "5aa1e693.2f1be8",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "5ed1f6a1.e21328",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "5 seg",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4245.765914916992,
        "y": 2614.2500619888306,
        "wires": [
            [
                "bb994458.799538"
            ]
        ]
    },
    {
        "id": "ae248725.1e1448",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "5ed1f6a1.e21328",
        "order": 4,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "10 seg",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4252.516098022461,
        "y": 2693.249970436096,
        "wires": [
            [
                "1dedd397.38f68c"
            ]
        ]
    },
    {
        "id": "c080fe68.4b4a6",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "5ed1f6a1.e21328",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "30 seg",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4263.015609741211,
        "y": 2765.750214576721,
        "wires": [
            [
                "fff2ec81.f7d34"
            ]
        ]
    },
    {
        "id": "a8bd238c.8a1e2",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "5ed1f6a1.e21328",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "1 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4270.516036987305,
        "y": 2833.0000915527344,
        "wires": [
            [
                "f1ce99a3.6b9888"
            ]
        ]
    },
    {
        "id": "ae05f18c.c22ac",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "5ed1f6a1.e21328",
        "order": 7,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "5 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4279.765731811523,
        "y": 2895.2500925064087,
        "wires": [
            [
                "2266dbc.ac3c024"
            ]
        ]
    },
    {
        "id": "57761f53.f86eb",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/actualizacion",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 2244.833938598633,
        "y": 3113.667580604553,
        "wires": [
            [
                "44a27c7a.8a4b54"
            ]
        ]
    },
    {
        "id": "39c43684.647dfa",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/actualizacion",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 2242.7657775878906,
        "y": 3162.250403404236,
        "wires": [
            [
                "1a31f7e8.11fcb8"
            ]
        ]
    },
    {
        "id": "a50a4b4f.674538",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/actualizacion",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 2250.7660217285156,
        "y": 3210.250457763672,
        "wires": [
            [
                "234a7119.b0d1de"
            ]
        ]
    },
    {
        "id": "dc919c80.e2cc6",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/actualizacion",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 2256.7657775878906,
        "y": 3254.250403404236,
        "wires": [
            [
                "e8cf5fa3.80bc7"
            ]
        ]
    },
    {
        "id": "44a27c7a.8a4b54",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"se va a actualizar la placa\"\nmsg.payload += ID\nmsg.payload += \"causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa\"\nmsg.payload += ID\nmsg.payload += \"causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2594.3869552612305,
        "y": 3097.6332082748413,
        "wires": [
            [
                "16fd3bbb.d9e4b4"
            ]
        ]
    },
    {
        "id": "1a31f7e8.11fcb8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"se va a actualizar la placa\"\nmsg.payload += ID\nmsg.payload += \"causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa\"\nmsg.payload += ID\nmsg.payload += \"causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2598.7657775878906,
        "y": 3154.250403404236,
        "wires": [
            [
                "16fd3bbb.d9e4b4"
            ]
        ]
    },
    {
        "id": "234a7119.b0d1de",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"se va a actualizar la placa\"\nmsg.payload += ID\nmsg.payload += \"causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa\"\nmsg.payload += ID\nmsg.payload += \"causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2586.7657775878906,
        "y": 3193.250403404236,
        "wires": [
            [
                "16fd3bbb.d9e4b4"
            ]
        ]
    },
    {
        "id": "e8cf5fa3.80bc7",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"se va a actualizar la placa\"\nmsg.payload += ID\nmsg.payload += \"causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa\"\nmsg.payload += ID\nmsg.payload += \"causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2590.7657775878906,
        "y": 3238.250403404236,
        "wires": [
            [
                "16fd3bbb.d9e4b4"
            ]
        ]
    },
    {
        "id": "16fd3bbb.d9e4b4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "Respuesta actualizacion",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 2894.266101837158,
        "y": 3160.250425338745,
        "wires": []
    },
    {
        "id": "f0929706.3293c8",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "30 °C",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2627,
        "y": 591,
        "wires": [
            [
                "f657569f.6275e8"
            ]
        ]
    },
    {
        "id": "73217714.c858b8",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 4,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "40 °C",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2622.5,
        "y": 679,
        "wires": [
            [
                "5c4b6083.f69e"
            ]
        ]
    },
    {
        "id": "ecbe14de.2eabf8",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "50 °C",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2655.25,
        "y": 771.75,
        "wires": [
            [
                "54445bc8.201534"
            ]
        ]
    },
    {
        "id": "1556e916.7e3367",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "60 °C",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2642.75,
        "y": 850,
        "wires": [
            [
                "f7dcb9ff.af3098"
            ]
        ]
    },
    {
        "id": "de363f6.b80c7c",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/TemperaturaMin",
        "bot": "407d7e26.e9903",
        "command": "/TemperaturaMin",
        "commandType": "str",
        "commandCase": false,
        "x": 2243.666748046875,
        "y": 1095.3333740234375,
        "wires": [
            [
                "cc92db9d.8247e8"
            ]
        ]
    },
    {
        "id": "cc92db9d.8247e8",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch temperatura Min",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Por favor elija la temperatura a la que quiere que le avisemos si se baja de ella",
        "answers": [
            "-20º ",
            "-10º",
            "0º",
            "5º"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2467.000244140625,
        "y": 1096.3333740234375,
        "wires": [
            [
                "58e4c098.c7456"
            ],
            [
                "21ae7e3.6570e82"
            ],
            [
                "e0500775.7bcad8"
            ],
            [
                "5070fb65.2464d4"
            ],
            [
                "f55d1421.f45c48"
            ]
        ]
    },
    {
        "id": "293b61d1.6c36fe",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura -20",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a -20º",
        "parseMode": "",
        "x": 2918.3335571289062,
        "y": 924.3333740234375,
        "wires": []
    },
    {
        "id": "f55d1421.f45c48",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2523.333484649658,
        "y": 1180.3333778381348,
        "wires": []
    },
    {
        "id": "4582a334.83eeec",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura -10",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a -10º",
        "parseMode": "",
        "x": 2934.3335571289062,
        "y": 998.0000610351562,
        "wires": []
    },
    {
        "id": "9c798459.b05cd8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura 0",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a 0º",
        "parseMode": "",
        "x": 2918.3335571289062,
        "y": 1123.0000610351562,
        "wires": []
    },
    {
        "id": "bf3944cd.c4e5a8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "temperatura 5",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a 5º",
        "parseMode": "",
        "x": 2891.3335571289062,
        "y": 1192.0000610351562,
        "wires": []
    },
    {
        "id": "abcd9b11.6ec678",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "TempMin",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2962.166835784912,
        "y": 1057.0000410079956,
        "wires": [
            []
        ]
    },
    {
        "id": "58e4c098.c7456",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion -20",
        "func": "msg.payload = -20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2710.1670532226562,
        "y": 912.3333740234375,
        "wires": [
            [
                "abcd9b11.6ec678",
                "293b61d1.6c36fe"
            ]
        ]
    },
    {
        "id": "21ae7e3.6570e82",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion -10",
        "func": "msg.payload = -10;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2696.3335571289062,
        "y": 1000.3333740234375,
        "wires": [
            [
                "abcd9b11.6ec678",
                "4582a334.83eeec"
            ]
        ]
    },
    {
        "id": "e0500775.7bcad8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 0",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2707.3335571289062,
        "y": 1086.3333740234375,
        "wires": [
            [
                "abcd9b11.6ec678",
                "9c798459.b05cd8"
            ]
        ]
    },
    {
        "id": "5070fb65.2464d4",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 5",
        "func": "msg.payload = 5;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2694.33349609375,
        "y": 1167.3333806991577,
        "wires": [
            [
                "abcd9b11.6ec678",
                "bf3944cd.c4e5a8"
            ]
        ]
    },
    {
        "id": "6f4e19bf.6e2d38",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "TempMin",
        "links": [
            "8af47cae.70ea1"
        ],
        "x": 2277.166717529297,
        "y": 1014.9999160766602,
        "wires": [
            [
                "cc92db9d.8247e8"
            ]
        ]
    },
    {
        "id": "6995bead.ecf22",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 7,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "-20 °C",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2691.3331451416016,
        "y": 956.999903678894,
        "wires": [
            [
                "58e4c098.c7456"
            ]
        ]
    },
    {
        "id": "75f074e6.e1b08c",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 8,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "-10 °C",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2696.8331451416016,
        "y": 1043.999966621399,
        "wires": [
            [
                "21ae7e3.6570e82"
            ]
        ]
    },
    {
        "id": "4b3280af.63571",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 9,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "0 °C",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2703.5833129882812,
        "y": 1131.7498779296875,
        "wires": [
            [
                "e0500775.7bcad8"
            ]
        ]
    },
    {
        "id": "e5a7e1b6.e46d3",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 10,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "5 °C",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2691.0833129882812,
        "y": 1209.9998779296875,
        "wires": [
            [
                "5070fb65.2464d4"
            ]
        ]
    },
    {
        "id": "8af47cae.70ea1",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "links": [
            "6f4e19bf.6e2d38"
        ],
        "x": 585,
        "y": 692,
        "wires": []
    },
    {
        "id": "e8e25b7d.6269a8",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/HumedadMin",
        "bot": "407d7e26.e9903",
        "command": "/TemperaturaMin",
        "commandType": "str",
        "commandCase": false,
        "x": 2272,
        "y": 1482,
        "wires": [
            [
                "8b1c6e00.79374"
            ]
        ]
    },
    {
        "id": "8b1c6e00.79374",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch humedad Min",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Por favor elija el porcentaje de humedad a la que quiere que le avisemos si se baja de ella",
        "answers": [
            "5%",
            "15%",
            "20%",
            "25%"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2495.33349609375,
        "y": 1483,
        "wires": [
            [
                "41bf946c.32e54c"
            ],
            [
                "7af6a2f.6206d5c"
            ],
            [
                "78ed6a7e.8280f4"
            ],
            [
                "b3a2459a.0d5298"
            ],
            [
                "c0557acb.457be8"
            ]
        ]
    },
    {
        "id": "2ecbae9b.3c88c2",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "humedad 5%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 5%",
        "parseMode": "",
        "x": 2946.6668090820312,
        "y": 1311,
        "wires": []
    },
    {
        "id": "c0557acb.457be8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2561.666736602783,
        "y": 1567.0000038146973,
        "wires": []
    },
    {
        "id": "558a4576.d4426c",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "humedad 15%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 15%",
        "parseMode": "",
        "x": 2972.6668090820312,
        "y": 1384.6666870117188,
        "wires": []
    },
    {
        "id": "eb4b62fd.3ce41",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "humedad 20%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 20%",
        "parseMode": "",
        "x": 2956.6668090820312,
        "y": 1509.6666870117188,
        "wires": []
    },
    {
        "id": "2521d138.9c31ee",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "humedad 25%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 25%",
        "parseMode": "",
        "x": 2929.6668090820312,
        "y": 1578.6666870117188,
        "wires": []
    },
    {
        "id": "51242d3f.4ccf64",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "HumMin",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3000.500087738037,
        "y": 1443.666666984558,
        "wires": [
            []
        ]
    },
    {
        "id": "41bf946c.32e54c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 5",
        "func": "msg.payload = 5;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2738.5003051757812,
        "y": 1299,
        "wires": [
            [
                "51242d3f.4ccf64",
                "2ecbae9b.3c88c2"
            ]
        ]
    },
    {
        "id": "7af6a2f.6206d5c",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 15",
        "func": "msg.payload = 15;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2734.6668090820312,
        "y": 1387,
        "wires": [
            [
                "51242d3f.4ccf64",
                "558a4576.d4426c"
            ]
        ]
    },
    {
        "id": "78ed6a7e.8280f4",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 20",
        "func": "msg.payload = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2755.6668090820312,
        "y": 1473,
        "wires": [
            [
                "51242d3f.4ccf64",
                "eb4b62fd.3ce41"
            ]
        ]
    },
    {
        "id": "b3a2459a.0d5298",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 25",
        "func": "msg.payload = 25;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2742.666748046875,
        "y": 1554.0000066757202,
        "wires": [
            [
                "51242d3f.4ccf64",
                "2521d138.9c31ee"
            ]
        ]
    },
    {
        "id": "e9a51445.eb1738",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "HumMin",
        "links": [
            "5e2b00e7.4bbdc"
        ],
        "x": 2315.499969482422,
        "y": 1401.6665420532227,
        "wires": [
            [
                "8b1c6e00.79374"
            ]
        ]
    },
    {
        "id": "fb3e4342.7741",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 11,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "5 %",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2729.6663970947266,
        "y": 1343.6665296554565,
        "wires": [
            [
                "41bf946c.32e54c"
            ]
        ]
    },
    {
        "id": "429baaa0.bf4df4",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 12,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "15 %",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2735.1663970947266,
        "y": 1430.6665925979614,
        "wires": [
            [
                "7af6a2f.6206d5c"
            ]
        ]
    },
    {
        "id": "3be48305.4687bc",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 13,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "20 %",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2741.9165649414062,
        "y": 1518.41650390625,
        "wires": [
            [
                "78ed6a7e.8280f4"
            ]
        ]
    },
    {
        "id": "5efc2fa.1bc00d",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 14,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "25 %",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2729.4165649414062,
        "y": 1596.66650390625,
        "wires": [
            [
                "b3a2459a.0d5298"
            ]
        ]
    },
    {
        "id": "4a710908.615ca8",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 1731,
        "y": 4371,
        "wires": []
    },
    {
        "id": "55a93fb7.05eae",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 1073.000015258789,
        "y": 4307.000484466553,
        "wires": [
            [
                "928f50d.6a519b"
            ]
        ]
    },
    {
        "id": "344ca057.f4e59",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "humedad cocina",
        "func": "var deteccion = msg.payload.DHT11.hum;\nif (deteccion >= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DE LA COCINA ES DEMASIADO BAJA \\n\";\n\nif (deteccion <= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DE LA COCINA ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1457.000015258789,
        "y": 4303.999990463257,
        "wires": [
            [
                "4a710908.615ca8"
            ]
        ]
    },
    {
        "id": "bb5dafb5.b4a3a",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "humedades",
        "info": "",
        "x": 1064.000015258789,
        "y": 4263.000350952148,
        "wires": []
    },
    {
        "id": "928f50d.6a519b",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1289.0000457763672,
        "y": 4304.999990463257,
        "wires": [
            [
                "344ca057.f4e59"
            ]
        ]
    },
    {
        "id": "ea8900b2.0d7d6",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 1087,
        "y": 4365.303331375122,
        "wires": [
            [
                "d5920c7a.385c7"
            ]
        ]
    },
    {
        "id": "21d8fc4.75f9904",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 1069,
        "y": 4411.303331375122,
        "wires": [
            [
                "220447eb.f55af8"
            ]
        ]
    },
    {
        "id": "d5920c7a.385c7",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1298.0000305175781,
        "y": 4363.30322265625,
        "wires": [
            [
                "815534ee.04b438"
            ]
        ]
    },
    {
        "id": "220447eb.f55af8",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1293.000015258789,
        "y": 4411.303213119507,
        "wires": [
            [
                "eff38c99.55689"
            ]
        ]
    },
    {
        "id": "815534ee.04b438",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "humedad salon",
        "func": "var deteccion = msg.payload.DHT11.hum;\nif (deteccion >= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DEL SALON ES DEMASIADO BAJA \\n\";\n\nif (deteccion <= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DEL SALON ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1455.000015258789,
        "y": 4362.303213119507,
        "wires": [
            [
                "4a710908.615ca8"
            ]
        ]
    },
    {
        "id": "eff38c99.55689",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "humedad habitacion",
        "func": "var deteccion = msg.payload.DHT11.hum;\nif (deteccion >= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DE LA HABITACION ES DEMASIADO BAJA \\n\";\n\nif (deteccion <= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DE LA HABITACION ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1461.000015258789,
        "y": 4410.303213119507,
        "wires": [
            [
                "4a710908.615ca8"
            ]
        ]
    },
    {
        "id": "3ab24e07.5c7052",
        "type": "mqtt in",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 1074,
        "y": 4458.303331375122,
        "wires": [
            [
                "7d3d39bf.402f58"
            ]
        ]
    },
    {
        "id": "7d3d39bf.402f58",
        "type": "json",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1289.000015258789,
        "y": 4454.303213119507,
        "wires": [
            [
                "79f34c7d.7e3ce4"
            ]
        ]
    },
    {
        "id": "79f34c7d.7e3ce4",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "humedad WC",
        "func": "var deteccion = msg.payload.DHT11.hum;\nif (deteccion >= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DEL BAÑO ES DEMASIADO BAJA \\n\";\n\nif (deteccion <= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DEL BAÑO ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1470.000015258789,
        "y": 4455.303213119507,
        "wires": [
            [
                "4a710908.615ca8"
            ]
        ]
    },
    {
        "id": "25285da3.afa1e2",
        "type": "telegrambot-command",
        "z": "cb95b8f7.9b4968",
        "name": "/HumedadMax",
        "bot": "407d7e26.e9903",
        "command": "/TemperaturaMin",
        "commandType": "str",
        "commandCase": false,
        "x": 2274,
        "y": 1891,
        "wires": [
            [
                "2959b4cf.e4e22c"
            ]
        ]
    },
    {
        "id": "2959b4cf.e4e22c",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch humedad Max",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Por favor elija el porcentaje de humedad a la que quiere que le avisemos si se supera",
        "answers": [
            "65%",
            "75%",
            "80%",
            "90%"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2498.33349609375,
        "y": 1894,
        "wires": [
            [
                "638086b4.fc8fd8"
            ],
            [
                "926f533.0955cb"
            ],
            [
                "99d59be7.4de4c8"
            ],
            [
                "a24bd465.cf99f8"
            ],
            [
                "e0c60144.8bfe4"
            ]
        ]
    },
    {
        "id": "6ba9f6d0.448928",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "humedad 65%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 65%",
        "parseMode": "",
        "x": 2959.6668090820312,
        "y": 1722,
        "wires": []
    },
    {
        "id": "e0c60144.8bfe4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2564.666736602783,
        "y": 1978.0000038146973,
        "wires": []
    },
    {
        "id": "c0dcc897.a61858",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "humedad 75%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 75%",
        "parseMode": "",
        "x": 2975.6668090820312,
        "y": 1795.6666870117188,
        "wires": []
    },
    {
        "id": "ced723dd.cd1d4",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "humedad 80%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 80%",
        "parseMode": "",
        "x": 2959.6668090820312,
        "y": 1920.6666870117188,
        "wires": []
    },
    {
        "id": "ca1f9788.5ed848",
        "type": "telegrambot-notify",
        "z": "cb95b8f7.9b4968",
        "name": "humedad 90%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 90%",
        "parseMode": "",
        "x": 2932.6668090820312,
        "y": 1989.6666870117188,
        "wires": []
    },
    {
        "id": "f3af05ee.dbb8c8",
        "type": "change",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "HumMax",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3003.500087738037,
        "y": 1854.666666984558,
        "wires": [
            []
        ]
    },
    {
        "id": "638086b4.fc8fd8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 65",
        "func": "msg.payload = 65;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2751.5003051757812,
        "y": 1710,
        "wires": [
            [
                "f3af05ee.dbb8c8",
                "6ba9f6d0.448928"
            ]
        ]
    },
    {
        "id": "926f533.0955cb",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 75",
        "func": "msg.payload = 75;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2737.6668090820312,
        "y": 1798,
        "wires": [
            [
                "f3af05ee.dbb8c8",
                "c0dcc897.a61858"
            ]
        ]
    },
    {
        "id": "99d59be7.4de4c8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 80",
        "func": "msg.payload = 80;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2758.6668090820312,
        "y": 1884,
        "wires": [
            [
                "f3af05ee.dbb8c8",
                "ced723dd.cd1d4"
            ]
        ]
    },
    {
        "id": "a24bd465.cf99f8",
        "type": "function",
        "z": "cb95b8f7.9b4968",
        "name": "eleccion 90",
        "func": "msg.payload = 90;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2745.666748046875,
        "y": 1965.0000066757202,
        "wires": [
            [
                "f3af05ee.dbb8c8",
                "ca1f9788.5ed848"
            ]
        ]
    },
    {
        "id": "25a21e3d.52f692",
        "type": "link in",
        "z": "cb95b8f7.9b4968",
        "name": "HumMax",
        "links": [
            "c6e117ec.fb19c8"
        ],
        "x": 2318.499969482422,
        "y": 1812.6665420532227,
        "wires": [
            [
                "2959b4cf.e4e22c"
            ]
        ]
    },
    {
        "id": "79c21dfc.dd6694",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 15,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "65 %",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2732.6663970947266,
        "y": 1754.6665296554565,
        "wires": [
            [
                "638086b4.fc8fd8"
            ]
        ]
    },
    {
        "id": "bdea0dc3.56564",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 16,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "75 %",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2738.1663970947266,
        "y": 1841.6665925979614,
        "wires": [
            [
                "926f533.0955cb"
            ]
        ]
    },
    {
        "id": "a0d386ca.571608",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 17,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "80 %",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2744.9165649414062,
        "y": 1929.41650390625,
        "wires": [
            [
                "99d59be7.4de4c8"
            ]
        ]
    },
    {
        "id": "1c4b8e03.c7cbe2",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "bb511b41.0362b8",
        "order": 18,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "90 %",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 2732.4165649414062,
        "y": 2007.66650390625,
        "wires": [
            [
                "a24bd465.cf99f8"
            ]
        ]
    },
    {
        "id": "3b48cd0e.ba43e2",
        "type": "telegrambot-switch",
        "z": "cb95b8f7.9b4968",
        "name": "switch bienvenida",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Aqui tienes mas opciones aún!!",
        "answers": [
            "Hum. minima",
            "Hum. maxima"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 346,
        "y": 835,
        "wires": [
            [
                "5e2b00e7.4bbdc"
            ],
            [
                "c6e117ec.fb19c8"
            ],
            [
                "27562b09.3e42b4"
            ]
        ]
    },
    {
        "id": "f87effb0.ec274",
        "type": "delay",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 171,
        "y": 755,
        "wires": [
            [
                "3b48cd0e.ba43e2"
            ]
        ]
    },
    {
        "id": "5e2b00e7.4bbdc",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "HumMin",
        "links": [
            "e9a51445.eb1738"
        ],
        "x": 524,
        "y": 839,
        "wires": []
    },
    {
        "id": "c6e117ec.fb19c8",
        "type": "link out",
        "z": "cb95b8f7.9b4968",
        "name": "HumMax",
        "links": [
            "25a21e3d.52f692"
        ],
        "x": 526,
        "y": 879,
        "wires": []
    },
    {
        "id": "fd4dbd2f.57c8b",
        "type": "ui_text",
        "z": "cb95b8f7.9b4968",
        "group": "bb511b41.0362b8",
        "order": 2,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Temperatura límite inferior",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3602.000289916992,
        "y": 3999.000238418579,
        "wires": []
    },
    {
        "id": "5eb272f3.7e493c",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "8f9d228c.301c3",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Encender",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4144.765975952148,
        "y": 3755.2504711151123,
        "wires": [
            [
                "fe8ac234.3ea83"
            ]
        ]
    },
    {
        "id": "7bc2622e.8860ec",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "8f9d228c.301c3",
        "order": 6,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Apagar",
        "tooltip": "",
        "color": "",
        "bgcolor": "#E9967A",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4135.765968322754,
        "y": 3622.500473022461,
        "wires": [
            [
                "efb39079.c97c7"
            ]
        ]
    },
    {
        "id": "4ed2aafb.28d4f4",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "8f9d228c.301c3",
        "order": 2,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Encender",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4155.266098022461,
        "y": 1756.7500457763672,
        "wires": [
            [
                "f9317c6c.e6f58"
            ]
        ]
    },
    {
        "id": "36f70c2a.b2c914",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "8f9d228c.301c3",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Apagar",
        "tooltip": "",
        "color": "",
        "bgcolor": "#E9967A",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4096.266204833984,
        "y": 1615.9999561309814,
        "wires": [
            [
                "fc84a8bf.339228"
            ]
        ]
    },
    {
        "id": "8c451998.b65658",
        "type": "ui_text",
        "z": "cb95b8f7.9b4968",
        "group": "d663aec0.fe33b",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Ultima Actualizacion",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3600.0158081054688,
        "y": 4060.2500610351562,
        "wires": []
    },
    {
        "id": "fa688b04.665048",
        "type": "ui_text",
        "z": "cb95b8f7.9b4968",
        "group": "d663aec0.fe33b",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Estado de la puerta",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3641.0157623291016,
        "y": 4103.250114917755,
        "wires": []
    },
    {
        "id": "78ad841d.87adcc",
        "type": "ui_text",
        "z": "cb95b8f7.9b4968",
        "group": "d663aec0.fe33b",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Calidad de Aire",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3644.0157585144043,
        "y": 4143.25004529953,
        "wires": []
    },
    {
        "id": "aff7165a.b4b958",
        "type": "ui_text",
        "z": "cb95b8f7.9b4968",
        "group": "d663aec0.fe33b",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Estado de conexion",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3638.015769958496,
        "y": 4187.250030994415,
        "wires": []
    },
    {
        "id": "a5c5dee5.98886",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "acf3bb1.19ba048",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "5 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4127.00825881958,
        "y": 2033.0239696502686,
        "wires": [
            [
                "63ea9d1a.cf3584"
            ]
        ]
    },
    {
        "id": "47c7aa9c.a30674",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "acf3bb1.19ba048",
        "order": 4,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "10 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4154.75874710083,
        "y": 2113.023847579956,
        "wires": [
            [
                "415a3313.3c5e9c"
            ]
        ]
    },
    {
        "id": "206aeb85.b172e4",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "acf3bb1.19ba048",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "100 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4150.258014678955,
        "y": 2197.5237255096436,
        "wires": [
            [
                "86ce6549.76e5a8"
            ]
        ]
    },
    {
        "id": "731dd629.ee2bf8",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "acf3bb1.19ba048",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "200 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4145.758136749268,
        "y": 2271.773603439331,
        "wires": [
            [
                "5d571336.28f5ec"
            ]
        ]
    },
    {
        "id": "6a24a673.3d4048",
        "type": "ui_button",
        "z": "cb95b8f7.9b4968",
        "name": "",
        "group": "acf3bb1.19ba048",
        "order": 7,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "500 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4144.008136749268,
        "y": 2359.023603439331,
        "wires": [
            [
                "a9e7ece5.54069"
            ]
        ]
    },
    {
        "id": "e1e1b165.af5c6",
        "type": "comment",
        "z": "cb95b8f7.9b4968",
        "name": "METELO EN DASHBOARD LOKO8",
        "info": "",
        "x": 976.1737670898438,
        "y": 4818.246814727783,
        "wires": []
    },
    {
        "id": "407d7e26.e9903",
        "type": "telegrambot-config",
        "z": "",
        "botname": "pruebasjj_bot",
        "usernames": "",
        "chatIds": "",
        "pollInterval": "300"
    },
    {
        "id": "8fab76dc.3e75b8",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "iot.ac.uma.es",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "c5464916.ceffc8",
        "type": "mongodb",
        "z": "",
        "hostname": "iot.ac.uma.es",
        "connectOptions": "",
        "port": "27017",
        "db": "II2",
        "name": ""
    },
    {
        "id": "11f84db6.06eda2",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "iot.ac.uma.es",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "26879d4b.7e9e12",
        "type": "ui_group",
        "z": "",
        "name": "Grupo descarga",
        "tab": "b7ed1dac.34a86",
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "40706f5a.d9a34",
        "type": "ui_group",
        "z": "",
        "name": "Salón",
        "tab": "982d2b31.2094f8",
        "order": 3,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "12ab21eb.8662ce",
        "type": "ui_group",
        "z": "",
        "name": "Control de luz",
        "tab": "9905e55b.fa87c8",
        "order": 1,
        "disp": true,
        "width": "4",
        "collapse": false
    },
    {
        "id": "a5a62931.5d2068",
        "type": "ui_group",
        "z": "",
        "name": "Cocina",
        "tab": "982d2b31.2094f8",
        "order": 4,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "57330da7.251e34",
        "type": "ui_group",
        "z": "",
        "name": "Temperatura",
        "tab": "9905e55b.fa87c8",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "95c6b073.e17e4",
        "type": "ui_group",
        "z": "",
        "name": "Humedad",
        "tab": "9905e55b.fa87c8",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "bed665f6.de0078",
        "type": "ui_group",
        "z": "",
        "name": "Graficas",
        "tab": "9905e55b.fa87c8",
        "order": 3,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "94936d81.8681a",
        "type": "ui_group",
        "z": "",
        "name": "Actualizacion de datos",
        "tab": "845c094c.8d70a8",
        "order": 5,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "5ed1f6a1.e21328",
        "type": "ui_group",
        "z": "",
        "name": "Recogida de datos",
        "tab": "845c094c.8d70a8",
        "order": 3,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "bb511b41.0362b8",
        "type": "ui_group",
        "z": "",
        "name": "Alarma",
        "tab": "845c094c.8d70a8",
        "order": 4,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "8f9d228c.301c3",
        "type": "ui_group",
        "z": "",
        "name": "Switch y Led",
        "tab": "845c094c.8d70a8",
        "order": 2,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "d663aec0.fe33b",
        "type": "ui_group",
        "z": "",
        "name": "Registro de actividad",
        "tab": "9905e55b.fa87c8",
        "order": 5,
        "disp": true,
        "width": "10",
        "collapse": false
    },
    {
        "id": "acf3bb1.19ba048",
        "type": "ui_group",
        "z": "",
        "name": "Tiempo de pwm",
        "tab": "845c094c.8d70a8",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "b7ed1dac.34a86",
        "type": "ui_tab",
        "z": "",
        "name": "Ejemplo descarga",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "982d2b31.2094f8",
        "type": "ui_tab",
        "z": "",
        "name": "PANEL DE CONTROL",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "9905e55b.fa87c8",
        "type": "ui_tab",
        "z": "",
        "name": "Panel de control ",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "845c094c.8d70a8",
        "type": "ui_tab",
        "z": "",
        "name": "Configuracion",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    }
]
