[
    {
        "id": "73d3abd6.5859c4",
        "type": "tab",
        "label": "Telegram_trabajo",
        "disabled": false,
        "info": ""
    },
    {
        "id": "45edf97c.6e1ce8",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch encender",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que quieres encender?",
        "answers": [
            "cocina",
            "habitacion",
            "salon",
            "toilette",
            "todo"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 685,
        "y": 1130,
        "wires": [
            [
                "6827d43.14eec2c"
            ],
            [
                "d2449258.7a82a"
            ],
            [
                "d9c7cc1b.fb9d9"
            ],
            [
                "97750fa1.e7a26"
            ],
            [
                "58d2bfea.7ea5d"
            ],
            [
                "20fbcee9.380102"
            ]
        ]
    },
    {
        "id": "2c6d0a79.46d1b6",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/encender",
        "bot": "7cdb84f8.2dccfc",
        "command": "/encender",
        "commandType": "str",
        "commandCase": false,
        "x": 499,
        "y": 1138,
        "wires": [
            [
                "45edf97c.6e1ce8"
            ]
        ]
    },
    {
        "id": "37f24ebd.ad2092",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "habitacion-bajo",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "habitacion encendida a nivel bajo",
        "parseMode": "",
        "x": 1515.0000305175781,
        "y": 619.9999866485596,
        "wires": []
    },
    {
        "id": "a3555771.f0e788",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "salon-bajo",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "salon encendido a nivel bajo",
        "parseMode": "",
        "x": 1621.9999542236328,
        "y": 1068.999963760376,
        "wires": []
    },
    {
        "id": "788c83d8.df144c",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "wc-bajo",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "baño encendido a nivel bajo",
        "parseMode": "",
        "x": 1520.0000267028809,
        "y": 1520.9999084472656,
        "wires": []
    },
    {
        "id": "20c0f1f7.11d05e",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "todo-bajo",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se han encendido todas las luces a nivel bajo",
        "parseMode": "",
        "x": 1516.000114440918,
        "y": 2048.0001430511475,
        "wires": []
    },
    {
        "id": "29f998e4.419428",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch apagar",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que quieres apagar?",
        "answers": [
            "cocina",
            "habitacion",
            "salon",
            "toilette",
            "todo"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 335,
        "y": 2863.0003700256348,
        "wires": [
            [
                "67284c27.11ff84"
            ],
            [
                "21083638.8c0d7a"
            ],
            [
                "2f448de7.7760d2"
            ],
            [
                "4bfc2676.93d718"
            ],
            [
                "59bcaa02.af5354"
            ],
            [
                "9598e00f.6ad59"
            ]
        ]
    },
    {
        "id": "13fff036.793b7",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/apagar",
        "bot": "7cdb84f8.2dccfc",
        "command": "/apagar",
        "commandType": "str",
        "commandCase": false,
        "x": 55,
        "y": 2865.0003700256348,
        "wires": [
            [
                "29f998e4.419428"
            ]
        ]
    },
    {
        "id": "5f3da4cb.18648c",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "cocina apagada",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "cocina apagada",
        "parseMode": "",
        "x": 943.9999389648438,
        "y": 2733.000651359558,
        "wires": []
    },
    {
        "id": "88099013.c1a5f",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "habitacion apagado",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "habitacion apagada",
        "parseMode": "",
        "x": 988,
        "y": 2830.00048828125,
        "wires": []
    },
    {
        "id": "c5a58949.6f6818",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "salon apagado",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "salon apagado",
        "parseMode": "",
        "x": 990,
        "y": 2949.00048828125,
        "wires": []
    },
    {
        "id": "2d06b0c2.28184",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "wc apagado",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "baño apagado",
        "parseMode": "",
        "x": 947,
        "y": 3070.00048828125,
        "wires": []
    },
    {
        "id": "8a8926c4.ca4cf8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "todo apagado",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se han apagado todas las luces",
        "parseMode": "",
        "x": 930.9999237060547,
        "y": 3156.0005674362183,
        "wires": []
    },
    {
        "id": "6827d43.14eec2c",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch cocina",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 918.0000114440918,
        "y": 264.00002670288086,
        "wires": [
            [
                "2db01f98.a5453"
            ],
            [
                "4a820ba5.1c0fc4"
            ],
            [
                "3c0fa232.19d23e"
            ],
            [
                "bcb8344f.08c158"
            ],
            [
                "a0153ac.86939c8"
            ]
        ]
    },
    {
        "id": "f61a107.c6175f",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "cocina-medio",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "cocina encendida a nivel medio",
        "parseMode": "",
        "x": 1437.9999656677246,
        "y": 201.0000286102295,
        "wires": []
    },
    {
        "id": "8ec3850e.b1f7e8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "cocina-100%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "cocina encendida a nivel fuego valirio",
        "parseMode": "",
        "x": 1456.0000114440918,
        "y": 407.00003814697266,
        "wires": []
    },
    {
        "id": "70a10be2.963d24",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "cocina-alto",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "cocina encendida a nivel alto",
        "parseMode": "",
        "x": 1448.0000648498535,
        "y": 295.00003814697266,
        "wires": []
    },
    {
        "id": "d2449258.7a82a",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch habitacion",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 973.0000114440918,
        "y": 758.0000267028809,
        "wires": [
            [
                "d168e505.d901f8"
            ],
            [
                "4b0b7321.7a449c"
            ],
            [
                "5c4ae98c.f61a28"
            ],
            [
                "29af507e.b3d37"
            ],
            [
                "f503b556.012c48"
            ]
        ]
    },
    {
        "id": "3e33293a.6f9056",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "habitacion-medio",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "habitacion encendida a nivel medio",
        "parseMode": "",
        "x": 1527.0000305175781,
        "y": 729.9999866485596,
        "wires": []
    },
    {
        "id": "4a207f4d.6543b",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "habitacion-alto",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "habitacion encendida a nivel alto",
        "parseMode": "",
        "x": 1532.0000305175781,
        "y": 826.9999866485596,
        "wires": []
    },
    {
        "id": "9e0d6bd4.9e0208",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "habitacion-100%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "habitacion encendida a todo leche",
        "parseMode": "",
        "x": 1534.0000305175781,
        "y": 938.9999866485596,
        "wires": []
    },
    {
        "id": "d9c7cc1b.fb9d9",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch salon",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 1052.0000114440918,
        "y": 1188.0000267028809,
        "wires": [
            [
                "4d9e9a5f.ecaf04"
            ],
            [
                "ed3da7ff.35cea8"
            ],
            [
                "19fc4b73.a45125"
            ],
            [
                "19e245db.2dc41a"
            ],
            [
                "94ef5e82.99b09"
            ]
        ]
    },
    {
        "id": "97750fa1.e7a26",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch wc",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 980.0000305175781,
        "y": 1613.0000267028809,
        "wires": [
            [
                "5c29a138.23e21"
            ],
            [
                "300579a5.32c906"
            ],
            [
                "ce770144.e9689"
            ],
            [
                "126795d9.18bcca"
            ],
            [
                "66f9660e.c480a8"
            ]
        ]
    },
    {
        "id": "90e20dbd.10f0e",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "salon-medio",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "salon encendido a nivel medio",
        "parseMode": "",
        "x": 1646.9999542236328,
        "y": 1175.999963760376,
        "wires": []
    },
    {
        "id": "a391e1c.5206b2",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "salon-alto",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "salon encendido a nivel alto",
        "parseMode": "",
        "x": 1657.9999542236328,
        "y": 1287.999963760376,
        "wires": []
    },
    {
        "id": "4d5639af.cd7888",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "salon-100%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "salon encendido para HellBoy",
        "parseMode": "",
        "x": 1665.9999542236328,
        "y": 1398.999963760376,
        "wires": []
    },
    {
        "id": "8086bf90.52f07",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "wc-medio",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "baño encendido a nivel medio",
        "parseMode": "",
        "x": 1522.0000267028809,
        "y": 1615.9999084472656,
        "wires": []
    },
    {
        "id": "2e2f91c8.d0b2be",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "wc-alto",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "baño encendido a nivel alto",
        "parseMode": "",
        "x": 1538.0000038146973,
        "y": 1702.0000286102295,
        "wires": []
    },
    {
        "id": "8216c459.fd63c8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "wc-100%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "baño encendido al maximo",
        "parseMode": "",
        "x": 1562.9999389648438,
        "y": 1801.999979019165,
        "wires": []
    },
    {
        "id": "58d2bfea.7ea5d",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch todo",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 1034.0000267028809,
        "y": 2145.0000343322754,
        "wires": [
            [
                "f003c54d.af55a8"
            ],
            [
                "8a5d0629.1cfcd8"
            ],
            [
                "115bc4d6.f919ab"
            ],
            [
                "7922bfc4.cf3eb"
            ],
            [
                "f4e1f80d.fa9128"
            ]
        ]
    },
    {
        "id": "5670f11a.135ec",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "todo-medio",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se han encendido todas las luces a nivel medio",
        "parseMode": "",
        "x": 1387,
        "y": 2191.000219345093,
        "wires": []
    },
    {
        "id": "8eaba100.8525c",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "todo-alto",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se han encendido todas las luces a nivel alto",
        "parseMode": "",
        "x": 1419.999921798706,
        "y": 2354.9999227523804,
        "wires": []
    },
    {
        "id": "be5312cd.520a2",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "todo-100%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se han encendido todas las luces a toda ostia",
        "parseMode": "",
        "x": 1385.9999752044678,
        "y": 2457.999822616577,
        "wires": []
    },
    {
        "id": "1c3da85a.6dc9d8",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Encender y regular PWM",
        "info": "e",
        "x": 604.0000114440918,
        "y": 792.0000267028809,
        "wires": []
    },
    {
        "id": "c7115acb.385178",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Apagar luces",
        "info": "e",
        "x": 330,
        "y": 2767.0003700256348,
        "wires": []
    },
    {
        "id": "26828bfc.35a704",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/estado",
        "bot": "7cdb84f8.2dccfc",
        "command": "/estado",
        "commandType": "str",
        "commandCase": false,
        "x": 3598.9998931884766,
        "y": 219.99999809265137,
        "wires": [
            [
                "4c73695c.751de8"
            ]
        ]
    },
    {
        "id": "4c73695c.751de8",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch estado",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "De que quieres ver el estado?",
        "answers": [
            "cocina",
            "habitacion",
            "salon",
            "toilette",
            "todo"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3767.999984741211,
        "y": 219.00000381469727,
        "wires": [
            [
                "380fdef9.0a2202"
            ],
            [
                "b10d1e38.8b564"
            ],
            [
                "14ab31a5.06ea2e"
            ],
            [
                "7a794703.7f2a08"
            ],
            [
                "380fdef9.0a2202",
                "b10d1e38.8b564",
                "14ab31a5.06ea2e",
                "7a794703.7f2a08",
                "f27dfeb1.44b1f"
            ],
            [
                "c26192ed.023d7"
            ]
        ]
    },
    {
        "id": "4570545f.bd96cc",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "estado habitacion",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4841.000015258789,
        "y": 177.99999809265137,
        "wires": []
    },
    {
        "id": "99869d21.71c2c",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "estado salon",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4822.000015258789,
        "y": 227.99999809265137,
        "wires": []
    },
    {
        "id": "68845b69.7d7434",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "estado baño",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4825.000015258789,
        "y": 275.99999809265137,
        "wires": []
    },
    {
        "id": "3b619e6.6598462",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Estado de los sensores",
        "info": "e",
        "x": 3791.9998931884766,
        "y": 135.99999809265137,
        "wires": []
    },
    {
        "id": "4a0dea43.352cb4",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/start",
        "bot": "7cdb84f8.2dccfc",
        "command": "/start",
        "commandType": "str",
        "commandCase": false,
        "x": 55,
        "y": 418.5557918548584,
        "wires": [
            [
                "6dffe25c.0e471c",
                "a996d848.f26a68"
            ]
        ]
    },
    {
        "id": "669a0a5e.dd2054",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "mensaje de bienvenida e informacion",
        "info": "e",
        "x": 225,
        "y": 146.0000228881836,
        "wires": []
    },
    {
        "id": "526ba4fe.a639bc",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP5826449/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.685791015625,
        "y": 3783.5608530044556,
        "wires": [
            [
                "ef22e514.a60528",
                "f7a0daec.422608"
            ]
        ]
    },
    {
        "id": "2173bc2b.e29e04",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 157.00001525878906,
        "y": 3783.3335905075073,
        "wires": [
            [
                "655d582d.259598"
            ]
        ]
    },
    {
        "id": "655d582d.259598",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 419,
        "y": 3783.3335580825806,
        "wires": [
            [
                "526ba4fe.a639bc",
                "2c870caa.207634"
            ]
        ]
    },
    {
        "id": "380fdef9.0a2202",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Registro cocina",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\": \"infind/GRUPO2/ESP5826449/datos\"};\n\nreturn msg;\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4048.0001831054688,
        "y": 114.00000190734863,
        "wires": [
            [
                "3f19eec5.577372"
            ]
        ]
    },
    {
        "id": "3f19eec5.577372",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4331.999893188477,
        "y": 112.99999809265137,
        "wires": [
            [
                "15413e25.98d9f2"
            ]
        ]
    },
    {
        "id": "15413e25.98d9f2",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "respuesta cocina",
        "func": "var vcc=msg.payload[0].vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led =msg.payload[0].LED;\n\n\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado de la cocina es el siguiente:  \\n\";\nmsg.payload+= \"el voltaje de la placa es \"+vcc+\" voltios\\n \"\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"La cocina esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"La cocina esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"La cocina esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"La cocina esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"La cocina esta apagada  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4624.700088500977,
        "y": 113.99999809265137,
        "wires": [
            [
                "9806db65.243678"
            ]
        ]
    },
    {
        "id": "9806db65.243678",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "estado cocina",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4846.999893188477,
        "y": 97.99999809265137,
        "wires": []
    },
    {
        "id": "f92a9ae8.e147b8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1506.999984741211,
        "y": 40.000003814697266,
        "wires": []
    },
    {
        "id": "1f738cfd.a08823",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1273.0001792907715,
        "y": 72.00004005432129,
        "wires": [
            [
                "f92a9ae8.e147b8",
                "4be4cef3.02a51"
            ]
        ]
    },
    {
        "id": "2db01f98.a5453",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1129.0001754760742,
        "y": 79.0000228881836,
        "wires": [
            [
                "1f738cfd.a08823"
            ]
        ]
    },
    {
        "id": "4be4cef3.02a51",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "cocina-bajo",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "cocina encendida a nivel bajo",
        "parseMode": "",
        "x": 1435.9999656677246,
        "y": 90.00002861022949,
        "wires": []
    },
    {
        "id": "28dfd29d.ed81ae",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1493.9999656677246,
        "y": 147.0000286102295,
        "wires": []
    },
    {
        "id": "b06edda6.fb71d",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1265.0000534057617,
        "y": 163.00004386901855,
        "wires": [
            [
                "28dfd29d.ed81ae",
                "f61a107.c6175f"
            ]
        ]
    },
    {
        "id": "4a820ba5.1c0fc4",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1132.0000534057617,
        "y": 169.0000295639038,
        "wires": [
            [
                "b06edda6.fb71d"
            ]
        ]
    },
    {
        "id": "6e274b2a.299944",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1260,
        "y": 256.0000190734863,
        "wires": [
            [
                "70a10be2.963d24",
                "59c1a418.79067c"
            ]
        ]
    },
    {
        "id": "3c0fa232.19d23e",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1118.00004196167,
        "y": 252.00003814697266,
        "wires": [
            [
                "6e274b2a.299944"
            ]
        ]
    },
    {
        "id": "59c1a418.79067c",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1513.0000648498535,
        "y": 247.00003814697266,
        "wires": []
    },
    {
        "id": "c21b614f.e88fd",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1261.0000267028809,
        "y": 323.00007820129395,
        "wires": [
            [
                "52b55a58.d9aae4",
                "8ec3850e.b1f7e8"
            ]
        ]
    },
    {
        "id": "bcb8344f.08c158",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1123.00004196167,
        "y": 312.000036239624,
        "wires": [
            [
                "c21b614f.e88fd"
            ]
        ]
    },
    {
        "id": "52b55a58.d9aae4",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1531.0000114440918,
        "y": 353.00003814697266,
        "wires": []
    },
    {
        "id": "26a1bf92.32ab6",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 743.0000076293945,
        "y": 2763.0006351470947,
        "wires": [
            [
                "ca3b3517.9b91b8",
                "5f3da4cb.18648c"
            ]
        ]
    },
    {
        "id": "67284c27.11ff84",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 526.0000610351562,
        "y": 2763.000732421875,
        "wires": [
            [
                "26a1bf92.32ab6"
            ]
        ]
    },
    {
        "id": "ca3b3517.9b91b8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 980.9999389648438,
        "y": 2680.0006494522095,
        "wires": []
    },
    {
        "id": "b10d1e38.8b564",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Registro habitacion",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\": \"infind/GRUPO2/ESP8789990/datos\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4024.9998931884766,
        "y": 184.99999809265137,
        "wires": [
            [
                "31264494.ef7dcc"
            ]
        ]
    },
    {
        "id": "31264494.ef7dcc",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4321.999893188477,
        "y": 192.99999809265137,
        "wires": [
            [
                "f780dcef.600bd"
            ]
        ]
    },
    {
        "id": "f780dcef.600bd",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "respuesta habitacion",
        "func": "var vcc=msg.payload[0].vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led = msg.payload[0].LED;\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado de la habitacion es el siguiente:  \\n\";\nmsg.payload += \"el voltaje de la placa es \"+vcc+\" voltios\\n \"\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"La  habitacion esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"La  habitacion esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"La  habitacion esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"La  habitacion esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"La habitacion esta apagada  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4623.699844360352,
        "y": 171.99999809265137,
        "wires": [
            [
                "4570545f.bd96cc"
            ]
        ]
    },
    {
        "id": "14ab31a5.06ea2e",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Registro salon",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\": \"infind/GRUPO2/ESP5821487/datos\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4017.9998931884766,
        "y": 235.99999809265137,
        "wires": [
            [
                "941600ee.e7226"
            ]
        ]
    },
    {
        "id": "941600ee.e7226",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4328.999893188477,
        "y": 237.99999809265137,
        "wires": [
            [
                "6f13ebdf.ee21e4"
            ]
        ]
    },
    {
        "id": "6f13ebdf.ee21e4",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "respuesta salon",
        "func": "var vcc=msg.payload[0].vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led = msg.payload[0].LED;\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado del salon es el siguiente:  \\n\";\nmsg.payload += \"el voltaje de la placa es \"+vcc+\" voltios\\n \"\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"El salon esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"El salon esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"El salon esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"El salon esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"El salon esta apagado  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4616.699844360352,
        "y": 224.99999809265137,
        "wires": [
            [
                "99869d21.71c2c"
            ]
        ]
    },
    {
        "id": "7a794703.7f2a08",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Registro baño",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\":\"infind/GRUPO2/ESP1122489/datos\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4030.0001678466797,
        "y": 274.9999990463257,
        "wires": [
            [
                "8bec64fa.dbe7e8",
                "db93d18e.8efba"
            ]
        ]
    },
    {
        "id": "8bec64fa.dbe7e8",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4331.999893188477,
        "y": 289.99999809265137,
        "wires": [
            [
                "95b9aaca.647aa8",
                "db93d18e.8efba"
            ]
        ]
    },
    {
        "id": "95b9aaca.647aa8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "respuesta baño",
        "func": "var vcc=msg.payload[0].vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led = msg.payload[0].LED;\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado del baño es el siguiente:  \\n\";\nmsg.payload += \"el voltaje de la placa es \"+vcc+\" voltios\\n \"\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"El baño esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"El baño esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"El baño esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"El baño esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"El baño esta apagado  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4619.699844360352,
        "y": 276.99999809265137,
        "wires": [
            [
                "68845b69.7d7434"
            ]
        ]
    },
    {
        "id": "af670b62.b62da8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 748.9999694824219,
        "y": 2823.0004873275757,
        "wires": [
            [
                "dd98a6a8.1220e8",
                "88099013.c1a5f"
            ]
        ]
    },
    {
        "id": "21083638.8c0d7a",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 529.9999847412109,
        "y": 2819.000569343567,
        "wires": [
            [
                "af670b62.b62da8"
            ]
        ]
    },
    {
        "id": "dd98a6a8.1220e8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1027,
        "y": 2781.00048828125,
        "wires": []
    },
    {
        "id": "18f17fb.3e6308",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 748.0000076293945,
        "y": 2916.0005378723145,
        "wires": [
            [
                "caf46bc8.b4d908",
                "c5a58949.6f6818"
            ]
        ]
    },
    {
        "id": "2f448de7.7760d2",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 532.9999923706055,
        "y": 2905.0006351470947,
        "wires": [
            [
                "18f17fb.3e6308"
            ]
        ]
    },
    {
        "id": "caf46bc8.b4d908",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1043,
        "y": 2902.00048828125,
        "wires": []
    },
    {
        "id": "bbe79cbc.f2295",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 753.0000228881836,
        "y": 3003.0007610321045,
        "wires": [
            [
                "decdd25d.cd534",
                "2d06b0c2.28184"
            ]
        ]
    },
    {
        "id": "4bfc2676.93d718",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 556.0000076293945,
        "y": 2989.0008583068848,
        "wires": [
            [
                "bbe79cbc.f2295"
            ]
        ]
    },
    {
        "id": "decdd25d.cd534",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1029,
        "y": 3022.00048828125,
        "wires": []
    },
    {
        "id": "8675dc27.024f6",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 763.9999847412109,
        "y": 3078.0005493164062,
        "wires": [
            [
                "8a8926c4.ca4cf8",
                "decdd25d.cd534",
                "caf46bc8.b4d908",
                "dd98a6a8.1220e8",
                "ca3b3517.9b91b8"
            ]
        ]
    },
    {
        "id": "59bcaa02.af5354",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 561.0000343322754,
        "y": 3068.0006465911865,
        "wires": [
            [
                "8675dc27.024f6"
            ]
        ]
    },
    {
        "id": "a0153ac.86939c8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 942.0000114440918,
        "y": 416.00002670288086,
        "wires": []
    },
    {
        "id": "d168e505.d901f8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1190.0000114440918,
        "y": 603.0000267028809,
        "wires": [
            [
                "245d18a4.4cda38"
            ]
        ]
    },
    {
        "id": "4b0b7321.7a449c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1202.0000114440918,
        "y": 699.0000267028809,
        "wires": [
            [
                "2575bc51.ea6f34"
            ]
        ]
    },
    {
        "id": "5c4ae98c.f61a28",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1204.0000114440918,
        "y": 771.0000267028809,
        "wires": [
            [
                "f75221ec.fdb8e"
            ]
        ]
    },
    {
        "id": "29af507e.b3d37",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1211.0000114440918,
        "y": 859.0000267028809,
        "wires": [
            [
                "18ca3a8.5521bc6"
            ]
        ]
    },
    {
        "id": "245d18a4.4cda38",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1333.9999923706055,
        "y": 605.0000419616699,
        "wires": [
            [
                "37f24ebd.ad2092",
                "92f576c8.c42a58"
            ]
        ]
    },
    {
        "id": "2575bc51.ea6f34",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1340.9999923706055,
        "y": 704.0000419616699,
        "wires": [
            [
                "3e33293a.6f9056",
                "623972b.adf418c"
            ]
        ]
    },
    {
        "id": "f75221ec.fdb8e",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1345.9999923706055,
        "y": 785.0000419616699,
        "wires": [
            [
                "4a207f4d.6543b",
                "3d313f54.91f87"
            ]
        ]
    },
    {
        "id": "18ca3a8.5521bc6",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1349.9999923706055,
        "y": 854.0000419616699,
        "wires": [
            [
                "9e0d6bd4.9e0208",
                "5f32b2c8.e0dbac"
            ]
        ]
    },
    {
        "id": "92f576c8.c42a58",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1569.0000305175781,
        "y": 561.9999866485596,
        "wires": []
    },
    {
        "id": "623972b.adf418c",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1575.0000305175781,
        "y": 670.9999866485596,
        "wires": []
    },
    {
        "id": "3d313f54.91f87",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1581.0000305175781,
        "y": 783.9999866485596,
        "wires": []
    },
    {
        "id": "5f32b2c8.e0dbac",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1582.0000305175781,
        "y": 887.9999866485596,
        "wires": []
    },
    {
        "id": "4d9e9a5f.ecaf04",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1258.999984741211,
        "y": 1102.9999771118164,
        "wires": [
            [
                "f9241bf2.7b0688"
            ]
        ]
    },
    {
        "id": "ed3da7ff.35cea8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1257.0000114440918,
        "y": 1168.0000267028809,
        "wires": [
            [
                "f9aff632.da0088"
            ]
        ]
    },
    {
        "id": "19fc4b73.a45125",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1257.99995803833,
        "y": 1229.0000267028809,
        "wires": [
            [
                "534af0a8.2eef4"
            ]
        ]
    },
    {
        "id": "19e245db.2dc41a",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1266.000015258789,
        "y": 1288.000002861023,
        "wires": [
            [
                "91d2b476.ddfc48"
            ]
        ]
    },
    {
        "id": "f9241bf2.7b0688",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1398.9999389648438,
        "y": 1095.9999904632568,
        "wires": [
            [
                "a3555771.f0e788",
                "24b567cd.35cf78"
            ]
        ]
    },
    {
        "id": "f9aff632.da0088",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1390.9999408721924,
        "y": 1164.9999904632568,
        "wires": [
            [
                "90e20dbd.10f0e",
                "aa14003f.3cfe7"
            ]
        ]
    },
    {
        "id": "534af0a8.2eef4",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1395.0000457763672,
        "y": 1234.9999732971191,
        "wires": [
            [
                "a391e1c.5206b2",
                "be1dcedc.3d3ff"
            ]
        ]
    },
    {
        "id": "91d2b476.ddfc48",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1402.999963760376,
        "y": 1296.0000295639038,
        "wires": [
            [
                "4d5639af.cd7888",
                "79f409ef.305eb8"
            ]
        ]
    },
    {
        "id": "24b567cd.35cf78",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1635.9999542236328,
        "y": 1024.999963760376,
        "wires": []
    },
    {
        "id": "aa14003f.3cfe7",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1652.9999542236328,
        "y": 1121.999963760376,
        "wires": []
    },
    {
        "id": "79f409ef.305eb8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1675.9999542236328,
        "y": 1343.999963760376,
        "wires": []
    },
    {
        "id": "be1dcedc.3d3ff",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1679.9999542236328,
        "y": 1241.999963760376,
        "wires": []
    },
    {
        "id": "5c29a138.23e21",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1157.0000038146973,
        "y": 1537.000018119812,
        "wires": [
            [
                "390511ca.f2d19e"
            ]
        ]
    },
    {
        "id": "300579a5.32c906",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1157,
        "y": 1594.0000219345093,
        "wires": [
            [
                "f47161be.336ec"
            ]
        ]
    },
    {
        "id": "ce770144.e9689",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1169.0000305175781,
        "y": 1651.0000267028809,
        "wires": [
            [
                "68c79d4b.fe4fd4"
            ]
        ]
    },
    {
        "id": "126795d9.18bcca",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1186.0000305175781,
        "y": 1717.0000314712524,
        "wires": [
            [
                "42b4d7bc.c21538"
            ]
        ]
    },
    {
        "id": "390511ca.f2d19e",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1294.0000114440918,
        "y": 1519.999963760376,
        "wires": [
            [
                "788c83d8.df144c",
                "2a8b1c02.c5fc94"
            ]
        ]
    },
    {
        "id": "f47161be.336ec",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1297.999984741211,
        "y": 1591.9999141693115,
        "wires": [
            [
                "8086bf90.52f07",
                "28110d6.7b5ddf2"
            ]
        ]
    },
    {
        "id": "68c79d4b.fe4fd4",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1304.0000114440918,
        "y": 1652.9999713897705,
        "wires": [
            [
                "2e2f91c8.d0b2be",
                "38c16222.5e347e"
            ]
        ]
    },
    {
        "id": "42b4d7bc.c21538",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1315.0000629425049,
        "y": 1711.0000324249268,
        "wires": [
            [
                "8216c459.fd63c8",
                "6e0d20a9.2c91c"
            ]
        ]
    },
    {
        "id": "2a8b1c02.c5fc94",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1536.0000267028809,
        "y": 1462.9999084472656,
        "wires": []
    },
    {
        "id": "28110d6.7b5ddf2",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1564.0000267028809,
        "y": 1569.9999084472656,
        "wires": []
    },
    {
        "id": "38c16222.5e347e",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1620.9998512268066,
        "y": 1663.0000267028809,
        "wires": []
    },
    {
        "id": "6e0d20a9.2c91c",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1634.9999961853027,
        "y": 1751.9999771118164,
        "wires": []
    },
    {
        "id": "f003c54d.af55a8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1196.0000686645508,
        "y": 2003.99995803833,
        "wires": [
            [
                "18581ee1.2a4b81"
            ]
        ]
    },
    {
        "id": "8a5d0629.1cfcd8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1211.0000762939453,
        "y": 2128.0001106262207,
        "wires": [
            [
                "1cd814fc.2832ab"
            ]
        ]
    },
    {
        "id": "115bc4d6.f919ab",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1229.9999771118164,
        "y": 2254.000026702881,
        "wires": [
            [
                "b9e1897b.0920b8"
            ]
        ]
    },
    {
        "id": "7922bfc4.cf3eb",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1233.0000476837158,
        "y": 2389.9999504089355,
        "wires": [
            [
                "e954b698.f19e98"
            ]
        ]
    },
    {
        "id": "18581ee1.2a4b81",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1344.0000686645508,
        "y": 1999.99995803833,
        "wires": [
            [
                "20c0f1f7.11d05e",
                "d59588f7.63bc48",
                "9350a5e.b1aaa58",
                "898df4aa.d0a2a8",
                "716955e4.326d7c"
            ]
        ]
    },
    {
        "id": "1cd814fc.2832ab",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1363.0000762939453,
        "y": 2127.0001106262207,
        "wires": [
            [
                "5670f11a.135ec",
                "999b85e2.44bf68",
                "6dd42073.dea28",
                "4a0bc4b.3247a3c",
                "50d28d51.1bce54"
            ]
        ]
    },
    {
        "id": "b9e1897b.0920b8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1391.0000381469727,
        "y": 2289.999972343445,
        "wires": [
            [
                "8eaba100.8525c",
                "14e41dc2.42a082",
                "c253549e.96c0a8",
                "2f19cdf4.2ec5b2",
                "44a68354.94329c"
            ]
        ]
    },
    {
        "id": "e954b698.f19e98",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1393.0000476837158,
        "y": 2402.9999504089355,
        "wires": [
            [
                "be5312cd.520a2",
                "95b1d291.50a46",
                "8035f3d7.94db8",
                "32ca33ed.7f77cc",
                "ef08a4bb.ff7338"
            ]
        ]
    },
    {
        "id": "e622596d.487b78",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 807,
        "y": 4337.69677734375,
        "wires": []
    },
    {
        "id": "e12d49dc.d61608",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "sensor puerta",
        "func": "var deteccion = msg.payload.VL53L0X;\n\nif (deteccion > -1 && deteccion <=100) \nmsg.payload = \"Se ha abierto la puerta\";\n\nif (deteccion > 100) \nmsg.payload = \"Se ha cerrado la puerta\";\nif (deteccion == -1)\nmsg.payload = \"Sensor láser de la puerta no inicializado\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 600.3333435058594,
        "y": 4527.697163581848,
        "wires": [
            [
                "a8e534cc.cc0248"
            ]
        ]
    },
    {
        "id": "74a396e7.e46838",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/puerta",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 168.33335876464844,
        "y": 4562.697616577148,
        "wires": [
            [
                "5c748994.3f1848"
            ]
        ]
    },
    {
        "id": "1be87b1d.b1f575",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "calidad del aire de la cocina",
        "info": "",
        "x": 145.33334350585938,
        "y": 4631.697322845459,
        "wires": []
    },
    {
        "id": "689ba810.3848f8",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "estado puerta principal",
        "info": "",
        "x": 168.33335876464844,
        "y": 4515.6974058151245,
        "wires": []
    },
    {
        "id": "e936af34.a1545",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 149.00001525878906,
        "y": 4273.697261810303,
        "wires": [
            [
                "f692b5b9.759368"
            ]
        ]
    },
    {
        "id": "1cc5ec0c.3b6be4",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "temperatura cocina",
        "func": "var deteccion = msg.payload.DHT11.temp;\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DE LA COCINA ES DEMASIADO ALTA \\n\";\n\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DE LA COCINA ES DEMASIADO BAJA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 543.0000152587891,
        "y": 4270.696767807007,
        "wires": [
            [
                "e622596d.487b78"
            ]
        ]
    },
    {
        "id": "e2932f72.480d",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "temperaturas",
        "info": "",
        "x": 140.00001525878906,
        "y": 4229.697128295898,
        "wires": []
    },
    {
        "id": "14804bd6.996f24",
        "type": "mongodb out",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 889.772705078125,
        "y": 3875.3335580825806,
        "wires": []
    },
    {
        "id": "28cadbbe.8abd44",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP8789990/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.685791015625,
        "y": 3876.5608530044556,
        "wires": [
            [
                "14804bd6.996f24",
                "b7e3de99.f490e"
            ]
        ]
    },
    {
        "id": "9d857744.026c88",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 160.99998474121094,
        "y": 3887.3335275650024,
        "wires": [
            [
                "a1d9ba29.8abee8"
            ]
        ]
    },
    {
        "id": "a1d9ba29.8abee8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 427.2225971221924,
        "y": 3887.3343019485474,
        "wires": [
            [
                "28cadbbe.8abd44",
                "bd34dddf.87a15"
            ]
        ]
    },
    {
        "id": "14b94a52.b67926",
        "type": "mongodb out",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 904.772705078125,
        "y": 3960.3335580825806,
        "wires": []
    },
    {
        "id": "705f258b.0ebf5c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP1122489/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 611.685791015625,
        "y": 3962.5608530044556,
        "wires": [
            [
                "14b94a52.b67926",
                "cb94aee1.f9481",
                "7810adf7.653f94"
            ]
        ]
    },
    {
        "id": "4ae2c25c.be5d0c",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 145,
        "y": 3975.3335275650024,
        "wires": [
            [
                "43acd4f2.deaffc"
            ]
        ]
    },
    {
        "id": "43acd4f2.deaffc",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 417,
        "y": 3969.3335580825806,
        "wires": [
            [
                "705f258b.0ebf5c",
                "400acd7.3a84f34"
            ]
        ]
    },
    {
        "id": "b3e93f75.9a719",
        "type": "mongodb out",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 900.772705078125,
        "y": 4054.3335580825806,
        "wires": []
    },
    {
        "id": "6a045535.19891c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP5821487/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.685791015625,
        "y": 4056.5608530044556,
        "wires": [
            [
                "b3e93f75.9a719",
                "c95438c.ca088c8"
            ]
        ]
    },
    {
        "id": "8d1dccaa.54763",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 152,
        "y": 4060.333372116089,
        "wires": [
            [
                "321893aa.d0da9c"
            ]
        ]
    },
    {
        "id": "321893aa.d0da9c",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 445.0000114440918,
        "y": 4055.333734512329,
        "wires": [
            [
                "6a045535.19891c",
                "142d5d64.3e4873"
            ]
        ]
    },
    {
        "id": "b189421d.66fbe",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "javi",
        "info": "e",
        "x": 91,
        "y": 3745.3335580825806,
        "wires": []
    },
    {
        "id": "798e57f4.c600e8",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Frank",
        "info": "e",
        "x": 94,
        "y": 3851.3335580825806,
        "wires": []
    },
    {
        "id": "490f0302.c7d6dc",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Leo",
        "info": "e",
        "x": 114,
        "y": 4027.3335580825806,
        "wires": []
    },
    {
        "id": "632bb0a7.f2cc5",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Juanjo",
        "info": "e",
        "x": 102,
        "y": 3939.3335580825806,
        "wires": []
    },
    {
        "id": "f692b5b9.759368",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 365.0000457763672,
        "y": 4271.696767807007,
        "wires": [
            [
                "1cc5ec0c.3b6be4"
            ]
        ]
    },
    {
        "id": "5c748994.3f1848",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 443.33337783813477,
        "y": 4589.697616577148,
        "wires": [
            [
                "e12d49dc.d61608",
                "cb66a41a.f75ea8"
            ]
        ]
    },
    {
        "id": "f27dfeb1.44b1f",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "estado casa",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se va a mostrar el estado de cada parte de la casa",
        "parseMode": "",
        "x": 4049.9998931884766,
        "y": 333.99999809265137,
        "wires": []
    },
    {
        "id": "d59588f7.63bc48",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1584.0003509521484,
        "y": 1889.9999046325684,
        "wires": []
    },
    {
        "id": "9350a5e.b1aaa58",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP230/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1562.378158569336,
        "y": 1924.9146995544434,
        "wires": []
    },
    {
        "id": "898df4aa.d0a2a8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1592.378158569336,
        "y": 1962.0965843200684,
        "wires": []
    },
    {
        "id": "716955e4.326d7c",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1607.378158569336,
        "y": 1994.0965843200684,
        "wires": []
    },
    {
        "id": "50d28d51.1bce54",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1649.378074645996,
        "y": 2119.8239192962646,
        "wires": []
    },
    {
        "id": "4a0bc4b.3247a3c",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1654.7559509277344,
        "y": 2171.738649368286,
        "wires": []
    },
    {
        "id": "6dd42073.dea28",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1674.7559509277344,
        "y": 2208.920534133911,
        "wires": []
    },
    {
        "id": "999b85e2.44bf68",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1689.7559509277344,
        "y": 2240.920534133911,
        "wires": []
    },
    {
        "id": "14e41dc2.42a082",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1739.3779277801514,
        "y": 2374.8237075805664,
        "wires": []
    },
    {
        "id": "c253549e.96c0a8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1727.7557353973389,
        "y": 2409.7385025024414,
        "wires": []
    },
    {
        "id": "2f19cdf4.2ec5b2",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1747.7557353973389,
        "y": 2446.9203872680664,
        "wires": []
    },
    {
        "id": "44a68354.94329c",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1751.75563621521,
        "y": 2493.9202995300293,
        "wires": []
    },
    {
        "id": "8035f3d7.94db8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1731.378179550171,
        "y": 2564.550874710083,
        "wires": []
    },
    {
        "id": "32ca33ed.7f77cc",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1719.7559871673584,
        "y": 2599.465669631958,
        "wires": []
    },
    {
        "id": "ef08a4bb.ff7338",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1739.7559871673584,
        "y": 2636.647554397583,
        "wires": []
    },
    {
        "id": "95b1d291.50a46",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 1748.7560329437256,
        "y": 2685.647529602051,
        "wires": []
    },
    {
        "id": "d5f0335e.bcffe",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "-------------------------------------Avisos especiales-------------------------------------",
        "info": "",
        "x": 522.92333984375,
        "y": 4170.521593093872,
        "wires": []
    },
    {
        "id": "6dffe25c.0e471c",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch bienvenida",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "¡Hola! Soy el bot del grupo 2, Puedo hacer muchas cosas, solo tienes que pulsar en una de los siguientes opciones. ¿No sabes que hace cada una?, ¡Tranquilo!, tienes un tutorial justo debajo, ahora sí... ¿En que puedo ayudarte?",
        "answers": [
            "Encender",
            "Apagar",
            "Ver estado",
            "Tutorial"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 247.89588165283203,
        "y": 295.4450912475586,
        "wires": [
            [
                "d42a3844.f8a058"
            ],
            [
                "1c68476a.521549"
            ],
            [
                "fd058292.a77a7"
            ],
            [
                "a586fc6c.3cee7"
            ],
            []
        ]
    },
    {
        "id": "fd886c8b.123ab",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Ayuda",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 582.8958358764648,
        "y": 336.0002899169922,
        "wires": []
    },
    {
        "id": "a586fc6c.3cee7",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "ayuda mensaje",
        "func": "msg.payload = \"¿Estás un poco perdido? Tranquilo, yo te ayudo. \\n\";\nmsg.payload += \"En primer lugar puedes utilizar el comando /encender o /apagar para modificar las luces. \\n\";\nmsg.payload += \"Una vez lo hagas podrás elegir qué quieres enceder, tienes varios niveles para elegir. \\n\";\nmsg.payload += \"Por otro lado tienes el comando /estado para comprobar cierta información de cada rincón de la casa. \\n\";\nmsg.payload += \"Otro comando interesante es /prediccion, que te permite ver la prediccion del tiempo atmosferico. \\n\";\nmsg.payload += \"Con el comando /configuracion podrás tocar varios parámetros como el tiempo de recogida de datos, el de pwm, el estado del switch y del led y el tiempo de actualizacion . Tambien puedes actualizar manualmente con /actualiza \\n\";\nmsg.payload += \"Si escribes /TempMax o /TempMin podrás cambiar la temperatura a la que quieres los avisos \\n\";\nmsg.payload += \"Con /HumMax y /HumMin puedes regular los avisos para la humedad, con /logica puedes cambiar la lógica de los LEDs \\n\";\nmsg.payload += \"Hay otros mensajes que se envian automaticamente si ocurren situaciones concretas, como por ejemplo, que se abra la puerta de la casa o que tengas un nivel de humo demasiado alto. \\n\";\nmsg.payload += \"¿No me crees? Pues metele fuego a la casa para que veas lo efectivo que soy ^^. \\n\";\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 491.89585876464844,
        "y": 276.00025939941406,
        "wires": [
            [
                "fd886c8b.123ab"
            ]
        ]
    },
    {
        "id": "b5300bda.c83e18",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4813.999984741211,
        "y": 2805.7644367218018,
        "wires": []
    },
    {
        "id": "6e87c2fc.f3f2ac",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch tiempo",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Muy bien, ¿Que tiempo de recogida de datos quieres?",
        "answers": [
            "5 segundos",
            "10 segundo",
            "30 segundos",
            "1 minuto",
            "5 minutos"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4028.0478591918945,
        "y": 2711.89013671875,
        "wires": [
            [
                "5d65ef0e.4731e"
            ],
            [
                "504a7ac8.005324"
            ],
            [
                "bda58b61.568ac8"
            ],
            [
                "4530ff52.79bf5"
            ],
            [
                "57d32d5f.347734"
            ],
            [
                "ba0db401.bcaf18"
            ]
        ]
    },
    {
        "id": "5d65ef0e.4731e",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "5 segundos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 5};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4257.943832397461,
        "y": 2573.7781686782837,
        "wires": [
            [
                "9ab97911.1a8b78",
                "b5300bda.c83e18",
                "875cbb60.10fc98",
                "ec482297.3b889",
                "3cb45dd1.4bd462",
                "37612d69.8970c2"
            ]
        ]
    },
    {
        "id": "504a7ac8.005324",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "10 segundos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 10};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4267.0478515625,
        "y": 2658.778076171875,
        "wires": [
            [
                "2459add3.42e462",
                "b5300bda.c83e18",
                "875cbb60.10fc98",
                "ec482297.3b889",
                "3cb45dd1.4bd462",
                "37612d69.8970c2"
            ]
        ]
    },
    {
        "id": "bda58b61.568ac8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "30 segundos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 30};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4272.0478515625,
        "y": 2729.778076171875,
        "wires": [
            [
                "74046d96.55c7e4",
                "b5300bda.c83e18",
                "875cbb60.10fc98",
                "ec482297.3b889",
                "3cb45dd1.4bd462",
                "37612d69.8970c2"
            ]
        ]
    },
    {
        "id": "4530ff52.79bf5",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "1 minuto",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 60};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4273.047836303711,
        "y": 2797.7784729003906,
        "wires": [
            [
                "a88641f2.0eccc",
                "b5300bda.c83e18",
                "875cbb60.10fc98",
                "ec482297.3b889",
                "3cb45dd1.4bd462",
                "37612d69.8970c2"
            ]
        ]
    },
    {
        "id": "57d32d5f.347734",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "5 minutos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 300};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4282.047958374023,
        "y": 2862.000274658203,
        "wires": [
            [
                "fe354645.6fd348",
                "b5300bda.c83e18",
                "875cbb60.10fc98",
                "ec482297.3b889",
                "3cb45dd1.4bd462",
                "37612d69.8970c2"
            ]
        ]
    },
    {
        "id": "9ab97911.1a8b78",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 5 segundos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 5 segundos",
        "parseMode": "",
        "x": 4550.94384765625,
        "y": 2407.6682739257812,
        "wires": []
    },
    {
        "id": "2459add3.42e462",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 10 segundos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 10 segundos",
        "parseMode": "",
        "x": 4554.944076538086,
        "y": 2460.6694355010986,
        "wires": []
    },
    {
        "id": "74046d96.55c7e4",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 30 segundos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 30 segundos",
        "parseMode": "",
        "x": 4561.943954467773,
        "y": 2505.6693439483643,
        "wires": []
    },
    {
        "id": "a88641f2.0eccc",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 1 minuto",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 1 minuto",
        "parseMode": "",
        "x": 4544.944076538086,
        "y": 2556.8910236358643,
        "wires": []
    },
    {
        "id": "fe354645.6fd348",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 5 minutos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 5 minutos",
        "parseMode": "",
        "x": 4553.943832397461,
        "y": 2604.8901691436768,
        "wires": []
    },
    {
        "id": "e436dd65.27ac8",
        "type": "http request",
        "z": "73d3abd6.5859c4",
        "name": "AEMET http request",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.aemet.es/xml/municipios/localidad_29067.xml",
        "tls": "",
        "x": 2416.198657989502,
        "y": 2772.112356185913,
        "wires": [
            [
                "2a847e61.e54c72"
            ]
        ]
    },
    {
        "id": "2a847e61.e54c72",
        "type": "xml",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 2759.1983489990234,
        "y": 2659.1123971939087,
        "wires": [
            [
                "1c93c7a5.257418",
                "a8aeb41b.09e868",
                "7aa8aca0.39e2d4",
                "c612d515.bae6f8"
            ]
        ]
    },
    {
        "id": "1c93c7a5.257418",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "fecha elaboracion",
        "rules": [
            {
                "t": "set",
                "p": "fecha",
                "pt": "global",
                "to": "payload.root.elaborado[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2999.4985427856445,
        "y": 2465.112195968628,
        "wires": [
            []
        ]
    },
    {
        "id": "da9303d9.2eaf2",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var cielo_hoy = global.get(\"cielo_hoy\");\nvar fecha = global.get(\"fecha\")\nvar lluvia_hoy = global.get(\"lluvia_hoy\")\nvar periodo = global.get(\"periodo\")\nmsg.payload.chatId =  1308127721;\nmsg.payload = \"hoy (\" +periodo+\") tendremos el cielo \"+cielo_hoy+\" y con una probabilidad de lluvias de \"+lluvia_hoy+\" % \\n\";\nmsg.payload +=\"Fecha de elaboracion: \"+fecha+ \"\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3325.498561859131,
        "y": 2607.1122035980225,
        "wires": [
            [
                "cb08e693.cc1d18"
            ]
        ]
    },
    {
        "id": "5850373d.48d0a8",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/prediccion",
        "bot": "7cdb84f8.2dccfc",
        "command": "/prediccion",
        "commandType": "str",
        "commandCase": false,
        "x": 1990.3073844909668,
        "y": 2811.11141204834,
        "wires": [
            [
                "6eff4bfb.e0a844",
                "6b8ca7e9.2675f8"
            ]
        ]
    },
    {
        "id": "cb08e693.cc1d18",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3493.4985160827637,
        "y": 2607.112367630005,
        "wires": []
    },
    {
        "id": "6eff4bfb.e0a844",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var hora = new Date().getHours();\nmsg.payload = hora;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2171.498302459717,
        "y": 2765.11141204834,
        "wires": [
            [
                "b905aafe.ef6688"
            ]
        ]
    },
    {
        "id": "a8aeb41b.09e868",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\n\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].prob_precipitacion[cont]._;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2986.498546600342,
        "y": 2512.112632751465,
        "wires": [
            [
                "8c77593c.2c26e8"
            ]
        ]
    },
    {
        "id": "b905aafe.ef6688",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "hora",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2281.498302459717,
        "y": 2717.11141204834,
        "wires": [
            []
        ]
    },
    {
        "id": "8c77593c.2c26e8",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3122.498550415039,
        "y": 2515.1123085021973,
        "wires": [
            []
        ]
    },
    {
        "id": "7aa8aca0.39e2d4",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].estado_cielo[cont].$.descripcion;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3000.498222351074,
        "y": 2605.112368583679,
        "wires": [
            [
                "1fbf221b.9a020e"
            ]
        ]
    },
    {
        "id": "1fbf221b.9a020e",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "estado cielo hoy",
        "rules": [
            {
                "t": "set",
                "p": "cielo_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3162.4984436035156,
        "y": 2604.112367630005,
        "wires": [
            [
                "da9303d9.2eaf2"
            ]
        ]
    },
    {
        "id": "c612d515.bae6f8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].estado_cielo[cont].$.periodo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3002.4983253479004,
        "y": 2668.1121549606323,
        "wires": [
            [
                "49216721.d0d828"
            ]
        ]
    },
    {
        "id": "49216721.d0d828",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "periodo",
        "rules": [
            {
                "t": "set",
                "p": "periodo",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3160.498279571533,
        "y": 2673.111991882324,
        "wires": [
            []
        ]
    },
    {
        "id": "d71836b0.806dd8",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Esta funcion calcula la hora actual",
        "info": "",
        "x": 2187.498302459717,
        "y": 2669.11141204834,
        "wires": []
    },
    {
        "id": "4ad0c9aa.88dd58",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Recibo el comando",
        "info": "",
        "x": 4709.307140350342,
        "y": 2303.1111764907837,
        "wires": []
    },
    {
        "id": "12a8071f.aec5d9",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "convierto en globales las variables que necesito",
        "info": "",
        "x": 2689.4984703063965,
        "y": 2467.1125869750977,
        "wires": []
    },
    {
        "id": "677e207e.a607c",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Para estas necesito primero elegir el periodo correcto",
        "info": "",
        "x": 3505.4983673095703,
        "y": 2694.112211227417,
        "wires": []
    },
    {
        "id": "f8bbc91a.e2ed48",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Las junto todas en esta funcion y lo envio a telegram",
        "info": "",
        "x": 3476.4985580444336,
        "y": 2539.112201690674,
        "wires": []
    },
    {
        "id": "6b8ca7e9.2675f8",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch prediccion",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que prediccion quieres ver?",
        "answers": [
            "hoy",
            "mañana",
            "Pasado mañana"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2186.9764404296875,
        "y": 2845.334228515625,
        "wires": [
            [
                "e436dd65.27ac8"
            ],
            [
                "df3a3a98.3b0198"
            ],
            [
                "88950177.f4056"
            ],
            [
                "b3810398.26b1f"
            ]
        ]
    },
    {
        "id": "df3a3a98.3b0198",
        "type": "http request",
        "z": "73d3abd6.5859c4",
        "name": "AEMET http request",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.aemet.es/xml/municipios/localidad_29067.xml",
        "tls": "",
        "x": 2414.643352508545,
        "y": 2836.8895778656006,
        "wires": [
            [
                "4a4f9bfe.a86a24"
            ]
        ]
    },
    {
        "id": "4a4f9bfe.a86a24",
        "type": "xml",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 2777.6435012817383,
        "y": 2774.889472961426,
        "wires": [
            [
                "f8c7aadb.6bba78",
                "5896d7d4.e4e838",
                "379fc530.66306a",
                "11a2a895.6b2817"
            ]
        ]
    },
    {
        "id": "f8c7aadb.6bba78",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "estado cielo mañana",
        "rules": [
            {
                "t": "set",
                "p": "cielo_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[1].estado_cielo[0].$.descripcion",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3046.9431190490723,
        "y": 2724.889560699463,
        "wires": [
            []
        ]
    },
    {
        "id": "5896d7d4.e4e838",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "fecha elaboracion",
        "rules": [
            {
                "t": "set",
                "p": "fecha",
                "pt": "global",
                "to": "payload.root.elaborado[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3051.943286895752,
        "y": 2766.889563560486,
        "wires": [
            []
        ]
    },
    {
        "id": "379fc530.66306a",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "lluvia mañana",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[1].prob_precipitacion[0]._",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3040.9432792663574,
        "y": 2807.889783859253,
        "wires": [
            []
        ]
    },
    {
        "id": "154a16f5.711ce9",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var cielo_manana = global.get(\"cielo_manana\");\nvar lluvia_manana = global.get(\"lluvia_manana\")\nvar fecha = global.get(\"fecha\")\nvar periodo = global.get(\"periodo\")\nmsg.payload.chatId =  1308127721;\nmsg.payload = \"Mañana tendremos el cielo \"+cielo_manana+\" y con una probabilidad de lluvias de \"+lluvia_manana+\" % \\n\";\nmsg.payload +=\"Fecha de elaboracion: \"+fecha+ \"\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3227.9432640075684,
        "y": 2889.8894901275635,
        "wires": [
            [
                "4ed6f6d8.b791d8"
            ]
        ]
    },
    {
        "id": "4ed6f6d8.b791d8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3415.9438095092773,
        "y": 2889.8893823623657,
        "wires": []
    },
    {
        "id": "11a2a895.6b2817",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\n\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].prob_precipitacion[cont]._;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3045.943016052246,
        "y": 2882.8895740509033,
        "wires": [
            [
                "eeb80963.aa3918",
                "154a16f5.711ce9"
            ]
        ]
    },
    {
        "id": "eeb80963.aa3918",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3210.9433097839355,
        "y": 2821.8895416259766,
        "wires": [
            []
        ]
    },
    {
        "id": "975c12d0.f63d1",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "convierto en globales las variables que necesito",
        "info": "",
        "x": 3388.942882537842,
        "y": 2762.88973236084,
        "wires": []
    },
    {
        "id": "7cb2880b.30ac48",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Las junto todas en esta funcion y lo envio a telegram",
        "info": "",
        "x": 3472.943859100342,
        "y": 2834.8897104263306,
        "wires": []
    },
    {
        "id": "42ec5152.c2907",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "estado cielo pasado mañana",
        "rules": [
            {
                "t": "set",
                "p": "cielo_pasado_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[2].estado_cielo[0].$.descripcion",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3061.6997718811035,
        "y": 2965.5242805480957,
        "wires": [
            []
        ]
    },
    {
        "id": "71c7049f.c1beec",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "lluvia pasado mañana",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_pasado_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[2].prob_precipitacion[0]._",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3075.6995887756348,
        "y": 3068.5242805480957,
        "wires": [
            [
                "4feae444.e01f2c"
            ]
        ]
    },
    {
        "id": "88950177.f4056",
        "type": "http request",
        "z": "73d3abd6.5859c4",
        "name": "AEMET http request",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.aemet.es/xml/municipios/localidad_29067.xml",
        "tls": "",
        "x": 2436.6993293762207,
        "y": 2893.524099246366,
        "wires": [
            [
                "d0bc0e54.0c325"
            ]
        ]
    },
    {
        "id": "d0bc0e54.0c325",
        "type": "xml",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 2793.699378967285,
        "y": 2917.523917198181,
        "wires": [
            [
                "bd4ed9cb.12a6b8",
                "47723fc0.7a155",
                "42ec5152.c2907",
                "71c7049f.c1beec"
            ]
        ]
    },
    {
        "id": "bd4ed9cb.12a6b8",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "fecha elaboracion",
        "rules": [
            {
                "t": "set",
                "p": "fecha",
                "pt": "global",
                "to": "payload.root.elaborado[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3079.999698638916,
        "y": 3014.5242805480957,
        "wires": [
            []
        ]
    },
    {
        "id": "4feae444.e01f2c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var cielo_pasado_manana = global.get(\"cielo_pasado_manana\");\nvar lluvia_pasado_manana = global.get(\"lluvia_pasado_manana\")\nvar fecha = global.get(\"fecha\")\nvar periodo = global.get(\"periodo\")\nmsg.payload.chatId =  1308127721;\nmsg.payload = \"Pasado mañana tendremos el cielo \"+cielo_pasado_manana+\" y con una probabilidad de lluvias de \"+lluvia_pasado_manana+\" % \\n\";\nmsg.payload +=\"Fecha de elaboracion: \"+fecha+ \"\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3283.9994506835938,
        "y": 3180.5245246887207,
        "wires": [
            [
                "d778544b.e0a8a8"
            ]
        ]
    },
    {
        "id": "d778544b.e0a8a8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3471.9999618530273,
        "y": 3100.524025917053,
        "wires": []
    },
    {
        "id": "47723fc0.7a155",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\n\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].prob_precipitacion[cont]._;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3067.9990844726562,
        "y": 3158.5245246887207,
        "wires": [
            [
                "290c0f72.e34d1"
            ]
        ]
    },
    {
        "id": "290c0f72.e34d1",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3266.9996337890625,
        "y": 3090.524402618408,
        "wires": [
            []
        ]
    },
    {
        "id": "db94d76b.fa0c48",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Las junto todas en esta funcion y lo envio a telegram",
        "info": "",
        "x": 3529.000011444092,
        "y": 3045.524353981018,
        "wires": []
    },
    {
        "id": "58ec5f55.911",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4722.999782562256,
        "y": 2105.1895780563354,
        "wires": []
    },
    {
        "id": "42990984.80e718",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/configuracion",
        "bot": "7cdb84f8.2dccfc",
        "command": "/configuracion",
        "commandType": "str",
        "commandCase": false,
        "x": 3656.055461883545,
        "y": 2139.5371351242065,
        "wires": [
            [
                "c8737ba4.43cd38"
            ]
        ]
    },
    {
        "id": "c8737ba4.43cd38",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch pwm",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que tiempo de pwm de datos quieres?",
        "answers": [
            "5 milisegundos",
            "10 milisegundos",
            "100 milisegundos",
            "200 milisegundos",
            "500 milisegundos"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3892.055419921875,
        "y": 2141.3154296875,
        "wires": [
            [
                "be1da06a.31107"
            ],
            [
                "10f296ce.27f999"
            ],
            [
                "4a6527c9.ca2708"
            ],
            [
                "a4ea5ffd.569ce"
            ],
            [
                "94857d0.8568c8"
            ],
            [
                "137336c6.13cb89"
            ]
        ]
    },
    {
        "id": "be1da06a.31107",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "5 milisegundos",
        "func": "\nmsg.payload= {\"velocidad\": 5};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4154.95166015625,
        "y": 2041.203125,
        "wires": [
            [
                "58ec5f55.911",
                "5181ab7c.599df4",
                "f362a978.aed558",
                "c3aa4655.bd5f78",
                "c29b16ae.bb1408",
                "ba22c844.668368"
            ]
        ]
    },
    {
        "id": "10f296ce.27f999",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "10 milisegundos",
        "func": "\n\nmsg.payload= {\"velocidad\": 10};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4162.055419921875,
        "y": 2108.203369140625,
        "wires": [
            [
                "58ec5f55.911",
                "f236a3c6.ca5cc",
                "f362a978.aed558",
                "c3aa4655.bd5f78",
                "c29b16ae.bb1408",
                "ba22c844.668368"
            ]
        ]
    },
    {
        "id": "4a6527c9.ca2708",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "100 milisegundos",
        "func": "\n\nmsg.payload= {\"velocidad\": 100};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4179.055446624756,
        "y": 2176.2033109664917,
        "wires": [
            [
                "3afaf72f.765898",
                "58ec5f55.911",
                "f362a978.aed558",
                "c3aa4655.bd5f78",
                "c29b16ae.bb1408",
                "ba22c844.668368"
            ]
        ]
    },
    {
        "id": "a4ea5ffd.569ce",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "200 milisegundos",
        "func": "\n\nmsg.payload= {\"velocidad\": 200};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4186.055419921875,
        "y": 2241.203369140625,
        "wires": [
            [
                "acbd1b3e.7286f8",
                "58ec5f55.911",
                "f362a978.aed558",
                "c3aa4655.bd5f78",
                "c29b16ae.bb1408",
                "ba22c844.668368"
            ]
        ]
    },
    {
        "id": "94857d0.8568c8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "500 milisegundos",
        "func": "\n\nmsg.payload= {\"envia\": 500};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4187.055419921875,
        "y": 2305.425537109375,
        "wires": [
            [
                "40e949ae.1cf418",
                "58ec5f55.911",
                "f362a978.aed558",
                "c3aa4655.bd5f78",
                "c29b16ae.bb1408",
                "ba22c844.668368"
            ]
        ]
    },
    {
        "id": "3afaf72f.765898",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 100 milisegundos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 100 milisegundos",
        "parseMode": "",
        "x": 4592.951602935791,
        "y": 1952.0944471359253,
        "wires": []
    },
    {
        "id": "acbd1b3e.7286f8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 200 milisegundos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 200 milisegundos",
        "parseMode": "",
        "x": 4594.951602935791,
        "y": 2003.3163003921509,
        "wires": []
    },
    {
        "id": "40e949ae.1cf418",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 500 milisegundos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 500 milisegundos",
        "parseMode": "",
        "x": 4595.951606750488,
        "y": 2047.3158121109009,
        "wires": []
    },
    {
        "id": "5181ab7c.599df4",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 5 milisegundos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 5 milisegundos",
        "parseMode": "",
        "x": 4584.895664215088,
        "y": 1872.00004196167,
        "wires": []
    },
    {
        "id": "f236a3c6.ca5cc",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 10 milisegundos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 10 milisegundos",
        "parseMode": "",
        "x": 4591.895694732666,
        "y": 1910.9993810653687,
        "wires": []
    },
    {
        "id": "45599dce.982f84",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "prediccion",
        "links": [
            "9e1f3053.428cc"
        ],
        "x": 1973.3830680847168,
        "y": 2887.67244720459,
        "wires": [
            [
                "6b8ca7e9.2675f8"
            ]
        ]
    },
    {
        "id": "9e1f3053.428cc",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "prediccion",
        "links": [
            "45599dce.982f84"
        ],
        "x": 588.3907451629639,
        "y": 506.7740993499756,
        "wires": []
    },
    {
        "id": "1c9ef190.93c42e",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "pwm",
        "links": [
            "b441dc6d.cc78"
        ],
        "x": 587.3867769241333,
        "y": 549.7620763778687,
        "wires": []
    },
    {
        "id": "b441dc6d.cc78",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "1c9ef190.93c42e"
        ],
        "x": 3719.378837585449,
        "y": 2076.3379101753235,
        "wires": [
            [
                "c8737ba4.43cd38"
            ]
        ]
    },
    {
        "id": "1c68476a.521549",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "apagar",
        "links": [
            "a83fa000.849e8"
        ],
        "x": 427.3828411102295,
        "y": 175.76206398010254,
        "wires": []
    },
    {
        "id": "a83fa000.849e8",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "apagar",
        "links": [
            "1c68476a.521549"
        ],
        "x": 85.39062690734863,
        "y": 2809.6684188842773,
        "wires": [
            [
                "29f998e4.419428"
            ]
        ]
    },
    {
        "id": "fd058292.a77a7",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "estado",
        "links": [
            "b49a4bd.dc0f6b8"
        ],
        "x": 428.3828411102295,
        "y": 224.7737865447998,
        "wires": []
    },
    {
        "id": "b49a4bd.dc0f6b8",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "fd058292.a77a7"
        ],
        "x": 3624.3905391693115,
        "y": 171.42194747924805,
        "wires": [
            [
                "4c73695c.751de8"
            ]
        ]
    },
    {
        "id": "d42a3844.f8a058",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "encender",
        "links": [
            "9f7be280.90a81"
        ],
        "x": 424.37500953674316,
        "y": 129.52378463745117,
        "wires": []
    },
    {
        "id": "9f7be280.90a81",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "encender",
        "links": [
            "d42a3844.f8a058"
        ],
        "x": 494.3789014816284,
        "y": 1200.406244277954,
        "wires": [
            [
                "45edf97c.6e1ce8"
            ]
        ]
    },
    {
        "id": "e447655e.48ecb8",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Elige el nivel de la cocina",
        "info": "e",
        "x": 912.7656364440918,
        "y": 149.75002670288086,
        "wires": []
    },
    {
        "id": "ccc4c370.242d6",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Elige el nivel de la habitacion",
        "info": "e",
        "x": 960.7656364440918,
        "y": 669.7500267028809,
        "wires": []
    },
    {
        "id": "d8f459e1.16e2e8",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Elige el nivel del salon",
        "info": "e",
        "x": 1039.7656364440918,
        "y": 1112.7500839233398,
        "wires": []
    },
    {
        "id": "ad7aa172.e6e9",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Elige el nivel del baño",
        "info": "e",
        "x": 1007.765739440918,
        "y": 1502.7500190734863,
        "wires": []
    },
    {
        "id": "ad13d3b1.8d0fc",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Elige el nivel de todas las habitaciones",
        "info": "e",
        "x": 1101.7655944824219,
        "y": 1964.749987602234,
        "wires": []
    },
    {
        "id": "d1685fa2.30f29",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "velocidad de respuesta del pwm",
        "info": "",
        "x": 3896.1405296325684,
        "y": 2035.263632774353,
        "wires": []
    },
    {
        "id": "84fd83f1.87665",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Cocina",
        "info": "",
        "x": 4166.849422454834,
        "y": 4078.252639770508,
        "wires": []
    },
    {
        "id": "6553f462.26b1bc",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Salón",
        "info": "",
        "x": 4127.09871673584,
        "y": 4300.251315116882,
        "wires": []
    },
    {
        "id": "4b435d56.8f70b4",
        "type": "ui_led",
        "z": "73d3abd6.5859c4",
        "group": "ad80f7e8.78e008",
        "order": 1,
        "width": "5",
        "height": "1",
        "label": "Puerta abierta (ROJO) / Puerta cerrada (VERDE)",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 749.0992736816406,
        "y": 4587.107772827148,
        "wires": []
    },
    {
        "id": "5e2a46e1.17c748",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Temp/Hum salon",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4092.098747253418,
        "y": 4350.251691818237,
        "wires": [
            [
                "36932fbb.899d2",
                "a23a2e66.62f75"
            ],
            [
                "a7adc12b.7c061",
                "e55611d8.ccb9c"
            ],
            [
                "3e695e0.cf037a2",
                "e0112969.ff0818",
                "3edeb30c.d2fe2c"
            ]
        ]
    },
    {
        "id": "4743bea5.0e1ba",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Temp/Hum cocina",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4158.098747253418,
        "y": 4132.251684188843,
        "wires": [
            [
                "223b8af1.cccbd6",
                "e4812afe.a3e248"
            ],
            [
                "dd6dcff.134e93",
                "237617ca.919df8"
            ],
            [
                "56a1382.0c874c8",
                "d5c9d145.86ebc",
                "7b4cb7d.4cf5648"
            ]
        ]
    },
    {
        "id": "cb66a41a.f75ea8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Puerta",
        "func": "var puerta = msg.payload.VL53L0X;\nif (puerta <= 100 )\n\nmsg={\"payload\": 1 , \"topic\": \"Puerta\"};\n\nelse\n\nmsg={\"payload\": 0 , \"topic\": \"Puerta\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 582.0989685058594,
        "y": 4573.250874519348,
        "wires": [
            [
                "4b435d56.8f70b4"
            ]
        ]
    },
    {
        "id": "142d5d64.3e4873",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "salon",
        "links": [
            "6c0c1367.22ff5c"
        ],
        "x": 529.3867444992065,
        "y": 4090.0201711654663,
        "wires": []
    },
    {
        "id": "6c0c1367.22ff5c",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "salon",
        "links": [
            "142d5d64.3e4873"
        ],
        "x": 3911.7120265960693,
        "y": 4343.911848068237,
        "wires": [
            [
                "5e2a46e1.17c748"
            ]
        ]
    },
    {
        "id": "2c870caa.207634",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "cocina",
        "links": [
            "e9658553.f41018"
        ],
        "x": 504.7656373977661,
        "y": 3820.2502975463867,
        "wires": []
    },
    {
        "id": "e9658553.f41018",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "cocina",
        "links": [
            "2c870caa.207634"
        ],
        "x": 4006.090892791748,
        "y": 4127.14248085022,
        "wires": [
            [
                "4743bea5.0e1ba"
            ]
        ]
    },
    {
        "id": "56a1382.0c874c8",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "ababf17b.c03a5",
        "order": 5,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "cocina",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4386.666748046875,
        "y": 4172.002154350281,
        "wires": []
    },
    {
        "id": "3e695e0.cf037a2",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "ababf17b.c03a5",
        "order": 1,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "salon",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4278.666328430176,
        "y": 4382.001319885254,
        "wires": []
    },
    {
        "id": "5c7dc07.90ea54",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "------------------DASHBOARD------------------",
        "info": "",
        "x": 4347.333099365234,
        "y": 3971.334536552429,
        "wires": []
    },
    {
        "id": "bab42f79.70173",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "------------------RECOGIDA DE DATOS------------------",
        "info": "",
        "x": 445.6666564941406,
        "y": 3702.33349609375,
        "wires": []
    },
    {
        "id": "73c82f9a.033eb",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "------------------PREDICCION------------------",
        "info": "",
        "x": 2516.191173553467,
        "y": 2619.0002059936523,
        "wires": []
    },
    {
        "id": "221c17d7.9ecb08",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "tiempo respuesta",
        "info": "e",
        "x": 4038.0478591918945,
        "y": 2637,
        "wires": []
    },
    {
        "id": "afc489fc.716e18",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch bienvenida",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Aqui tienes mas opciones",
        "answers": [
            "actualizacion",
            "Prediccion",
            "Configuracion"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 409.76563262939453,
        "y": 524.7499923706055,
        "wires": [
            [
                "bcd3ed1b.cafff"
            ],
            [
                "9e1f3053.428cc"
            ],
            [
                "1c9ef190.93c42e"
            ],
            []
        ]
    },
    {
        "id": "a996d848.f26a68",
        "type": "delay",
        "z": "73d3abd6.5859c4",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 187.00000762939453,
        "y": 501.37889289855957,
        "wires": [
            [
                "afc489fc.716e18",
                "5567bff1.38466"
            ]
        ]
    },
    {
        "id": "dd643db6.8f79c",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/switch",
        "bot": "7cdb84f8.2dccfc",
        "command": "/switch",
        "commandType": "str",
        "commandCase": false,
        "x": 3589.7668647766113,
        "y": 881.4158964157104,
        "wires": [
            [
                "d4df8e6d.d1ae5"
            ]
        ]
    },
    {
        "id": "bd08db94.36ff68",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4177.7663497924805,
        "y": 553.4158697128296,
        "wires": [
            [
                "a6adc2a4.d3792"
            ]
        ]
    },
    {
        "id": "c0632940.5f9bc8",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch switch salon",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que quieres hacer con el switch del salon?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3951.765884399414,
        "y": 546.4158563613892,
        "wires": [
            [
                "bd08db94.36ff68"
            ],
            [
                "af0c47a5.200b98"
            ],
            [
                "e31d9b7c.6bbad8"
            ]
        ]
    },
    {
        "id": "af0c47a5.200b98",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4187.765983581543,
        "y": 607.4158554077148,
        "wires": [
            [
                "f6c974a.eeb4d88"
            ]
        ]
    },
    {
        "id": "f9aebb2d.8a15e8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4641.266563415527,
        "y": 561.3064956665039,
        "wires": []
    },
    {
        "id": "d3e10b8.2c508f8",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "switch",
        "links": [
            "93bc06a7.eef178"
        ],
        "x": 3596.266366958618,
        "y": 825.4159288406372,
        "wires": [
            [
                "d4df8e6d.d1ae5"
            ]
        ]
    },
    {
        "id": "a6adc2a4.d3792",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4347.16703414917,
        "y": 539.6658716201782,
        "wires": [
            [
                "f9aebb2d.8a15e8",
                "87bf35dd.964bd8"
            ]
        ]
    },
    {
        "id": "f6c974a.eeb4d88",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4368.166858673096,
        "y": 598.6658487319946,
        "wires": [
            [
                "f9aebb2d.8a15e8",
                "665c939f.d4c88c"
            ]
        ]
    },
    {
        "id": "665c939f.d4c88c",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta encender",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se ha encendido el led del salon",
        "parseMode": "",
        "x": 4581.000389099121,
        "y": 612.665867805481,
        "wires": []
    },
    {
        "id": "87bf35dd.964bd8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta apagar",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se ha apagado el led del salon",
        "parseMode": "",
        "x": 4567.000389099121,
        "y": 509.6658983230591,
        "wires": []
    },
    {
        "id": "3ccfc3bb.1b5a8c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4186.3336181640625,
        "y": 667.6658754348755,
        "wires": [
            [
                "3dd4f70e.0ae4b8"
            ]
        ]
    },
    {
        "id": "3dd4f70e.0ae4b8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4372.33362197876,
        "y": 663.6658754348755,
        "wires": [
            [
                "f9aebb2d.8a15e8"
            ]
        ]
    },
    {
        "id": "2e4e6e5f.7c6662",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio dashboard salon",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4222.000732421875,
        "y": 4458.334928512573,
        "wires": [
            [
                "40c9bea7.6592a"
            ]
        ]
    },
    {
        "id": "40c9bea7.6592a",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4399.000049591064,
        "y": 4467.334391593933,
        "wires": [
            [
                "53b1808.c971a8"
            ]
        ]
    },
    {
        "id": "4c40ed5.830ee14",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio dashboard cocina",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4170.000129699707,
        "y": 4231.334922790527,
        "wires": [
            [
                "8ef54996.62c278"
            ]
        ]
    },
    {
        "id": "8ef54996.62c278",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4355.000045776367,
        "y": 4233.334383964539,
        "wires": [
            [
                "a596cb3.55e7638"
            ]
        ]
    },
    {
        "id": "28bb0745.eb4f68",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio dashboard habitacion",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4154.0006103515625,
        "y": 4701.334774017334,
        "wires": [
            [
                "fbf6dcbb.758ba"
            ]
        ]
    },
    {
        "id": "fbf6dcbb.758ba",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4363.000793457031,
        "y": 4709.334991455078,
        "wires": [
            [
                "e2de711.1805e9"
            ]
        ]
    },
    {
        "id": "df0eb418.a6fe38",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio dashboard baño",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4109.0007247924805,
        "y": 4979.334458351135,
        "wires": [
            [
                "8c67d151.b2efa"
            ]
        ]
    },
    {
        "id": "8c67d151.b2efa",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4277.000347137451,
        "y": 4950.334285736084,
        "wires": [
            [
                "8f1aa1a.015556"
            ]
        ]
    },
    {
        "id": "a596cb3.55e7638",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 4610.000717163086,
        "y": 4229.3351402282715,
        "wires": []
    },
    {
        "id": "e2de711.1805e9",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 4587.000637054443,
        "y": 4677.334882736206,
        "wires": []
    },
    {
        "id": "8f1aa1a.015556",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 4545.0003662109375,
        "y": 4959.334384918213,
        "wires": []
    },
    {
        "id": "53b1808.c971a8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 4660.00048828125,
        "y": 4449.333984375,
        "wires": []
    },
    {
        "id": "5ae95cae.ece744",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Habitación",
        "info": "",
        "x": 4106.43172454834,
        "y": 4540.001377105713,
        "wires": []
    },
    {
        "id": "e5d26b74.1a2dd8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Temp/Hum habitacion",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4083.4317474365234,
        "y": 4599.001699447632,
        "wires": [
            [
                "6cdf0bd2.977e54",
                "7f1fbf5f.e6d4e"
            ],
            [
                "d56bb620.eddab8",
                "b8b34161.091fc"
            ],
            [
                "8e084d6e.fbc84",
                "97769974.5e55f8",
                "bf62ca40.a19558"
            ]
        ]
    },
    {
        "id": "dc9ed2c7.6ed6a",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "habitacion",
        "links": [
            "bd34dddf.87a15"
        ],
        "x": 3899.0450286865234,
        "y": 4587.661855697632,
        "wires": [
            [
                "e5d26b74.1a2dd8"
            ]
        ]
    },
    {
        "id": "8e084d6e.fbc84",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "ababf17b.c03a5",
        "order": 3,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "habitacion",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4333.000144958496,
        "y": 4635.751111030579,
        "wires": []
    },
    {
        "id": "bd34dddf.87a15",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "habitacion",
        "links": [
            "dc9ed2c7.6ed6a"
        ],
        "x": 509.99998474121094,
        "y": 3924.6667795181274,
        "wires": []
    },
    {
        "id": "df48d1d9.0968e",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/Peligro",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 145,
        "y": 4671.000350952148,
        "wires": [
            [
                "d7e1d76b.63f2e8"
            ]
        ]
    },
    {
        "id": "d7e1d76b.63f2e8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 392.00003814697266,
        "y": 4670.000350952148,
        "wires": [
            [
                "1cbb3e29.07beb2",
                "597056f3.e78e48",
                "f7b6ad9.0566d5",
                "e0ffaa13.a99be8",
                "5944297b.d76288",
                "d6f60b27.792af8"
            ]
        ]
    },
    {
        "id": "1cbb3e29.07beb2",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "CO",
        "func": "var CO=msg.payload.CO\n\n\nif (CO == 1)\nmsg.payload = \"peligro bajo de CO en la cocina\"\nif (CO == 2)\nmsg.payload =\"peligro medio de CO en la cocina\"\nif (CO == 3)\nmsg.payload=\"peligro alto de CO en la cocina\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 558.833366394043,
        "y": 4633.333879470825,
        "wires": [
            [
                "3c6b07ef.26aaf8"
            ]
        ]
    },
    {
        "id": "3c6b07ef.26aaf8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 750.0001449584961,
        "y": 4673.3337116241455,
        "wires": []
    },
    {
        "id": "597056f3.e78e48",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta CO",
        "func": "var CO=msg.payload.CO\n\nif (CO === 0)\nmsg.payload = 0\nif (CO == 1)\nmsg.payload = 1\nif (CO == 2)\nmsg.payload = 2\nif (CO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 587.0000457763672,
        "y": 4786.000061035156,
        "wires": [
            [
                "3a017cbe.fa3cf4"
            ]
        ]
    },
    {
        "id": "3a017cbe.fa3cf4",
        "type": "ui_led",
        "z": "73d3abd6.5859c4",
        "group": "9071932d.24bb7",
        "order": 1,
        "width": "2",
        "height": "1",
        "label": "CO",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 781.0000762939453,
        "y": 4782.000360488892,
        "wires": []
    },
    {
        "id": "f7b6ad9.0566d5",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "respuesta LPG",
        "func": "var LPG=msg.payload.LPG\n\nif (LPG === 0)\nmsg.payload = 0\nif (LPG == 1)\nmsg.payload = 1\nif (LPG == 2)\nmsg.payload = 2\nif (LPG == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 594.8334007263184,
        "y": 4825.333696365356,
        "wires": [
            [
                "e641f9a6.91a8f8"
            ]
        ]
    },
    {
        "id": "e641f9a6.91a8f8",
        "type": "ui_led",
        "z": "73d3abd6.5859c4",
        "group": "9071932d.24bb7",
        "order": 2,
        "width": "3",
        "height": "1",
        "label": "LPG",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 778.0000762939453,
        "y": 4820.333696365356,
        "wires": []
    },
    {
        "id": "e0ffaa13.a99be8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "respuesta HUMO",
        "func": "var HUMO=msg.payload.Humo\n\nif (HUMO === 0)\nmsg.payload = 0\nif (HUMO == 1)\nmsg.payload = 1\nif (HUMO == 2)\nmsg.payload = 2\nif (HUMO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.0000686645508,
        "y": 4865.333696365356,
        "wires": [
            [
                "c86f299d.da8368"
            ]
        ]
    },
    {
        "id": "c86f299d.da8368",
        "type": "ui_led",
        "z": "73d3abd6.5859c4",
        "group": "9071932d.24bb7",
        "order": 3,
        "width": "2",
        "height": "1",
        "label": "Humo",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 774.0000762939453,
        "y": 4866.333698272705,
        "wires": []
    },
    {
        "id": "875cbb60.10fc98",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4822.16618347168,
        "y": 2861.0003986358643,
        "wires": []
    },
    {
        "id": "f362a978.aed558",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4708.007106781006,
        "y": 2152.554690361023,
        "wires": []
    },
    {
        "id": "2bacccbf.fa1ca4",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch actualiza",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Y por último, ¿Que tiempo de actualizacion de datos quieres?",
        "answers": [
            "manual",
            "60 minutos",
            "120 minutos",
            "240 minutos"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4163.499588012695,
        "y": 3029.445022583008,
        "wires": [
            [
                "31b44eda.e1ff42"
            ],
            [
                "d7a9821e.f76de"
            ],
            [
                "c2010a7c.4674c8"
            ],
            [
                "9ebcb316.89a67"
            ],
            [
                "e0e3345.cd6d7c8"
            ]
        ]
    },
    {
        "id": "d7a9821e.f76de",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "60 minutos",
        "func": "\n\nmsg.payload= {\"actualiza\": 60};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4368.395332336426,
        "y": 3026.332962036133,
        "wires": [
            [
                "d6490772.34bbf8",
                "f8c61829.94a808",
                "1c1a1064.fa44c",
                "a56acfcc.6f905",
                "37da7f17.16266",
                "d6d73014.8a5c2"
            ]
        ]
    },
    {
        "id": "c2010a7c.4674c8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "120 minutos",
        "func": "\n\nmsg.payload= {\"actualiza\": 120};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4375.499336242676,
        "y": 3122.332962036133,
        "wires": [
            [
                "418e666a.84d7d8",
                "f8c61829.94a808",
                "1c1a1064.fa44c",
                "a56acfcc.6f905",
                "37da7f17.16266",
                "d6d73014.8a5c2"
            ]
        ]
    },
    {
        "id": "9ebcb316.89a67",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "240 minutos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"actualiza\": 240};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4383.499336242676,
        "y": 3216.332962036133,
        "wires": [
            [
                "536dad8a.01a114",
                "f8c61829.94a808",
                "1c1a1064.fa44c",
                "a56acfcc.6f905",
                "37da7f17.16266",
                "d6d73014.8a5c2"
            ]
        ]
    },
    {
        "id": "31b44eda.e1ff42",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "manual",
        "func": "\nmsg.payload= {\"actualiza\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4367.499824523926,
        "y": 2941.332962036133,
        "wires": [
            [
                "a32468be.4de088",
                "f8c61829.94a808",
                "1c1a1064.fa44c",
                "a56acfcc.6f905",
                "37da7f17.16266",
                "d6d73014.8a5c2"
            ]
        ]
    },
    {
        "id": "cc68dac6.f47828",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "tiempo respuesta",
        "info": "e",
        "x": 4173.499588012695,
        "y": 2954.554885864258,
        "wires": []
    },
    {
        "id": "a32468be.4de088",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta manual",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion manual",
        "parseMode": "",
        "x": 4711.388496398926,
        "y": 2919.556106567383,
        "wires": []
    },
    {
        "id": "d6490772.34bbf8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 60 minutos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion en 60 minutos",
        "parseMode": "",
        "x": 4733.388496398926,
        "y": 3015.556106567383,
        "wires": []
    },
    {
        "id": "418e666a.84d7d8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 120 minutos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion en 120 minutos",
        "parseMode": "",
        "x": 4722.388496398926,
        "y": 3107.556106567383,
        "wires": []
    },
    {
        "id": "536dad8a.01a114",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta 240 minutos",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion en 240 minutos",
        "parseMode": "",
        "x": 4745.388496398926,
        "y": 3188.556106567383,
        "wires": []
    },
    {
        "id": "f8c61829.94a808",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4785.000312805176,
        "y": 2967.778274536133,
        "wires": []
    },
    {
        "id": "1c1a1064.fa44c",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4790.000312805176,
        "y": 3067.014358520508,
        "wires": []
    },
    {
        "id": "5944297b.d76288",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": " LPG",
        "func": "var LPG = msg.payload.LPG\n\nif (LPG == 1)\nmsg.payload = \"peligro bajo de LPG en la cocina\"\nif (LPG == 2)\nmsg.payload = \"peligro medio de LPG en la cocina\"\nif (LPG == 3)\nmsg.payload = \"peligro alto de LPG en la cocina\"\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 571.1702041625977,
        "y": 4666.541933059692,
        "wires": [
            [
                "3c6b07ef.26aaf8"
            ]
        ]
    },
    {
        "id": "d6f60b27.792af8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Humo",
        "func": "var Humo = msg.payload.Humo\n\nif (Humo == 1)\nmsg.payload = \"peligro bajo de Humo en la cocina\"\nif (Humo == 2)\nmsg.payload = \"peligro medio de Humo en la cocina\"\nif (Humo == 3)\nmsg.payload = \"peligro alto de Humo en la cocina\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 578.1597709655762,
        "y": 4703.538471221924,
        "wires": [
            [
                "3c6b07ef.26aaf8"
            ]
        ]
    },
    {
        "id": "17160b32.31c6f5",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/Peligro",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 1035.2293395996094,
        "y": 4677.6680908203125,
        "wires": [
            [
                "7ee5277e.8baa08"
            ]
        ]
    },
    {
        "id": "7ee5277e.8baa08",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1238.6736755371094,
        "y": 4737.6671142578125,
        "wires": [
            [
                "ea61bf07.3aed9",
                "b52ae633.066a88",
                "a1d7ff0d.d858d",
                "f4c34889.37bc88",
                "1f23deeb.b8bb41",
                "4c55539c.aead4c"
            ]
        ]
    },
    {
        "id": "ea61bf07.3aed9",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "CO",
        "func": "var CO=msg.payload.CO\n\n\nif (CO == 1)\nmsg.payload = \"peligro bajo de CO en el salon\"\nif (CO == 2)\nmsg.payload =\"peligro medio de CO en el salon\"\nif (CO == 3)\nmsg.payload=\"peligro alto de CO en el salon\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1404.5070114135742,
        "y": 4640.000534057617,
        "wires": [
            [
                "4616c5a5.de187c"
            ]
        ]
    },
    {
        "id": "4616c5a5.de187c",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 1604.6737976074219,
        "y": 4670.0006103515625,
        "wires": []
    },
    {
        "id": "b52ae633.066a88",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta CO",
        "func": "var CO=msg.payload.CO\n\nif (CO === 0)\nmsg.payload = 0\nif (CO == 1)\nmsg.payload = 1\nif (CO == 2)\nmsg.payload = 2\nif (CO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1432.6736907958984,
        "y": 4792.666715621948,
        "wires": [
            [
                "924012c3.6651b"
            ]
        ]
    },
    {
        "id": "924012c3.6651b",
        "type": "ui_led",
        "z": "73d3abd6.5859c4",
        "group": "ca148fe3.d3cc6",
        "order": 1,
        "width": "2",
        "height": "1",
        "label": "CO",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1631.6736755371094,
        "y": 4760.6671142578125,
        "wires": []
    },
    {
        "id": "a1d7ff0d.d858d",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "respuesta LPG",
        "func": "var LPG=msg.payload.LPG\n\nif (LPG === 0)\nmsg.payload = 0\nif (LPG == 1)\nmsg.payload = 1\nif (LPG == 2)\nmsg.payload = 2\nif (LPG == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1440.5070457458496,
        "y": 4832.000350952148,
        "wires": [
            [
                "1182d045.18c6"
            ]
        ]
    },
    {
        "id": "1182d045.18c6",
        "type": "ui_led",
        "z": "73d3abd6.5859c4",
        "group": "ca148fe3.d3cc6",
        "order": 2,
        "width": "3",
        "height": "1",
        "label": "LPG",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1630.6736755371094,
        "y": 4798.0001220703125,
        "wires": []
    },
    {
        "id": "f4c34889.37bc88",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "respuesta HUMO",
        "func": "var HUMO=msg.payload.Humo\n\nif (HUMO === 0)\nmsg.payload = 0\nif (HUMO == 1)\nmsg.payload = 1\nif (HUMO == 2)\nmsg.payload = 2\nif (HUMO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1453.673713684082,
        "y": 4872.000350952148,
        "wires": [
            [
                "9e8b4cf7.f6c1f"
            ]
        ]
    },
    {
        "id": "9e8b4cf7.f6c1f",
        "type": "ui_led",
        "z": "73d3abd6.5859c4",
        "group": "ca148fe3.d3cc6",
        "order": 3,
        "width": "2",
        "height": "1",
        "label": "Humo",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1632.6736755371094,
        "y": 4838.0001220703125,
        "wires": []
    },
    {
        "id": "1f23deeb.b8bb41",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": " LPG",
        "func": "var LPG = msg.payload.LPG\n\nif (LPG == 1)\nmsg.payload = \"peligro bajo de LPG en el salon\"\nif (LPG == 2)\nmsg.payload = \"peligro medio de LPG en el salon\"\nif (LPG == 3)\nmsg.payload = \"peligro alto de LPG en el salon\"\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1416.843849182129,
        "y": 4673.208587646484,
        "wires": [
            [
                "4616c5a5.de187c"
            ]
        ]
    },
    {
        "id": "4c55539c.aead4c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Humo",
        "func": "var Humo = msg.payload.Humo\n\nif (Humo == 1)\nmsg.payload = \"peligro bajo de Humo en el salon\"\nif (Humo == 2)\nmsg.payload = \"peligro medio de Humo en el salon\"\nif (Humo == 3)\nmsg.payload = \"peligro alto de Humo en el salon\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1423.8334159851074,
        "y": 4710.205125808716,
        "wires": [
            [
                "4616c5a5.de187c"
            ]
        ]
    },
    {
        "id": "4a661632.d6ffb8",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "calidad del aire del salon",
        "info": "",
        "x": 1067.0071258544922,
        "y": 4636.667049407959,
        "wires": []
    },
    {
        "id": "b75e1f63.23556",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/actualiza",
        "bot": "7cdb84f8.2dccfc",
        "command": "/actualiza",
        "commandType": "str",
        "commandCase": false,
        "x": 2175.055519104004,
        "y": 244.66705131530762,
        "wires": [
            [
                "4cd26764.874e98"
            ]
        ]
    },
    {
        "id": "4cd26764.874e98",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch actualiza",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Esta seguro de que quiere actualizar?",
        "answers": [
            "Sí",
            "Me lo he pensado mejor..."
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2354.055519104004,
        "y": 241.66705131530762,
        "wires": [
            [
                "16f3dd5b.7bbae3",
                "d9bbae85.3de28"
            ],
            [
                "a9797ff5.449cf"
            ],
            [
                "b4b88474.4243c8"
            ]
        ]
    },
    {
        "id": "41cdf575.42134c",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/FOTA",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 2881.500099182129,
        "y": 276.6670513153076,
        "wires": []
    },
    {
        "id": "12c3a840.a5b5b8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/FOTA",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 2883.500099182129,
        "y": 337.6670513153076,
        "wires": []
    },
    {
        "id": "a9797ff5.449cf",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta no",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se ha cancelado la actualizacion",
        "parseMode": "",
        "x": 2587.500099182129,
        "y": 283.6675395965576,
        "wires": []
    },
    {
        "id": "16f3dd5b.7bbae3",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta si",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se va a actualizar",
        "parseMode": "",
        "x": 2596.500099182129,
        "y": 173.66705131530762,
        "wires": []
    },
    {
        "id": "27e3c131.aa94ee",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "actualiza2",
        "links": [
            "bcd3ed1b.cafff"
        ],
        "x": 2211.833106994629,
        "y": 197.77813529968262,
        "wires": [
            [
                "4cd26764.874e98"
            ]
        ]
    },
    {
        "id": "bcd3ed1b.cafff",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "actualiza",
        "links": [
            "27e3c131.aa94ee"
        ],
        "x": 583.8958101272583,
        "y": 451.8888988494873,
        "wires": []
    },
    {
        "id": "d9bbae85.3de28",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "actualiza true",
        "func": "msg.payload = {\"actualiza\": true}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2590.437110900879,
        "y": 230.64263725280762,
        "wires": [
            [
                "41cdf575.42134c",
                "12c3a840.a5b5b8",
                "5af77d14.bbdcc4",
                "1997ef00.906221"
            ]
        ]
    },
    {
        "id": "ef22e514.a60528",
        "type": "mongodb out",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 887.8958587646484,
        "y": 3773.2224435806274,
        "wires": []
    },
    {
        "id": "40642eee.ba97e",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "baño",
        "info": "",
        "x": 4071.3331985473633,
        "y": 4806.334994316101,
        "wires": []
    },
    {
        "id": "223fe11b.d0babe",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Temp/Hum baño",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4061.3329849243164,
        "y": 4867.335066795349,
        "wires": [
            [
                "225dc06e.c8813",
                "7d61fd75.afe504"
            ],
            [
                "c2f662d1.575e1",
                "746eefdb.a87a8"
            ],
            [
                "972cec9a.a97e2",
                "359e78ef.0c84e8",
                "98e63287.08e3b"
            ]
        ]
    },
    {
        "id": "f8333534.d96488",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "baño",
        "links": [
            "400acd7.3a84f34"
        ],
        "x": 3896.9462661743164,
        "y": 4855.995223045349,
        "wires": [
            [
                "223fe11b.d0babe"
            ]
        ]
    },
    {
        "id": "972cec9a.a97e2",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "ababf17b.c03a5",
        "order": 4,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "baño",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4297.9006996154785,
        "y": 4908.084046363831,
        "wires": []
    },
    {
        "id": "400acd7.3a84f34",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "baño",
        "links": [
            "f8333534.d96488"
        ],
        "x": 523.5000281333923,
        "y": 4012.000069618225,
        "wires": []
    },
    {
        "id": "73ffbdc2.336874",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/TemperaturaMax",
        "bot": "7cdb84f8.2dccfc",
        "command": "/TemperaturaMax",
        "commandType": "str",
        "commandCase": false,
        "x": 2195.3334350585938,
        "y": 735.33349609375,
        "wires": [
            [
                "2bd4d6b9.2c23ba"
            ]
        ]
    },
    {
        "id": "2bd4d6b9.2c23ba",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch temperatura",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Por favor elija la temperatura a la que quiere que le avisemos si se supera",
        "answers": [
            "30º ",
            "40º",
            "50º",
            "60º (No recomendado)"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2420.6668376922607,
        "y": 735.3334970474243,
        "wires": [
            [
                "53df6599.8a603c"
            ],
            [
                "436604f.f070cfc"
            ],
            [
                "1116a68e.edfaa9"
            ],
            [
                "290b1679.2ea93a"
            ],
            [
                "18db5cf4.2c0d73"
            ]
        ]
    },
    {
        "id": "7f034c4e.d11304",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "temperatura 30",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 30º",
        "parseMode": "",
        "x": 2870.000244140625,
        "y": 564.33349609375,
        "wires": []
    },
    {
        "id": "20fbcee9.380102",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 732.3333206176758,
        "y": 1226.000005722046,
        "wires": []
    },
    {
        "id": "f503b556.012c48",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1043.3333435058594,
        "y": 856.0000257492065,
        "wires": []
    },
    {
        "id": "94ef5e82.99b09",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1074.3334045410156,
        "y": 1287.0000429153442,
        "wires": []
    },
    {
        "id": "66f9660e.c480a8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1011.333423614502,
        "y": 1702.0000972747803,
        "wires": []
    },
    {
        "id": "f4e1f80d.fa9128",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1063.3334045410156,
        "y": 2225.333320617676,
        "wires": []
    },
    {
        "id": "9598e00f.6ad59",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 367.33331298828125,
        "y": 2961.33349609375,
        "wires": []
    },
    {
        "id": "18db5cf4.2c0d73",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2475.000171661377,
        "y": 820.3334999084473,
        "wires": []
    },
    {
        "id": "b4b88474.4243c8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2416.667091369629,
        "y": 327.3337993621826,
        "wires": []
    },
    {
        "id": "e0e3345.cd6d7c8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4178.667045593262,
        "y": 3106.333915710449,
        "wires": []
    },
    {
        "id": "ba0db401.bcaf18",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4068.6668701171875,
        "y": 2797.3334999084473,
        "wires": []
    },
    {
        "id": "c26192ed.023d7",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3863.6667518615723,
        "y": 329.33332347869873,
        "wires": []
    },
    {
        "id": "b3810398.26b1f",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2270.85799407959,
        "y": 2923.6668491363525,
        "wires": []
    },
    {
        "id": "137336c6.13cb89",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3952.666530609131,
        "y": 2226.6666898727417,
        "wires": []
    },
    {
        "id": "b67b4e2d.5bdab",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "temperatura 40",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 40º",
        "parseMode": "",
        "x": 2886.000244140625,
        "y": 638.0001831054688,
        "wires": []
    },
    {
        "id": "6093278b.d58868",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "temperatura 50",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 50º",
        "parseMode": "",
        "x": 2870.000244140625,
        "y": 763.0001831054688,
        "wires": []
    },
    {
        "id": "ef237273.a7be",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "temperatura 60",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 60º",
        "parseMode": "",
        "x": 2843.000244140625,
        "y": 832.0001831054688,
        "wires": []
    },
    {
        "id": "709347fe.d61878",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "TempMax",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2923.833522796631,
        "y": 697.0001630783081,
        "wires": [
            [
                "1f536a9c.af4fc5",
                "f0c6e64.5c68718"
            ]
        ]
    },
    {
        "id": "53df6599.8a603c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 30",
        "func": "msg.payload = 30;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2661.833740234375,
        "y": 552.33349609375,
        "wires": [
            [
                "709347fe.d61878",
                "7f034c4e.d11304"
            ]
        ]
    },
    {
        "id": "436604f.f070cfc",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 40",
        "func": "msg.payload = 40;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2648.000244140625,
        "y": 640.33349609375,
        "wires": [
            [
                "709347fe.d61878",
                "b67b4e2d.5bdab"
            ]
        ]
    },
    {
        "id": "1116a68e.edfaa9",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 50",
        "func": "msg.payload = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2669.000244140625,
        "y": 726.33349609375,
        "wires": [
            [
                "709347fe.d61878",
                "6093278b.d58868"
            ]
        ]
    },
    {
        "id": "290b1679.2ea93a",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 60",
        "func": "msg.payload = 60;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2656.0001831054688,
        "y": 807.3335027694702,
        "wires": [
            [
                "709347fe.d61878",
                "ef237273.a7be"
            ]
        ]
    },
    {
        "id": "401da0f0.bffa6",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 163,
        "y": 4332.000108718872,
        "wires": [
            [
                "4acb9021.55a76"
            ]
        ]
    },
    {
        "id": "1a8624e8.06c7bb",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 145,
        "y": 4378.000108718872,
        "wires": [
            [
                "906f4d80.b5339"
            ]
        ]
    },
    {
        "id": "4acb9021.55a76",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 374.0000305175781,
        "y": 4330,
        "wires": [
            [
                "ba98c4c0.be4f58"
            ]
        ]
    },
    {
        "id": "906f4d80.b5339",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 369.00001525878906,
        "y": 4377.999990463257,
        "wires": [
            [
                "7447e4bd.eca96c"
            ]
        ]
    },
    {
        "id": "ba98c4c0.be4f58",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "temperatura salon",
        "func": "var deteccion = msg.payload.DHT11.temp;\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DEL SALON ES DEMASIADO ALTA \\n\";\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DEL SALON ES DEMASIADO BAJA \\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 541.0000152587891,
        "y": 4328.999990463257,
        "wires": [
            [
                "e622596d.487b78"
            ]
        ]
    },
    {
        "id": "7447e4bd.eca96c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "temperatura habitacion",
        "func": "var deteccion = msg.payload.DHT11.temp;\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DE LA HABITACION ES DEMASIADO ALTA \\n\";\n\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DE LA HABITACION ES DEMASIADO BAJA \\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 537.0000152587891,
        "y": 4376.999990463257,
        "wires": [
            [
                "e622596d.487b78"
            ]
        ]
    },
    {
        "id": "a8e534cc.cc0248",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 790.3333435058594,
        "y": 4527.000350952148,
        "wires": []
    },
    {
        "id": "6ee29165.117c4",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 150,
        "y": 4425.000108718872,
        "wires": [
            [
                "bf657b98.ee24b8"
            ]
        ]
    },
    {
        "id": "bf657b98.ee24b8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 365.00001525878906,
        "y": 4420.999990463257,
        "wires": [
            [
                "560fcd8d.ce1a54"
            ]
        ]
    },
    {
        "id": "560fcd8d.ce1a54",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "temperatura WC",
        "func": "var deteccion = msg.payload.DHT11.temp;\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DEL BAÑO ES DEMASIADO ALTA, ¿QUE HAS COMIDO? \\n\";\n\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DEL BAÑO ES DEMASIADO BAJA \\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 546.0000152587891,
        "y": 4421.999990463257,
        "wires": [
            [
                "e622596d.487b78"
            ]
        ]
    },
    {
        "id": "c3aa4655.bd5f78",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4702.999782562256,
        "y": 2203.000033378601,
        "wires": []
    },
    {
        "id": "c29b16ae.bb1408",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4710.999782562256,
        "y": 2254.000033378601,
        "wires": []
    },
    {
        "id": "867ab50f.114ff8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4277.999889373779,
        "y": 754.0001039505005,
        "wires": [
            [
                "2d00d0c8.883e2"
            ]
        ]
    },
    {
        "id": "be8f59f5.1f20a8",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch switch cocina",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que quieres hacer con el switch de la cocina?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3996.9995040893555,
        "y": 788.0000867843628,
        "wires": [
            [
                "867ab50f.114ff8"
            ],
            [
                "be098d0e.3af1b"
            ],
            [
                "2abe8d8f.5b2fb2"
            ]
        ]
    },
    {
        "id": "be098d0e.3af1b",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4287.999523162842,
        "y": 808.0000896453857,
        "wires": [
            [
                "8a49deaf.aac0f"
            ]
        ]
    },
    {
        "id": "f0d3e5e0.b98ef8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4728.499717712402,
        "y": 756.8907232284546,
        "wires": []
    },
    {
        "id": "2d00d0c8.883e2",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4447.400573730469,
        "y": 740.2501058578491,
        "wires": [
            [
                "f0d3e5e0.b98ef8",
                "29c4a18d.a2da2e"
            ]
        ]
    },
    {
        "id": "8a49deaf.aac0f",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4468.4003982543945,
        "y": 799.2500829696655,
        "wires": [
            [
                "f0d3e5e0.b98ef8",
                "65eb4785.de4988"
            ]
        ]
    },
    {
        "id": "65eb4785.de4988",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta encender",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se ha encendido el led de la cocina",
        "parseMode": "",
        "x": 4671.233848571777,
        "y": 799.2500982284546,
        "wires": []
    },
    {
        "id": "29c4a18d.a2da2e",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta apagar",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se ha apagado el led de la cocina",
        "parseMode": "",
        "x": 4659.234275817871,
        "y": 715.2501249313354,
        "wires": []
    },
    {
        "id": "5f7a8427.4b0ddc",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4286.567157745361,
        "y": 868.2501096725464,
        "wires": [
            [
                "bd763d97.d2d0a"
            ]
        ]
    },
    {
        "id": "bd763d97.d2d0a",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4472.567161560059,
        "y": 864.2501096725464,
        "wires": [
            [
                "f0d3e5e0.b98ef8"
            ]
        ]
    },
    {
        "id": "d4df8e6d.d1ae5",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch switch ",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que switch quieres tocar?",
        "answers": [
            "salon",
            "cocina",
            "habitacion",
            "wc"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3753.0002937316895,
        "y": 888.0001192092896,
        "wires": [
            [
                "c0632940.5f9bc8"
            ],
            [
                "be8f59f5.1f20a8"
            ],
            [
                "55276877.aa6208"
            ],
            [
                "f64c2b0e.c06078"
            ],
            [
                "a9bf4865.5b3608"
            ]
        ]
    },
    {
        "id": "ba8715a6.a29e58",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4298.5080490112305,
        "y": 969.5234689712524,
        "wires": [
            [
                "87bfa219.df95"
            ]
        ]
    },
    {
        "id": "55276877.aa6208",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch switch habitacion",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que quieres hacer con el switch del habitacion?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4060.5076065063477,
        "y": 1006.5234823226929,
        "wires": [
            [
                "ba8715a6.a29e58"
            ],
            [
                "dec17462.e43b68"
            ],
            [
                "b183f2f0.8f7dc"
            ]
        ]
    },
    {
        "id": "dec17462.e43b68",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4308.507682800293,
        "y": 1023.5234546661377,
        "wires": [
            [
                "5eae3b0.2a373c4"
            ]
        ]
    },
    {
        "id": "55cd39bd.00f398",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4735.008140563965,
        "y": 967.4140920639038,
        "wires": []
    },
    {
        "id": "87bfa219.df95",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4467.90873336792,
        "y": 955.7734708786011,
        "wires": [
            [
                "55cd39bd.00f398",
                "d7da1866.1bb928"
            ]
        ]
    },
    {
        "id": "5eae3b0.2a373c4",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4488.908557891846,
        "y": 1014.7734479904175,
        "wires": [
            [
                "55cd39bd.00f398",
                "e0c940c5.57b77"
            ]
        ]
    },
    {
        "id": "e0c940c5.57b77",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta encender",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se ha encendido el led de la habitacion",
        "parseMode": "",
        "x": 4675.742027282715,
        "y": 1008.7734823226929,
        "wires": []
    },
    {
        "id": "d7da1866.1bb928",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta apagar",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se ha apagado el led de la habitacion",
        "parseMode": "",
        "x": 4659.741966247559,
        "y": 922.7734985351562,
        "wires": []
    },
    {
        "id": "53db4eca.3c405",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4307.0753173828125,
        "y": 1083.7734746932983,
        "wires": [
            [
                "ee19716.b225b9"
            ]
        ]
    },
    {
        "id": "ee19716.b225b9",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4493.07532119751,
        "y": 1079.7734746932983,
        "wires": [
            [
                "55cd39bd.00f398"
            ]
        ]
    },
    {
        "id": "e31d9b7c.6bbad8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3977.015914916992,
        "y": 616.7500228881836,
        "wires": []
    },
    {
        "id": "2abe8d8f.5b2fb2",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4093.5158615112305,
        "y": 841.7500314712524,
        "wires": []
    },
    {
        "id": "b183f2f0.8f7dc",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4139.516067504883,
        "y": 1063.7500305175781,
        "wires": []
    },
    {
        "id": "a9bf4865.5b3608",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3800.5159454345703,
        "y": 970.7500219345093,
        "wires": []
    },
    {
        "id": "d8a80d81.50ce3",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4330.016021728516,
        "y": 1186.7501239776611,
        "wires": [
            [
                "668aefac.8b87b"
            ]
        ]
    },
    {
        "id": "f64c2b0e.c06078",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch switch wc",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que quieres hacer con el switch del wc?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4062.015579223633,
        "y": 1223.7501373291016,
        "wires": [
            [
                "d8a80d81.50ce3"
            ],
            [
                "c728a9d3.d20778"
            ],
            [
                "38b85162.f8537e"
            ]
        ]
    },
    {
        "id": "c728a9d3.d20778",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4340.015655517578,
        "y": 1240.7501096725464,
        "wires": [
            [
                "1be53c13.4db344"
            ]
        ]
    },
    {
        "id": "745b168b.0abe88",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4762.516014099121,
        "y": 1185.6407318115234,
        "wires": []
    },
    {
        "id": "668aefac.8b87b",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4499.416706085205,
        "y": 1173.0001258850098,
        "wires": [
            [
                "745b168b.0abe88",
                "acf3d82f.c77438"
            ]
        ]
    },
    {
        "id": "1be53c13.4db344",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4520.416530609131,
        "y": 1232.0001029968262,
        "wires": [
            [
                "745b168b.0abe88",
                "a0ac8dbb.e614d"
            ]
        ]
    },
    {
        "id": "a0ac8dbb.e614d",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta encender",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se ha encendido el led de la habitacion",
        "parseMode": "",
        "x": 4708.250205993652,
        "y": 1236.0001983642578,
        "wires": []
    },
    {
        "id": "acf3d82f.c77438",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta apagar",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se ha apagado el led de la habitacion",
        "parseMode": "",
        "x": 4696.249839782715,
        "y": 1141.0001363754272,
        "wires": []
    },
    {
        "id": "16c35836.2153e8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4364.58332824707,
        "y": 1309.0001373291016,
        "wires": [
            [
                "9f63c84b.06c6c8"
            ]
        ]
    },
    {
        "id": "9f63c84b.06c6c8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4524.583293914795,
        "y": 1297.000129699707,
        "wires": [
            [
                "745b168b.0abe88"
            ]
        ]
    },
    {
        "id": "38b85162.f8537e",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4171.024040222168,
        "y": 1280.9766855239868,
        "wires": []
    },
    {
        "id": "ec482297.3b889",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4815,
        "y": 2757.7504596710205,
        "wires": []
    },
    {
        "id": "3cb45dd1.4bd462",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4800.765625,
        "y": 2705.75,
        "wires": []
    },
    {
        "id": "5af77d14.bbdcc4",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/FOTA",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 2892.000587463379,
        "y": 236.00030326843262,
        "wires": []
    },
    {
        "id": "1997ef00.906221",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/FOTA",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 2898.000587463379,
        "y": 186.00030326843262,
        "wires": []
    },
    {
        "id": "a56acfcc.6f905",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4790.000312805176,
        "y": 3153.000442504883,
        "wires": []
    },
    {
        "id": "37da7f17.16266",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESPESP1122489/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4769.000312805176,
        "y": 3236.000442504883,
        "wires": []
    },
    {
        "id": "afe8a87b.00bb38",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "-----------------------------------------Configuracion-----------------------------------------",
        "info": "",
        "x": 4197.87922668457,
        "y": 1482.5860843658447,
        "wires": []
    },
    {
        "id": "ba22c844.668368",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "eleccion1",
        "links": [
            "3923cc5a.9a2984"
        ],
        "x": 4451.874984741211,
        "y": 2322.496181488037,
        "wires": []
    },
    {
        "id": "3923cc5a.9a2984",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "eleccion1",
        "links": [
            "ba22c844.668368"
        ],
        "x": 3884.8829793930054,
        "y": 2706.9219093322754,
        "wires": [
            [
                "6e87c2fc.f3f2ac"
            ]
        ]
    },
    {
        "id": "37612d69.8970c2",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "eleccion2",
        "links": [
            "4a9a4a8a.66bed4"
        ],
        "x": 4828.265625,
        "y": 2543.25,
        "wires": []
    },
    {
        "id": "4a9a4a8a.66bed4",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "eleccion2",
        "links": [
            "37612d69.8970c2"
        ],
        "x": 4000.266309738159,
        "y": 3035.2509326934814,
        "wires": [
            [
                "2bacccbf.fa1ca4"
            ]
        ]
    },
    {
        "id": "aac657ae.cf56e8",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/switch/status",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 3569.5005950927734,
        "y": 559.6667499542236,
        "wires": [
            [
                "caa40e32.1d572"
            ]
        ]
    },
    {
        "id": "7891cd32.22ae54",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado ==1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3696.137104034424,
        "y": 672.128909111023,
        "wires": [
            [
                "21b80ece.866dc2"
            ]
        ]
    },
    {
        "id": "caa40e32.1d572",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3684.7660064697266,
        "y": 618.3828554153442,
        "wires": [
            [
                "7891cd32.22ae54"
            ]
        ]
    },
    {
        "id": "82b40c61.80788",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/switch/status",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 3556.6670455932617,
        "y": 721.6667051315308,
        "wires": [
            [
                "ad6fa420.2964a8"
            ]
        ]
    },
    {
        "id": "50101230.b0587c",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/switch/status",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 3588.666877746582,
        "y": 1025.6667366027832,
        "wires": [
            [
                "52d71a4d.f11a74"
            ]
        ]
    },
    {
        "id": "9d03d29f.b2474",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/switch/status",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 3670.666877746582,
        "y": 1281.6667413016166,
        "wires": [
            [
                "3ad7e91d.263796"
            ]
        ]
    },
    {
        "id": "3f874de5.ea5072",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado == 1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3789.6670532226562,
        "y": 818.6666955947876,
        "wires": [
            [
                "a5d92e25.adb98"
            ]
        ]
    },
    {
        "id": "ad6fa420.2964a8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3706.2959518432617,
        "y": 770.9206228256226,
        "wires": [
            [
                "3f874de5.ea5072"
            ]
        ]
    },
    {
        "id": "d9197c98.0a9ee",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado ==1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3786.666893005371,
        "y": 1132.6667470932007,
        "wires": [
            [
                "96c8b22a.fedde"
            ]
        ]
    },
    {
        "id": "52d71a4d.f11a74",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3781.295799255371,
        "y": 1082.9206428527832,
        "wires": [
            [
                "d9197c98.0a9ee"
            ]
        ]
    },
    {
        "id": "e6302edc.15ebb",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado ==1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3971.666946411133,
        "y": 1369.6668248176575,
        "wires": [
            [
                "c3cc11e1.f75c8"
            ]
        ]
    },
    {
        "id": "3ad7e91d.263796",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3902.295795440674,
        "y": 1275.9208135604858,
        "wires": [
            [
                "e6302edc.15ebb"
            ]
        ]
    },
    {
        "id": "d6d73014.8a5c2",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "switch2",
        "links": [
            "36cb96b1.7965ea"
        ],
        "x": 4652.168043136597,
        "y": 3310.000326156616,
        "wires": []
    },
    {
        "id": "93bc06a7.eef178",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "switch",
        "links": [
            "d3e10b8.2c508f8"
        ],
        "x": 589.5000305175781,
        "y": 609.6666793823242,
        "wires": []
    },
    {
        "id": "fd2fbfa4.0699a",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch switch global",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que quieres hacer con el switch global?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3860.3335723876953,
        "y": 1702.3335189819336,
        "wires": [
            [
                "8b8f7881.4ad958"
            ],
            [
                "21ba9f3a.daa47"
            ],
            [
                "7a5d028b.0e4f2c"
            ]
        ]
    },
    {
        "id": "36cb96b1.7965ea",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "switch2",
        "links": [
            "d6d73014.8a5c2"
        ],
        "x": 3709.1671752929688,
        "y": 1699.6668510437012,
        "wires": [
            [
                "fd2fbfa4.0699a"
            ]
        ]
    },
    {
        "id": "8b8f7881.4ad958",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio apagar",
        "func": "msg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4096.00032043457,
        "y": 1655.000144958496,
        "wires": [
            [
                "f792aab1.40d218"
            ]
        ]
    },
    {
        "id": "21ba9f3a.daa47",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4105.999954223633,
        "y": 1709.0001306533813,
        "wires": [
            [
                "6d331628.be6dd8"
            ]
        ]
    },
    {
        "id": "8eb45049.75117",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4565.50032043457,
        "y": 1667.890769958496,
        "wires": []
    },
    {
        "id": "f792aab1.40d218",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4265.40100479126,
        "y": 1641.2501468658447,
        "wires": [
            [
                "8eb45049.75117",
                "774c4ea4.dd52c",
                "ad6cdd41.4dc31",
                "f0bab04f.254db",
                "4e623028.1a85c",
                "22e0ab39.4e07a4"
            ]
        ]
    },
    {
        "id": "6d331628.be6dd8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4258.40071105957,
        "y": 1697.250144958496,
        "wires": [
            [
                "8eb45049.75117",
                "485505a6.a193dc",
                "ad6cdd41.4dc31",
                "f0bab04f.254db",
                "4e623028.1a85c",
                "22e0ab39.4e07a4"
            ]
        ]
    },
    {
        "id": "485505a6.a193dc",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta encender",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se han encendido los switches",
        "parseMode": "",
        "x": 4491.23469543457,
        "y": 1606.2502670288086,
        "wires": []
    },
    {
        "id": "774c4ea4.dd52c",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta apagar",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se han apagado los switches",
        "parseMode": "",
        "x": 4482.23420715332,
        "y": 1568.250144958496,
        "wires": []
    },
    {
        "id": "7a5d028b.0e4f2c",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4017.0003204345703,
        "y": 1757.000144958496,
        "wires": []
    },
    {
        "id": "ad6cdd41.4dc31",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4572.00032043457,
        "y": 1711.000144958496,
        "wires": []
    },
    {
        "id": "f0bab04f.254db",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4583.00032043457,
        "y": 1749.000144958496,
        "wires": []
    },
    {
        "id": "4e623028.1a85c",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 4585.00032043457,
        "y": 1792.000144958496,
        "wires": []
    },
    {
        "id": "22e0ab39.4e07a4",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "led2",
        "links": [
            "86a8cd1.3190a3"
        ],
        "x": 4379.00032043457,
        "y": 1837.000144958496,
        "wires": []
    },
    {
        "id": "4296ea5c.e5f724",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch led global",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que quieres hacer con el LED global?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4176.122291564941,
        "y": 3672.524130821228,
        "wires": [
            [
                "a831d133.ddee2"
            ],
            [
                "530c76a0.cb3838"
            ],
            [
                "e182f7a1.20e678"
            ]
        ]
    },
    {
        "id": "86a8cd1.3190a3",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "22e0ab39.4e07a4"
        ],
        "x": 4018.7220916748047,
        "y": 3704.261294364929,
        "wires": [
            [
                "4296ea5c.e5f724"
            ]
        ]
    },
    {
        "id": "303e54f6.53efac",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 4801.622177124023,
        "y": 3572.5243701934814,
        "wires": []
    },
    {
        "id": "41c5e4f3.e07bfc",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 4805,
        "y": 3621.439194202423,
        "wires": []
    },
    {
        "id": "d3827945.2060d8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 4820,
        "y": 3660.6211347579956,
        "wires": []
    },
    {
        "id": "e281a2e1.aa6ae",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "bb9efe90.56759",
        "x": 4821,
        "y": 3699.621054649353,
        "wires": []
    },
    {
        "id": "e182f7a1.20e678",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4324.621917724609,
        "y": 3741.5240926742554,
        "wires": []
    },
    {
        "id": "530c76a0.cb3838",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4348.121932983398,
        "y": 3675.5242490768433,
        "wires": [
            [
                "d586d4ce.3a9258"
            ]
        ]
    },
    {
        "id": "d586d4ce.3a9258",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4484.121513366699,
        "y": 3668.5244817733765,
        "wires": [
            [
                "303e54f6.53efac",
                "41c5e4f3.e07bfc",
                "d3827945.2060d8",
                "e281a2e1.aa6ae",
                "616cdc5a.f10664"
            ]
        ]
    },
    {
        "id": "e47412c6.1973a",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4469.122116088867,
        "y": 3602.5246725082397,
        "wires": [
            [
                "303e54f6.53efac",
                "41c5e4f3.e07bfc",
                "d3827945.2060d8",
                "e281a2e1.aa6ae",
                "2a7473c7.27bfbc"
            ]
        ]
    },
    {
        "id": "a831d133.ddee2",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4323.12194442749,
        "y": 3603.524347305298,
        "wires": [
            [
                "e47412c6.1973a"
            ]
        ]
    },
    {
        "id": "616cdc5a.f10664",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta encender",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se han encendido los leds",
        "parseMode": "",
        "x": 4702.0102615356445,
        "y": 3503.667455673218,
        "wires": []
    },
    {
        "id": "2a7473c7.27bfbc",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta apagar",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se han apagado los leds",
        "parseMode": "",
        "x": 4653.009880065918,
        "y": 3444.6673727035522,
        "wires": []
    },
    {
        "id": "ffc42169.b992c",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "ACTUALIZACION FOTA",
        "info": "",
        "x": 2461.250160217285,
        "y": 120.73438835144043,
        "wires": []
    },
    {
        "id": "52e51f0f.57696",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch bienvenida",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Aqui tienes mas opciones todavía",
        "answers": [
            "Switch",
            "Temp.maxima",
            "Temp. minima"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 349.6666564941406,
        "y": 665.6666870117188,
        "wires": [
            [
                "93bc06a7.eef178"
            ],
            [
                "2f12e0b.e42912"
            ],
            [
                "e0a2b4c0.a4c638"
            ],
            []
        ]
    },
    {
        "id": "5567bff1.38466",
        "type": "delay",
        "z": "73d3abd6.5859c4",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 168.6666717529297,
        "y": 641.6666870117188,
        "wires": [
            [
                "52e51f0f.57696",
                "46a5809b.00bff"
            ]
        ]
    },
    {
        "id": "2f12e0b.e42912",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "tempmax",
        "links": [
            "872c49a1.eebad8"
        ],
        "x": 585.6666870117188,
        "y": 653.6666870117188,
        "wires": []
    },
    {
        "id": "872c49a1.eebad8",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "TempMax",
        "links": [
            "2f12e0b.e42912"
        ],
        "x": 2228.8334045410156,
        "y": 655.0000381469727,
        "wires": [
            [
                "2bd4d6b9.2c23ba"
            ]
        ]
    },
    {
        "id": "6cdf0bd2.977e54",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "db9f7504.18ea18",
        "order": 1,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Habitacion",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4319.000152587891,
        "y": 4548.334246635437,
        "wires": []
    },
    {
        "id": "36932fbb.899d2",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "db9f7504.18ea18",
        "order": 3,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Salon",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4293.500152587891,
        "y": 4303.334239959717,
        "wires": []
    },
    {
        "id": "223b8af1.cccbd6",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "db9f7504.18ea18",
        "order": 4,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Cocina",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4434.500156402588,
        "y": 4061.3339881896973,
        "wires": []
    },
    {
        "id": "225dc06e.c8813",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "db9f7504.18ea18",
        "order": 5,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Baño",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4303.500148773193,
        "y": 4802.3342542648315,
        "wires": []
    },
    {
        "id": "e757b7ce.7ca318",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "DashBoard Text",
        "info": "",
        "x": 3762.833251953125,
        "y": 4085.667236328125,
        "wires": []
    },
    {
        "id": "d56bb620.eddab8",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "7e286cdf.c91524",
        "order": 1,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Habitacion",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4334.000154495239,
        "y": 4592.334247589111,
        "wires": []
    },
    {
        "id": "a7adc12b.7c061",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "7e286cdf.c91524",
        "order": 3,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Salon",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4302.000152587891,
        "y": 4345.334240913391,
        "wires": []
    },
    {
        "id": "dd6dcff.134e93",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "7e286cdf.c91524",
        "order": 4,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Cocina",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4430.000152587891,
        "y": 4121.334559440613,
        "wires": []
    },
    {
        "id": "c2f662d1.575e1",
        "type": "ui_gauge",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "7e286cdf.c91524",
        "order": 5,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Baño",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4313.000152587891,
        "y": 4852.33425617218,
        "wires": []
    },
    {
        "id": "9a63ceaa.ebca7",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "temperatura",
        "info": "",
        "x": 4586.000156402588,
        "y": 4055.3339881896973,
        "wires": []
    },
    {
        "id": "ce9d412c.42e53",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "humedad",
        "info": "",
        "x": 4568.000015258789,
        "y": 4122.334112167358,
        "wires": []
    },
    {
        "id": "e0112969.ff0818",
        "type": "ui_slider",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Salon____",
        "tooltip": "",
        "group": "f7f1daa4.953198",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3995.0001373291016,
        "y": 4458.334243774414,
        "wires": [
            [
                "2e4e6e5f.7c6662"
            ]
        ]
    },
    {
        "id": "97769974.5e55f8",
        "type": "ui_slider",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Habitacion",
        "tooltip": "",
        "group": "f7f1daa4.953198",
        "order": 4,
        "width": "6",
        "height": "1",
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3943.000129699707,
        "y": 4694.33424949646,
        "wires": [
            [
                "28bb0745.eb4f68"
            ]
        ]
    },
    {
        "id": "d5c9d145.86ebc",
        "type": "ui_slider",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Cocina___",
        "tooltip": "",
        "group": "f7f1daa4.953198",
        "order": 3,
        "width": "6",
        "height": "1",
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3952.0001373291016,
        "y": 4231.334238052368,
        "wires": [
            [
                "4c40ed5.830ee14"
            ]
        ]
    },
    {
        "id": "359e78ef.0c84e8",
        "type": "ui_slider",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Baño_____",
        "tooltip": "",
        "group": "f7f1daa4.953198",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3905.000129699707,
        "y": 4974.3342571258545,
        "wires": [
            [
                "df0eb418.a6fe38"
            ]
        ]
    },
    {
        "id": "a7613e8e.c66cc",
        "type": "ui_chart",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "9701ec3e.193b3",
        "order": 0,
        "width": "9",
        "height": "8",
        "label": "Temperatura",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "12",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 4925,
        "y": 4331.333734512329,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "77cc13ca.ee6ddc",
        "type": "ui_chart",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "9701ec3e.193b3",
        "order": 0,
        "width": "9",
        "height": "8",
        "label": "Humedad",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "12",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 4928.000165939331,
        "y": 4564.333492279053,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "7f1fbf5f.e6d4e",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"Habitacion\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4786.76579284668,
        "y": 4357.250116348267,
        "wires": [
            [
                "a7613e8e.c66cc"
            ]
        ]
    },
    {
        "id": "b8b34161.091fc",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"Habitacion\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4776.765670776367,
        "y": 4613.250116348267,
        "wires": [
            [
                "77cc13ca.ee6ddc"
            ]
        ]
    },
    {
        "id": "237617ca.919df8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"cocina\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4774.765609741211,
        "y": 4510.250238418579,
        "wires": [
            [
                "77cc13ca.ee6ddc"
            ]
        ]
    },
    {
        "id": "e4812afe.a3e248",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"cocina\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4777.765609741211,
        "y": 4287.249994277954,
        "wires": [
            [
                "a7613e8e.c66cc"
            ]
        ]
    },
    {
        "id": "7d61fd75.afe504",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"baño\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4789.765670776367,
        "y": 4391.250116348267,
        "wires": [
            [
                "a7613e8e.c66cc"
            ]
        ]
    },
    {
        "id": "746eefdb.a87a8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"baño\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4776.76579284668,
        "y": 4574.250240325928,
        "wires": [
            [
                "77cc13ca.ee6ddc"
            ]
        ]
    },
    {
        "id": "e55611d8.ccb9c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"salon\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4779.765731811523,
        "y": 4541.25005531311,
        "wires": [
            [
                "77cc13ca.ee6ddc"
            ]
        ]
    },
    {
        "id": "a23a2e66.62f75",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"salon\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4779.765609741211,
        "y": 4321.249994277954,
        "wires": [
            [
                "a7613e8e.c66cc"
            ]
        ]
    },
    {
        "id": "21b80ece.866dc2",
        "type": "ui_switch",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Salon",
        "tooltip": "",
        "group": "f7f1daa4.953198",
        "order": 6,
        "width": "1",
        "height": "1",
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 3936.7662200927734,
        "y": 683.2504281997681,
        "wires": [
            [
                "3ccfc3bb.1b5a8c"
            ]
        ]
    },
    {
        "id": "96c8b22a.fedde",
        "type": "ui_switch",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Habitacion",
        "tooltip": "",
        "group": "f7f1daa4.953198",
        "order": 7,
        "width": "1",
        "height": "1",
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 4085.765914916992,
        "y": 1126.2502374649048,
        "wires": [
            [
                "53db4eca.3c405"
            ]
        ]
    },
    {
        "id": "a5d92e25.adb98",
        "type": "ui_switch",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Cocina",
        "tooltip": "",
        "group": "f7f1daa4.953198",
        "order": 9,
        "width": "1",
        "height": "1",
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 4064.7659759521484,
        "y": 895.2503128051758,
        "wires": [
            [
                "5f7a8427.4b0ddc"
            ]
        ]
    },
    {
        "id": "c3cc11e1.f75c8",
        "type": "ui_switch",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Baño",
        "tooltip": "",
        "group": "f7f1daa4.953198",
        "order": 8,
        "width": "1",
        "height": "1",
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 4158.766342163086,
        "y": 1374.250470161438,
        "wires": [
            [
                "16c35836.2153e8"
            ]
        ]
    },
    {
        "id": "5ccb6c76.5ff5a4",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "cb23c557.dc6358",
        "order": 1,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4370.766342163086,
        "y": 2981.250705718994,
        "wires": [
            [
                "31b44eda.e1ff42"
            ]
        ]
    },
    {
        "id": "2ff8eb62.cfb9d4",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "cb23c557.dc6358",
        "order": 2,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "60 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4367.26628112793,
        "y": 3071.7499742507935,
        "wires": [
            [
                "d7a9821e.f76de"
            ]
        ]
    },
    {
        "id": "9865f918.520118",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "cb23c557.dc6358",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "120 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4367.765670776367,
        "y": 3167.000401496887,
        "wires": [
            [
                "c2010a7c.4674c8"
            ]
        ]
    },
    {
        "id": "b537b7f2.6a1b18",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "cb23c557.dc6358",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "240 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4377.015670776367,
        "y": 3262.2500343322754,
        "wires": [
            [
                "9ebcb316.89a67"
            ]
        ]
    },
    {
        "id": "23366c1d.a53284",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "1438b091.2136ff",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "5 seg",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4245.765914916992,
        "y": 2614.2500619888306,
        "wires": [
            [
                "5d65ef0e.4731e"
            ]
        ]
    },
    {
        "id": "773179c2.eaa0c8",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "1438b091.2136ff",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "10 seg",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4252.516098022461,
        "y": 2693.249970436096,
        "wires": [
            [
                "504a7ac8.005324"
            ]
        ]
    },
    {
        "id": "9beb7da0.3c993",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "1438b091.2136ff",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "30 seg",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4263.015609741211,
        "y": 2765.750214576721,
        "wires": [
            [
                "bda58b61.568ac8"
            ]
        ]
    },
    {
        "id": "4c823341.64006c",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "1438b091.2136ff",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "1 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4270.516036987305,
        "y": 2833.0000915527344,
        "wires": [
            [
                "4530ff52.79bf5"
            ]
        ]
    },
    {
        "id": "c0bdbe2f.e878e",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "1438b091.2136ff",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "5 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4279.765731811523,
        "y": 2895.2500925064087,
        "wires": [
            [
                "57d32d5f.347734"
            ]
        ]
    },
    {
        "id": "d41f36b0.6ddca8",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/actualizacion",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 2374.8342933654785,
        "y": 2167.667510986328,
        "wires": [
            [
                "5fca7308.1436cc"
            ]
        ]
    },
    {
        "id": "244efc62.b4ae34",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/actualizacion",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 2372.7661323547363,
        "y": 2216.2503337860107,
        "wires": [
            [
                "72648b69.cfed94"
            ]
        ]
    },
    {
        "id": "f16fd202.8b521",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/actualizacion",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 2380.7663764953613,
        "y": 2264.250388145447,
        "wires": [
            [
                "ae1496ec.648ca8"
            ]
        ]
    },
    {
        "id": "4d315330.d2fe9c",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/actualizacion",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 2386.7661323547363,
        "y": 2308.2503337860107,
        "wires": [
            [
                "68d157d9.ca1788"
            ]
        ]
    },
    {
        "id": "412d81fb.a5906",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"Se va a actualizar la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2878.3870010375977,
        "y": 2153.633108139038,
        "wires": [
            [
                "741ee4ab.4650ec"
            ]
        ]
    },
    {
        "id": "60c058da.5857b8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"se va a actualizar la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2882.765823364258,
        "y": 2210.2503032684326,
        "wires": [
            [
                "741ee4ab.4650ec"
            ]
        ]
    },
    {
        "id": "873ae34e.271a2",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"se va a actualizar la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2870.765823364258,
        "y": 2249.2503032684326,
        "wires": [
            [
                "741ee4ab.4650ec"
            ]
        ]
    },
    {
        "id": "a6792083.61587",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"se va a actualizar la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2874.765823364258,
        "y": 2294.2503032684326,
        "wires": [
            [
                "741ee4ab.4650ec"
            ]
        ]
    },
    {
        "id": "741ee4ab.4650ec",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "Respuesta actualizacion",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3178.2661476135254,
        "y": 2216.250325202942,
        "wires": []
    },
    {
        "id": "6505ef6f.5f7ee",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/TemperaturaMin",
        "bot": "7cdb84f8.2dccfc",
        "command": "/TemperaturaMin",
        "commandType": "str",
        "commandCase": false,
        "x": 2243.666748046875,
        "y": 1095.3333740234375,
        "wires": [
            [
                "9a895f17.8a2f2"
            ]
        ]
    },
    {
        "id": "9a895f17.8a2f2",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch temperatura Min",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Por favor elija la temperatura a la que quiere que le avisemos si se baja de ella",
        "answers": [
            "-20º ",
            "-10º",
            "0º",
            "5º"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2467.000244140625,
        "y": 1096.3333740234375,
        "wires": [
            [
                "4aa5f940.701288"
            ],
            [
                "5410b47.952f94c"
            ],
            [
                "76423273.d78dbc"
            ],
            [
                "ef02f338.14e43"
            ],
            [
                "70ed6637.dab3d8"
            ]
        ]
    },
    {
        "id": "f1c1dc1c.a8652",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "temperatura -10",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a -10º",
        "parseMode": "",
        "x": 2918.3335571289062,
        "y": 924.3333740234375,
        "wires": []
    },
    {
        "id": "70ed6637.dab3d8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2523.333484649658,
        "y": 1180.3333778381348,
        "wires": []
    },
    {
        "id": "10d2bd24.ebbc43",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "temperatura 0",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a 0º",
        "parseMode": "",
        "x": 2934.3335571289062,
        "y": 998.0000610351562,
        "wires": []
    },
    {
        "id": "48216850.f4e548",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "temperatura 5",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a 5º",
        "parseMode": "",
        "x": 2918.3335571289062,
        "y": 1123.0000610351562,
        "wires": []
    },
    {
        "id": "39d156c3.0b8e5a",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "temperatura 10",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a 10º",
        "parseMode": "",
        "x": 2891.3335571289062,
        "y": 1192.0000610351562,
        "wires": []
    },
    {
        "id": "eca9993a.c69518",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "TempMin",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2962.166835784912,
        "y": 1057.0000410079956,
        "wires": [
            [
                "1f536a9c.af4fc5",
                "4dd39312.e0774c"
            ]
        ]
    },
    {
        "id": "4aa5f940.701288",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion -10",
        "func": "msg.payload = -10;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2710.1670532226562,
        "y": 912.3333740234375,
        "wires": [
            [
                "eca9993a.c69518",
                "f1c1dc1c.a8652"
            ]
        ]
    },
    {
        "id": "5410b47.952f94c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 0",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2686.3335571289062,
        "y": 1000.3333740234375,
        "wires": [
            [
                "eca9993a.c69518",
                "10d2bd24.ebbc43"
            ]
        ]
    },
    {
        "id": "76423273.d78dbc",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 5",
        "func": "msg.payload = 5;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2707.3335571289062,
        "y": 1086.3333740234375,
        "wires": [
            [
                "eca9993a.c69518",
                "48216850.f4e548"
            ]
        ]
    },
    {
        "id": "ef02f338.14e43",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 10",
        "func": "msg.payload = 10;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2704.33349609375,
        "y": 1167.3333806991577,
        "wires": [
            [
                "eca9993a.c69518",
                "39d156c3.0b8e5a"
            ]
        ]
    },
    {
        "id": "6fe2b3ed.d499bc",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "TempMin",
        "links": [
            "e0a2b4c0.a4c638"
        ],
        "x": 2277.166717529297,
        "y": 1014.9999160766602,
        "wires": [
            [
                "9a895f17.8a2f2"
            ]
        ]
    },
    {
        "id": "e0a2b4c0.a4c638",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "6fe2b3ed.d499bc"
        ],
        "x": 585,
        "y": 692,
        "wires": []
    },
    {
        "id": "14bb11d.16979ee",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/HumedadMin",
        "bot": "7cdb84f8.2dccfc",
        "command": "/HumedadMin",
        "commandType": "str",
        "commandCase": false,
        "x": 2272,
        "y": 1482,
        "wires": [
            [
                "80b90cc3.203ac"
            ]
        ]
    },
    {
        "id": "80b90cc3.203ac",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch humedad Min",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Por favor elija el porcentaje de humedad a la que quiere que le avisemos si se baja de ella",
        "answers": [
            "5%",
            "15%",
            "20%",
            "25%"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2495.33349609375,
        "y": 1483,
        "wires": [
            [
                "8e16e7d9.8dd248"
            ],
            [
                "f79b5d18.d1c97"
            ],
            [
                "90a9e5d2.b81de8"
            ],
            [
                "bf97fbb1.8b4988"
            ],
            [
                "ed7326fd.457aa8"
            ]
        ]
    },
    {
        "id": "13531526.307d2b",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "humedad 5%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 5%",
        "parseMode": "",
        "x": 2946.6668090820312,
        "y": 1311,
        "wires": []
    },
    {
        "id": "ed7326fd.457aa8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2561.666736602783,
        "y": 1567.0000038146973,
        "wires": []
    },
    {
        "id": "edc38a27.d9ca18",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "humedad 15%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 15%",
        "parseMode": "",
        "x": 2972.6668090820312,
        "y": 1384.6666870117188,
        "wires": []
    },
    {
        "id": "dbae43b6.622fd",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "humedad 20%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 20%",
        "parseMode": "",
        "x": 2956.6668090820312,
        "y": 1509.6666870117188,
        "wires": []
    },
    {
        "id": "97721742.a81988",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "humedad 25%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 25%",
        "parseMode": "",
        "x": 2929.6668090820312,
        "y": 1578.6666870117188,
        "wires": []
    },
    {
        "id": "f5e93572.74a658",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "HumMin",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3000.500087738037,
        "y": 1443.666666984558,
        "wires": [
            [
                "23201af6.c1e1f6"
            ]
        ]
    },
    {
        "id": "8e16e7d9.8dd248",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 5",
        "func": "msg.payload = 5;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2738.5003051757812,
        "y": 1299,
        "wires": [
            [
                "f5e93572.74a658",
                "13531526.307d2b"
            ]
        ]
    },
    {
        "id": "f79b5d18.d1c97",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 15",
        "func": "msg.payload = 15;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2734.6668090820312,
        "y": 1387,
        "wires": [
            [
                "f5e93572.74a658",
                "edc38a27.d9ca18"
            ]
        ]
    },
    {
        "id": "90a9e5d2.b81de8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 20",
        "func": "msg.payload = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2755.6668090820312,
        "y": 1473,
        "wires": [
            [
                "f5e93572.74a658",
                "dbae43b6.622fd"
            ]
        ]
    },
    {
        "id": "bf97fbb1.8b4988",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 25",
        "func": "msg.payload = 25;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2742.666748046875,
        "y": 1554.0000066757202,
        "wires": [
            [
                "f5e93572.74a658",
                "97721742.a81988"
            ]
        ]
    },
    {
        "id": "96b09173.8680b",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "HumMin",
        "links": [
            "bd9c8235.03b31"
        ],
        "x": 2315.499969482422,
        "y": 1401.6665420532227,
        "wires": [
            [
                "80b90cc3.203ac"
            ]
        ]
    },
    {
        "id": "bf80592d.8ece58",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 1731,
        "y": 4371,
        "wires": []
    },
    {
        "id": "8535243.bec9fd8",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 1073.000015258789,
        "y": 4307.000484466553,
        "wires": [
            [
                "ddc330fa.0db6d"
            ]
        ]
    },
    {
        "id": "ae553233.5e703",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "humedad cocina",
        "func": "var deteccion = msg.payload.DHT11.hum;\nif (deteccion <= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DE LA COCINA ES DEMASIADO BAJA \\n\";\n\nif (deteccion >= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DE LA COCINA ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1457.000015258789,
        "y": 4303.999990463257,
        "wires": [
            [
                "bf80592d.8ece58"
            ]
        ]
    },
    {
        "id": "f63ef53.bc54208",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "humedades",
        "info": "",
        "x": 1064.000015258789,
        "y": 4263.000350952148,
        "wires": []
    },
    {
        "id": "ddc330fa.0db6d",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1289.0000457763672,
        "y": 4304.999990463257,
        "wires": [
            [
                "ae553233.5e703"
            ]
        ]
    },
    {
        "id": "bfc9c2db.131e6",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 1087,
        "y": 4365.303331375122,
        "wires": [
            [
                "83f08c92.e1c5a"
            ]
        ]
    },
    {
        "id": "750bf02e.8d5a5",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 1069,
        "y": 4411.303331375122,
        "wires": [
            [
                "f2eb0608.2d18c8"
            ]
        ]
    },
    {
        "id": "83f08c92.e1c5a",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1298.0000305175781,
        "y": 4363.30322265625,
        "wires": [
            [
                "193482d1.452d6d"
            ]
        ]
    },
    {
        "id": "f2eb0608.2d18c8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1293.000015258789,
        "y": 4411.303213119507,
        "wires": [
            [
                "ee649c0b.8875d"
            ]
        ]
    },
    {
        "id": "193482d1.452d6d",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "humedad salon",
        "func": "var deteccion = msg.payload.DHT11.hum;\nif (deteccion <= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DEL SALON ES DEMASIADO BAJA \\n\";\n\nif (deteccion >= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DEL SALON ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1455.000015258789,
        "y": 4362.303213119507,
        "wires": [
            [
                "bf80592d.8ece58"
            ]
        ]
    },
    {
        "id": "ee649c0b.8875d",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "humedad habitacion",
        "func": "var deteccion = msg.payload.DHT11.hum;\nif (deteccion <= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DE LA HABITACION ES DEMASIADO BAJA \\n\";\n\nif (deteccion >= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DE LA HABITACION ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1461.000015258789,
        "y": 4410.303213119507,
        "wires": [
            [
                "bf80592d.8ece58"
            ]
        ]
    },
    {
        "id": "63233929.839588",
        "type": "mqtt in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/datos",
        "qos": "2",
        "broker": "119a9834.2725a8",
        "x": 1074,
        "y": 4458.303331375122,
        "wires": [
            [
                "6bdd53cd.c9834c"
            ]
        ]
    },
    {
        "id": "6bdd53cd.c9834c",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1289.000015258789,
        "y": 4454.303213119507,
        "wires": [
            [
                "6ca188c9.532b08"
            ]
        ]
    },
    {
        "id": "6ca188c9.532b08",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "humedad WC",
        "func": "var deteccion = msg.payload.DHT11.hum;\nif (deteccion <= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DEL BAÑO ES DEMASIADO BAJA \\n\";\n\nif (deteccion >= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DEL BAÑO ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1470.000015258789,
        "y": 4455.303213119507,
        "wires": [
            [
                "bf80592d.8ece58"
            ]
        ]
    },
    {
        "id": "ccdb9797.81c2c8",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/HumedadMax",
        "bot": "7cdb84f8.2dccfc",
        "command": "/HumedadMax",
        "commandType": "str",
        "commandCase": false,
        "x": 2274,
        "y": 1891,
        "wires": [
            [
                "f26b40a4.2fb4a"
            ]
        ]
    },
    {
        "id": "f26b40a4.2fb4a",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch humedad Max",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Por favor elija el porcentaje de humedad a la que quiere que le avisemos si se supera",
        "answers": [
            "65%",
            "75%",
            "80%",
            "90%"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2498.33349609375,
        "y": 1894,
        "wires": [
            [
                "8b53711.bbc309"
            ],
            [
                "eb0c51b2.7f571"
            ],
            [
                "d8d81dd.5b9fae"
            ],
            [
                "4da9bf57.028f3"
            ],
            [
                "867db1f1.00786"
            ]
        ]
    },
    {
        "id": "8c55b566.3ea4a8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "humedad 65%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 65%",
        "parseMode": "",
        "x": 2959.6668090820312,
        "y": 1722,
        "wires": []
    },
    {
        "id": "867db1f1.00786",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2564.666736602783,
        "y": 1978.0000038146973,
        "wires": []
    },
    {
        "id": "c09cd995.a91388",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "humedad 75%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 75%",
        "parseMode": "",
        "x": 2975.6668090820312,
        "y": 1795.6666870117188,
        "wires": []
    },
    {
        "id": "7cef7a74.9f7324",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "humedad 80%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 80%",
        "parseMode": "",
        "x": 2959.6668090820312,
        "y": 1920.6666870117188,
        "wires": []
    },
    {
        "id": "bc924a02.06dd38",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "humedad 90%",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 90%",
        "parseMode": "",
        "x": 2932.6668090820312,
        "y": 1989.6666870117188,
        "wires": []
    },
    {
        "id": "3a8c4e09.83c942",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "HumMax",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3003.500087738037,
        "y": 1854.666666984558,
        "wires": [
            [
                "caa571ad.7a303"
            ]
        ]
    },
    {
        "id": "8b53711.bbc309",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 65",
        "func": "msg.payload = 65;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2751.5003051757812,
        "y": 1710,
        "wires": [
            [
                "3a8c4e09.83c942",
                "8c55b566.3ea4a8"
            ]
        ]
    },
    {
        "id": "eb0c51b2.7f571",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 75",
        "func": "msg.payload = 75;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2756.6667442321777,
        "y": 1794.9999713897705,
        "wires": [
            [
                "3a8c4e09.83c942",
                "c09cd995.a91388"
            ]
        ]
    },
    {
        "id": "d8d81dd.5b9fae",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 80",
        "func": "msg.payload = 80;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2758.6668090820312,
        "y": 1884,
        "wires": [
            [
                "3a8c4e09.83c942",
                "7cef7a74.9f7324"
            ]
        ]
    },
    {
        "id": "4da9bf57.028f3",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "eleccion 90",
        "func": "msg.payload = 90;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2745.666748046875,
        "y": 1965.0000066757202,
        "wires": [
            [
                "3a8c4e09.83c942",
                "bc924a02.06dd38"
            ]
        ]
    },
    {
        "id": "eadfc156.0cdff",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "HumMax",
        "links": [
            "47ebbd7a.5d9904"
        ],
        "x": 2318.499969482422,
        "y": 1812.6665420532227,
        "wires": [
            [
                "f26b40a4.2fb4a"
            ]
        ]
    },
    {
        "id": "e159f68c.7e5c18",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch bienvenida",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Aqui tienes mas opciones aún!!",
        "answers": [
            "Hum. minima",
            "Hum. maxima",
            "Logica"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 346,
        "y": 835,
        "wires": [
            [
                "bd9c8235.03b31"
            ],
            [
                "47ebbd7a.5d9904"
            ],
            [
                "b0ccfd83.bc6e1"
            ],
            []
        ]
    },
    {
        "id": "46a5809b.00bff",
        "type": "delay",
        "z": "73d3abd6.5859c4",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 171,
        "y": 755,
        "wires": [
            [
                "e159f68c.7e5c18"
            ]
        ]
    },
    {
        "id": "bd9c8235.03b31",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "HumMin",
        "links": [
            "96b09173.8680b"
        ],
        "x": 532,
        "y": 822,
        "wires": []
    },
    {
        "id": "47ebbd7a.5d9904",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "HumMax",
        "links": [
            "eadfc156.0cdff"
        ],
        "x": 534,
        "y": 855,
        "wires": []
    },
    {
        "id": "2d5cc9af.29bac6",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "36f4ebd4.a8ee44",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Encender",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4144.765975952148,
        "y": 3755.2504711151123,
        "wires": [
            [
                "530c76a0.cb3838"
            ]
        ]
    },
    {
        "id": "5b570de.fead3f4",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "36f4ebd4.a8ee44",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Apagar",
        "tooltip": "",
        "color": "",
        "bgcolor": "#E9967A",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4135.765968322754,
        "y": 3622.500473022461,
        "wires": [
            [
                "a831d133.ddee2"
            ]
        ]
    },
    {
        "id": "52dc78f5.18cf68",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "36f4ebd4.a8ee44",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Encender",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 3896.2658500671387,
        "y": 1792.7500476837158,
        "wires": [
            [
                "21ba9f3a.daa47"
            ]
        ]
    },
    {
        "id": "686aaf.0229d55",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "36f4ebd4.a8ee44",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Apagar",
        "tooltip": "",
        "color": "",
        "bgcolor": "#E9967A",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 3895.265853881836,
        "y": 1631.0000486373901,
        "wires": [
            [
                "8b8f7881.4ad958"
            ]
        ]
    },
    {
        "id": "1f536a9c.af4fc5",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Paso de temperaturas",
        "func": "var TempMin = global.get(\"TempMin\")\nvar TempMax = global.get(\"TempMax\")\nmsg = {}\nmsg.payload = {\"TempMax\":TempMax,\"TempMin\":TempMin}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3134.7578125,
        "y": 861.8671875,
        "wires": [
            [
                "cd5a11a4.f4e2"
            ]
        ]
    },
    {
        "id": "cd5a11a4.f4e2",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/temperaturas",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 3266.000289916992,
        "y": 931.0000371932983,
        "wires": []
    },
    {
        "id": "1e31dd99.536d42",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "a70f5b0b.df12e8",
        "order": 1,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "5 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4131,
        "y": 2076,
        "wires": [
            [
                "be1da06a.31107"
            ]
        ]
    },
    {
        "id": "ddc7ac1d.7a4b7",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "a70f5b0b.df12e8",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "10 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4136.75,
        "y": 2145,
        "wires": [
            [
                "10f296ce.27f999"
            ]
        ]
    },
    {
        "id": "d08319e.ef3b6e8",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "a70f5b0b.df12e8",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "100 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4150.25,
        "y": 2207.5,
        "wires": [
            [
                "4a6527c9.ca2708"
            ]
        ]
    },
    {
        "id": "9b072297.f6a7c",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "a70f5b0b.df12e8",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "200 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4161.75,
        "y": 2272.75,
        "wires": [
            [
                "a4ea5ffd.569ce"
            ]
        ]
    },
    {
        "id": "9960c01f.45cfa",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "a70f5b0b.df12e8",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "500 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4159,
        "y": 2335,
        "wires": [
            [
                "94857d0.8568c8"
            ]
        ]
    },
    {
        "id": "f23c93e0.c4a46",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "36f4ebd4.a8ee44",
        "order": 1,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Switch global",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3735,
        "y": 4218,
        "wires": []
    },
    {
        "id": "dd42c76c.5fff38",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "36f4ebd4.a8ee44",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Led global",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3733.25,
        "y": 4186.25,
        "wires": []
    },
    {
        "id": "2178f00e.c7657",
        "type": "ui_chart",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "9701ec3e.193b3",
        "order": 0,
        "width": "9",
        "height": "8",
        "label": "Iluminacion ",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "12",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 4906,
        "y": 4806,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "98e63287.08e3b",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"Habitacion\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4744.765504837036,
        "y": 4854.916624069214,
        "wires": [
            [
                "2178f00e.c7657"
            ]
        ]
    },
    {
        "id": "7b4cb7d.4cf5648",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"cocina\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4742.76544380188,
        "y": 4751.916746139526,
        "wires": [
            [
                "2178f00e.c7657"
            ]
        ]
    },
    {
        "id": "bf62ca40.a19558",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"baño\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4744.765626907349,
        "y": 4815.916748046875,
        "wires": [
            [
                "2178f00e.c7657"
            ]
        ]
    },
    {
        "id": "3edeb30c.d2fe2c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "\nmsg.topic = \"salon\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4747.765565872192,
        "y": 4782.916563034058,
        "wires": [
            [
                "2178f00e.c7657"
            ]
        ]
    },
    {
        "id": "f7a0daec.422608",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "f42ff0cb.b3e19",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Cocina",
        "format": "{{msg.payload.date}}",
        "layout": "row-spread",
        "x": 772.8402576446533,
        "y": 3691.5631046295166,
        "wires": []
    },
    {
        "id": "c95438c.ca088c8",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "f42ff0cb.b3e19",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Salon",
        "format": "{{msg.payload.date}}",
        "layout": "row-spread",
        "x": 800.8958129882812,
        "y": 4017.222682952881,
        "wires": []
    },
    {
        "id": "b7e3de99.f490e",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "f42ff0cb.b3e19",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Habitacion",
        "format": "{{msg.payload.date}}",
        "layout": "row-spread",
        "x": 812.8958511352539,
        "y": 3839.222608566284,
        "wires": []
    },
    {
        "id": "cb94aee1.f9481",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "f42ff0cb.b3e19",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Baño",
        "format": "{{msg.payload.date}}",
        "layout": "row-spread",
        "x": 815.8958969116211,
        "y": 3917.222502708435,
        "wires": []
    },
    {
        "id": "8ef053e5.7f4ad",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "agrega todo/cocina",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final }, \"topic\":\"infind/GRUPO2/ESP5826449/datos\"} },// criterio búsqueda. Se queda con los eltos qur coincidan con fechas\n    { \"$project\": {\n        \"temperatura\": \"$DHT11.temp\" // con las proyecciones se elige de todo el documento los campos que vamos a utilizar\n        }\n    },\n    { \"$group\": { //agrupación - da valores a esos grupos\n        \"_id\": 0,\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1}\n    }}\n \n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2382,
        "y": 4861,
        "wires": [
            [
                "ea1e835f.0a9b1"
            ]
        ]
    },
    {
        "id": "ea1e835f.0a9b1",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2666,
        "y": 4868,
        "wires": [
            [
                "83cdbfc8.7553f",
                "d8e07fe9.01edd",
                "644f767f.60e868",
                "4d32f3e3.ee157c"
            ]
        ]
    },
    {
        "id": "44680e41.c9715",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "genera datos gráfica",
        "func": "var arrayavg=[];\nvar arraymax=[];\nvar arraymin=[];\n\n// los arrays usados en la represenstación gráfica deben contener objetos JSON con dos campos: {x , y}\n// en x debemos poner la hora en formato \"timestamp\". Si tenemos un objeto fecha se puede convertir usando el método getTime()\n// en y debemos poner el valor de la variable\n// mas info en: https://github.com/node-red/node-red-dashboard/blob/master/Charts.md\n\nif(Array.isArray(msg.payload) && msg.payload.length>0)\n{\n    for (var i = 0; i < msg.payload.length; i++) { // añade datos a los array\n        arrayavg.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmedia});\n        arraymax.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmax});\n        arraymin.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmin});\n    }\n}\n    \nmsg.payload = [{\n        \"series\":[\"T.media\",\"T.max\",\"T.min\"],\n        \"data\":[arrayavg, arraymax, arraymin],\n        \"labels\":[\"\"]\n        }];\n\nreturn msg;  ",
        "outputs": "1",
        "noerr": 0,
        "x": 2963.0002059936523,
        "y": 4945.0001792907715,
        "wires": [
            [
                "df1826e2.fee178",
                "64b6358d.44399c"
            ]
        ]
    },
    {
        "id": "df1826e2.fee178",
        "type": "ui_chart",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "37aa3ec9.ddcf02",
        "order": 8,
        "width": 0,
        "height": 0,
        "label": "Temperaturas diarias",
        "chartType": "line",
        "legend": "true",
        "xformat": "D/M",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#008000",
            "#ff0000",
            "#0080ff",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 3200.9997215270996,
        "y": 4927.999996185303,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d7f13a99.2ace28",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "desde",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2687.0004806518555,
        "y": 3832.3349933624268,
        "wires": [
            [
                "6229964b.6665b8"
            ]
        ]
    },
    {
        "id": "58f6d2a0.e69e5c",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hasta",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2675.2275314331055,
        "y": 3891.217484474182,
        "wires": [
            [
                "54da7b47.e1af74"
            ]
        ]
    },
    {
        "id": "7e5d8be3.35eb04",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Controles para seleccionar fechas",
        "info": "",
        "x": 2584.994453430176,
        "y": 3781.2477493286133,
        "wires": []
    },
    {
        "id": "e192578e.90a8a8",
        "type": "ui_date_picker",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Fecha de inicio",
        "group": "480b2f17.d4f68",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": true,
        "topic": "",
        "x": 2505.7642974853516,
        "y": 3828.493642807007,
        "wires": [
            [
                "d7f13a99.2ace28"
            ]
        ]
    },
    {
        "id": "b7ae8c51.0a913",
        "type": "ui_date_picker",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Fecha de final",
        "group": "480b2f17.d4f68",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": true,
        "topic": "",
        "x": 2492.77294921875,
        "y": 3888.499397277832,
        "wires": [
            [
                "58f6d2a0.e69e5c"
            ]
        ]
    },
    {
        "id": "736a584b.39e6e8",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "tempmin dashboard",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3273.118267059326,
        "y": 1136.3335628509521,
        "wires": []
    },
    {
        "id": "4dd39312.e0774c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var tempmin = global.get(\"TempMin\")\nmsg.payload = \"Se ha establecido el limite inferior de temperatura a: \"\nmsg.payload +=tempmin\nmsg.payload += \"º\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3112.0489234924316,
        "y": 1105.1807317733765,
        "wires": [
            [
                "736a584b.39e6e8"
            ]
        ]
    },
    {
        "id": "f0c6e64.5c68718",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var tempmax = global.get(\"TempMax\")\nmsg.payload = \"Se ha establecido el limite superior de temperatura a: \"\nmsg.payload +=tempmax\nmsg.payload += \"º\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3103.11820602417,
        "y": 700.3334245681763,
        "wires": [
            [
                "8603098a.33a818"
            ]
        ]
    },
    {
        "id": "8603098a.33a818",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "tempmax dashboard",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3238.118263244629,
        "y": 750.3334131240845,
        "wires": []
    },
    {
        "id": "dfd1bead.dd6a",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "hummin dashboard",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3332.1181640625,
        "y": 1469.77783203125,
        "wires": []
    },
    {
        "id": "23201af6.c1e1f6",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var hummin = global.get(\"HumMin\")\nmsg.payload = \"Se ha establecido el limite inferior de humedad a: \"\nmsg.payload +=hummin\nmsg.payload += \"%\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3171.0488204956055,
        "y": 1438.6250009536743,
        "wires": [
            [
                "dfd1bead.dd6a"
            ]
        ]
    },
    {
        "id": "3f270f88.6e844",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "hummax dashboard",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3342.1181640625,
        "y": 1887,
        "wires": []
    },
    {
        "id": "caa571ad.7a303",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "",
        "func": "var hummax = global.get(\"HumMax\")\nmsg.payload = \"Se ha establecido el limite superior de humedad a: \"\nmsg.payload +=hummax\nmsg.payload += \"%\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3181.0488204956055,
        "y": 1855.8471689224243,
        "wires": [
            [
                "3f270f88.6e844"
            ]
        ]
    },
    {
        "id": "15f2e3c1.cbdb4c",
        "type": "ui_text_input",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Temperatura limite superior",
        "tooltip": "",
        "group": "2c5ff0a8.d15d8",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 2415.055877685547,
        "y": 592.8439426422119,
        "wires": [
            [
                "709347fe.d61878"
            ]
        ]
    },
    {
        "id": "8357dcb8.7ceb1",
        "type": "ui_text_input",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Temperatura limite inferior",
        "tooltip": "",
        "group": "2c5ff0a8.d15d8",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 2477.118377685547,
        "y": 927.3333911895752,
        "wires": [
            [
                "eca9993a.c69518"
            ]
        ]
    },
    {
        "id": "38efcb5d.5c8ed4",
        "type": "ui_text_input",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Humedad limite inferior",
        "tooltip": "",
        "group": "a6246985.3ae3b8",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 2502.1181640625,
        "y": 1305.5555419921875,
        "wires": [
            [
                "f5e93572.74a658"
            ]
        ]
    },
    {
        "id": "d2d060d2.fd856",
        "type": "ui_text_input",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Humedad limite superior",
        "tooltip": "",
        "group": "a6246985.3ae3b8",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 2524.118392944336,
        "y": 1740.8888912200928,
        "wires": [
            [
                "3a8c4e09.83c942"
            ]
        ]
    },
    {
        "id": "cf71ae4a.cd702",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "agrega por días/cocina",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final },\"topic\":\"infind/GRUPO2/ESP5826449/datos\" } },\n    { \"$project\": {\n        \"date\": 1,\n        \"temperatura\": \"$DHT11.temp\"\n        }\n    },\n    { \"$group\": {\n        \"_id\": { // cada muestra una fecha distinta: agrupo por días\n        \"$dateFromParts\" : {\n            \"year\": { \"$year\": \"$date\" }, \n            \"month\": { \"$month\": \"$date\" },\n            \"day\": { \"$dayOfMonth\": \"$date\" }\n        }},\n\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1},\n    }},\n    { \"$sort\": {\"_id\": 1} } //ordena por campo id, que es una fecha\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2367,
        "y": 4965,
        "wires": [
            [
                "af40b166.13a18"
            ]
        ]
    },
    {
        "id": "af40b166.13a18",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2659,
        "y": 4954,
        "wires": [
            [
                "44680e41.c9715"
            ]
        ]
    },
    {
        "id": "83cdbfc8.7553f",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "37aa3ec9.ddcf02",
        "order": 3,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Média en el período",
        "format": "{{msg.payload[0].Tmedia | number:1 }}ºC",
        "layout": "row-left",
        "x": 3005.0000915527344,
        "y": 4761.999868392944,
        "wires": []
    },
    {
        "id": "d8e07fe9.01edd",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "37aa3ec9.ddcf02",
        "order": 4,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Máxima en el período",
        "format": "{{msg.payload[0].Tmax | number:1 }}ºC",
        "layout": "row-left",
        "x": 2999.2216796875,
        "y": 4801.403354644775,
        "wires": []
    },
    {
        "id": "644f767f.60e868",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "37aa3ec9.ddcf02",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Mínima en el período",
        "format": "{{msg.payload[0].Tmin | number:1 }}ºC",
        "layout": "row-left",
        "x": 2998.2216796875,
        "y": 4839.4033203125,
        "wires": []
    },
    {
        "id": "4d32f3e3.ee157c",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "37aa3ec9.ddcf02",
        "order": 6,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Número de datos",
        "format": "{{msg.payload[0].datos }} muestras",
        "layout": "row-left",
        "x": 2994.2216796875,
        "y": 4876.67626953125,
        "wires": []
    },
    {
        "id": "65623c98.d9f914",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "agrega por días/habitacion",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final },\"topic\":\"infind/GRUPO2/ESP8789990/datos\" } },\n    { \"$project\": {\n        \"date\": 1,\n        \"temperatura\": \"$DHT11.temp\"\n        }\n    },\n    { \"$group\": {\n        \"_id\": { // cada muestra una fecha distinta: agrupo por días\n        \"$dateFromParts\" : {\n            \"year\": { \"$year\": \"$date\" }, \n            \"month\": { \"$month\": \"$date\" },\n            \"day\": { \"$dayOfMonth\": \"$date\" }\n        }},\n\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1},\n    }},\n    { \"$sort\": {\"_id\": 1} } //ordena por campo id, que es una fecha\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2326.000068664551,
        "y": 4681.3336353302,
        "wires": [
            [
                "228160e2.7441f"
            ]
        ]
    },
    {
        "id": "cb0047c6.d638c8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "agrega todo/habitacion",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final }, \"topic\":\"infind/GRUPO2/ESP8789990/datos\"} },// criterio búsqueda. Se queda con los eltos qur coincidan con fechas\n    { \"$project\": {\n        \"temperatura\": \"$DHT11.temp\" // con las proyecciones se elige de todo el documento los campos que vamos a utilizar\n        }\n    },\n    { \"$group\": { //agrupación - da valores a esos grupos\n        \"_id\": 0,\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1}\n    }}\n \n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2354.0001525878906,
        "y": 4569.33363199234,
        "wires": [
            [
                "c7cd02d3.96901"
            ]
        ]
    },
    {
        "id": "c7cd02d3.96901",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2645,
        "y": 4574.33349609375,
        "wires": [
            [
                "a4fe4cc9.cbfc6",
                "615775ce.eede6c",
                "d225202f.46d2a",
                "9568d24c.a0537"
            ]
        ]
    },
    {
        "id": "d45dc1b1.4ca82",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "genera datos gráfica",
        "func": "var arrayavg=[];\nvar arraymax=[];\nvar arraymin=[];\n\n// los arrays usados en la represenstación gráfica deben contener objetos JSON con dos campos: {x , y}\n// en x debemos poner la hora en formato \"timestamp\". Si tenemos un objeto fecha se puede convertir usando el método getTime()\n// en y debemos poner el valor de la variable\n// mas info en: https://github.com/node-red/node-red-dashboard/blob/master/Charts.md\n\nif(Array.isArray(msg.payload) && msg.payload.length>0)\n{\n    for (var i = 0; i < msg.payload.length; i++) { // añade datos a los array\n        arrayavg.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmedia});\n        arraymax.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmax});\n        arraymin.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmin});\n    }\n}\n    \nmsg.payload = [{\n        \"series\":[\"T.media\",\"T.max\",\"T.min\"],\n        \"data\":[arrayavg, arraymax, arraymin],\n        \"labels\":[\"\"]\n        }];\n\nreturn msg;  ",
        "outputs": "1",
        "noerr": 0,
        "x": 2930.00008392334,
        "y": 4656.333633422852,
        "wires": [
            [
                "e2c73158.7461b"
            ]
        ]
    },
    {
        "id": "e2c73158.7461b",
        "type": "ui_chart",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "b1fec677.5835b8",
        "order": 8,
        "width": 0,
        "height": 0,
        "label": "Temperaturas diarias",
        "chartType": "line",
        "legend": "true",
        "xformat": "D/M",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#008000",
            "#ff0000",
            "#0080ff",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 3157.999767303467,
        "y": 4647.333633422852,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "228160e2.7441f",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2638,
        "y": 4660.33349609375,
        "wires": [
            [
                "d45dc1b1.4ca82"
            ]
        ]
    },
    {
        "id": "a4fe4cc9.cbfc6",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "b1fec677.5835b8",
        "order": 3,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Média en el período",
        "format": "{{msg.payload[0].Tmedia | number:1 }}ºC",
        "layout": "row-left",
        "x": 2984.0000915527344,
        "y": 4468.333364486694,
        "wires": []
    },
    {
        "id": "615775ce.eede6c",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "b1fec677.5835b8",
        "order": 4,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Máxima en el período",
        "format": "{{msg.payload[0].Tmax | number:1 }}ºC",
        "layout": "row-left",
        "x": 2978.2216796875,
        "y": 4507.736850738525,
        "wires": []
    },
    {
        "id": "d225202f.46d2a",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "b1fec677.5835b8",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Mínima en el período",
        "format": "{{msg.payload[0].Tmin | number:1 }}ºC",
        "layout": "row-left",
        "x": 2977.2216796875,
        "y": 4545.73681640625,
        "wires": []
    },
    {
        "id": "9568d24c.a0537",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "b1fec677.5835b8",
        "order": 6,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Número de datos",
        "format": "{{msg.payload[0].datos }} muestras",
        "layout": "row-left",
        "x": 2973.2216796875,
        "y": 4583.009765625,
        "wires": []
    },
    {
        "id": "6229964b.6665b8",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "desde",
        "links": [
            "3da8e217.787ffe",
            "b6758c5.2082e7",
            "39d7861e.f677ca",
            "51fcc6c7.4605c8",
            "ca39eca1.da3e7",
            "36acf097.241a6",
            "8298a484.3bf928",
            "f3059ac.9a27c68"
        ],
        "x": 2801.503909111023,
        "y": 3829.872428894043,
        "wires": []
    },
    {
        "id": "54da7b47.e1af74",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "hasta",
        "links": [
            "34cefcba.9641c4",
            "229e2490.35ba9c",
            "1c6ff615.61da0a",
            "85b7c377.06656",
            "1ea73fc5.46142",
            "7f2cd6ae.ceef18",
            "67992bd4.fb8724",
            "827b13d6.2230b"
        ],
        "x": 2797.562828063965,
        "y": 3887.223342895508,
        "wires": []
    },
    {
        "id": "3da8e217.787ffe",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "6229964b.6665b8"
        ],
        "x": 2212.493227005005,
        "y": 4587.483371734619,
        "wires": [
            [
                "cb0047c6.d638c8"
            ]
        ]
    },
    {
        "id": "b6758c5.2082e7",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "6229964b.6665b8"
        ],
        "x": 2158.6735649108887,
        "y": 4709.889624595642,
        "wires": [
            [
                "65623c98.d9f914"
            ]
        ]
    },
    {
        "id": "39d7861e.f677ca",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "6229964b.6665b8"
        ],
        "x": 2249.6735668182373,
        "y": 4871.889629364014,
        "wires": [
            [
                "8ef053e5.7f4ad"
            ]
        ]
    },
    {
        "id": "51fcc6c7.4605c8",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "6229964b.6665b8"
        ],
        "x": 2199.673565864563,
        "y": 4980,
        "wires": [
            [
                "cf71ae4a.cd702"
            ]
        ]
    },
    {
        "id": "34cefcba.9641c4",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "54da7b47.e1af74"
        ],
        "x": 2207.833559036255,
        "y": 4531.667613983154,
        "wires": [
            [
                "cb0047c6.d638c8"
            ]
        ]
    },
    {
        "id": "229e2490.35ba9c",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "54da7b47.e1af74"
        ],
        "x": 2152.0000619888306,
        "y": 4641.333633422852,
        "wires": [
            [
                "65623c98.d9f914"
            ]
        ]
    },
    {
        "id": "1c6ff615.61da0a",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "54da7b47.e1af74"
        ],
        "x": 2242.000062942505,
        "y": 4814.333638191223,
        "wires": [
            [
                "8ef053e5.7f4ad"
            ]
        ]
    },
    {
        "id": "85b7c377.06656",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "54da7b47.e1af74"
        ],
        "x": 2193.000062942505,
        "y": 4913.33364200592,
        "wires": [
            [
                "cf71ae4a.cd702"
            ]
        ]
    },
    {
        "id": "453501ba.95bb2",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "agrega por días/salon",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final },\"topic\":\"infind/GRUPO2/ESP5821487/datos\" } },\n    { \"$project\": {\n        \"date\": 1,\n        \"temperatura\": \"$DHT11.temp\"\n        }\n    },\n    { \"$group\": {\n        \"_id\": { // cada muestra una fecha distinta: agrupo por días\n        \"$dateFromParts\" : {\n            \"year\": { \"$year\": \"$date\" }, \n            \"month\": { \"$month\": \"$date\" },\n            \"day\": { \"$dayOfMonth\": \"$date\" }\n        }},\n\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1},\n    }},\n    { \"$sort\": {\"_id\": 1} } //ordena por campo id, que es una fecha\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2361,
        "y": 4372.33349609375,
        "wires": [
            [
                "bb12fb0.2e55908"
            ]
        ]
    },
    {
        "id": "3ff153ff.a7f16c",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "agrega todo/salon",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final }, \"topic\":\"infind/GRUPO2/ESP5821487/datos\"} },// criterio búsqueda. Se queda con los eltos qur coincidan con fechas\n    { \"$project\": {\n        \"temperatura\": \"$DHT11.temp\" // con las proyecciones se elige de todo el documento los campos que vamos a utilizar\n        }\n    },\n    { \"$group\": { //agrupación - da valores a esos grupos\n        \"_id\": 0,\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1}\n    }}\n \n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2415.999931335449,
        "y": 4258.3333568573,
        "wires": [
            [
                "356146a0.14f21a"
            ]
        ]
    },
    {
        "id": "356146a0.14f21a",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2699.999931335449,
        "y": 4265.3333568573,
        "wires": [
            [
                "5284ae04.17831",
                "2e6830ef.8cd36",
                "2d53dca4.51a484",
                "b7b84169.4fa12"
            ]
        ]
    },
    {
        "id": "84ace91c.f54588",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "genera datos gráfica",
        "func": "var arrayavg=[];\nvar arraymax=[];\nvar arraymin=[];\n\n// los arrays usados en la represenstación gráfica deben contener objetos JSON con dos campos: {x , y}\n// en x debemos poner la hora en formato \"timestamp\". Si tenemos un objeto fecha se puede convertir usando el método getTime()\n// en y debemos poner el valor de la variable\n// mas info en: https://github.com/node-red/node-red-dashboard/blob/master/Charts.md\n\nif(Array.isArray(msg.payload) && msg.payload.length>0)\n{\n    for (var i = 0; i < msg.payload.length; i++) { // añade datos a los array\n        arrayavg.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmedia});\n        arraymax.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmax});\n        arraymin.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmin});\n    }\n}\n    \nmsg.payload = [{\n        \"series\":[\"T.media\",\"T.max\",\"T.min\"],\n        \"data\":[arrayavg, arraymax, arraymin],\n        \"labels\":[\"\"]\n        }];\n\nreturn msg;  ",
        "outputs": "1",
        "noerr": 0,
        "x": 2985.000015258789,
        "y": 4347.333494186401,
        "wires": [
            [
                "5880abd3.423874"
            ]
        ]
    },
    {
        "id": "5880abd3.423874",
        "type": "ui_chart",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "1b936e19.7800e2",
        "order": 8,
        "width": 0,
        "height": 0,
        "label": "Temperaturas diarias",
        "chartType": "line",
        "legend": "true",
        "xformat": "D/M",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#008000",
            "#ff0000",
            "#0080ff",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 3209.9997634887695,
        "y": 4346.333623886108,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "bb12fb0.2e55908",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2692.999931335449,
        "y": 4351.3333568573,
        "wires": [
            [
                "84ace91c.f54588"
            ]
        ]
    },
    {
        "id": "5284ae04.17831",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "1b936e19.7800e2",
        "order": 3,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Média en el período",
        "format": "{{msg.payload[0].Tmedia | number:1 }}ºC",
        "layout": "row-left",
        "x": 3039.0000228881836,
        "y": 4159.333225250244,
        "wires": []
    },
    {
        "id": "2e6830ef.8cd36",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "1b936e19.7800e2",
        "order": 4,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Máxima en el período",
        "format": "{{msg.payload[0].Tmax | number:1 }}ºC",
        "layout": "row-left",
        "x": 3033.221611022949,
        "y": 4198.736711502075,
        "wires": []
    },
    {
        "id": "2d53dca4.51a484",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "1b936e19.7800e2",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Mínima en el período",
        "format": "{{msg.payload[0].Tmin | number:1 }}ºC",
        "layout": "row-left",
        "x": 3032.221611022949,
        "y": 4236.7366771698,
        "wires": []
    },
    {
        "id": "b7b84169.4fa12",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "1b936e19.7800e2",
        "order": 6,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Número de datos",
        "format": "{{msg.payload[0].datos }} muestras",
        "layout": "row-left",
        "x": 3028.221611022949,
        "y": 4274.00962638855,
        "wires": []
    },
    {
        "id": "ca39eca1.da3e7",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "6229964b.6665b8"
        ],
        "x": 2267.493158340454,
        "y": 4278.483232498169,
        "wires": [
            [
                "3ff153ff.a7f16c"
            ]
        ]
    },
    {
        "id": "36acf097.241a6",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "6229964b.6665b8"
        ],
        "x": 2213.673496246338,
        "y": 4400.889485359192,
        "wires": [
            [
                "453501ba.95bb2"
            ]
        ]
    },
    {
        "id": "1ea73fc5.46142",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "54da7b47.e1af74"
        ],
        "x": 2262.833490371704,
        "y": 4222.667474746704,
        "wires": [
            [
                "3ff153ff.a7f16c"
            ]
        ]
    },
    {
        "id": "7f2cd6ae.ceef18",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "54da7b47.e1af74"
        ],
        "x": 2206.99999332428,
        "y": 4332.333494186401,
        "wires": [
            [
                "453501ba.95bb2"
            ]
        ]
    },
    {
        "id": "f79a3f2c.2c32f",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "agrega por días/wc",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final },\"topic\":\"infind/GRUPO2/ESP1122489/datos\" } },\n    { \"$project\": {\n        \"date\": 1,\n        \"temperatura\": \"$DHT11.temp\"\n        }\n    },\n    { \"$group\": {\n        \"_id\": { // cada muestra una fecha distinta: agrupo por días\n        \"$dateFromParts\" : {\n            \"year\": { \"$year\": \"$date\" }, \n            \"month\": { \"$month\": \"$date\" },\n            \"day\": { \"$dayOfMonth\": \"$date\" }\n        }},\n\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1},\n    }},\n    { \"$sort\": {\"_id\": 1} } //ordena por campo id, que es una fecha\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2362.333251953125,
        "y": 4106.33349609375,
        "wires": [
            [
                "bb095d9b.b89b7"
            ]
        ]
    },
    {
        "id": "a2a27854.8708e8",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "agrega todo/wc",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final }, \"topic\":\"infind/GRUPO2/ESP1122489/datos\"} },// criterio búsqueda. Se queda con los eltos qur coincidan con fechas\n    { \"$project\": {\n        \"temperatura\": \"$DHT11.temp\" // con las proyecciones se elige de todo el documento los campos que vamos a utilizar\n        }\n    },\n    { \"$group\": { //agrupación - da valores a esos grupos\n        \"_id\": 0,\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1}\n    }}\n \n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2417.333183288574,
        "y": 3992.3333568573,
        "wires": [
            [
                "32de62d0.993f9e"
            ]
        ]
    },
    {
        "id": "32de62d0.993f9e",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2711.333183288574,
        "y": 3999.3333568573,
        "wires": [
            [
                "b61fffca.8e02d",
                "f4e625f3.ec1bd8",
                "9b3bb1b3.e959e",
                "587c3c6f.eac384"
            ]
        ]
    },
    {
        "id": "9e842e1e.52753",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "genera datos gráfica",
        "func": "var arrayavg=[];\nvar arraymax=[];\nvar arraymin=[];\n\n// los arrays usados en la represenstación gráfica deben contener objetos JSON con dos campos: {x , y}\n// en x debemos poner la hora en formato \"timestamp\". Si tenemos un objeto fecha se puede convertir usando el método getTime()\n// en y debemos poner el valor de la variable\n// mas info en: https://github.com/node-red/node-red-dashboard/blob/master/Charts.md\n\nif(Array.isArray(msg.payload) && msg.payload.length>0)\n{\n    for (var i = 0; i < msg.payload.length; i++) { // añade datos a los array\n        arrayavg.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmedia});\n        arraymax.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmax});\n        arraymin.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmin});\n    }\n}\n    \nmsg.payload = [{\n        \"series\":[\"T.media\",\"T.max\",\"T.min\"],\n        \"data\":[arrayavg, arraymax, arraymin],\n        \"labels\":[\"\"]\n        }];\n\nreturn msg;  ",
        "outputs": "1",
        "noerr": 0,
        "x": 2996.333267211914,
        "y": 4081.3334941864014,
        "wires": [
            [
                "e8349a88.f4cc08"
            ]
        ]
    },
    {
        "id": "e8349a88.f4cc08",
        "type": "ui_chart",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "214dd717.1f06b8",
        "order": 8,
        "width": 0,
        "height": 0,
        "label": "Temperaturas diarias",
        "chartType": "line",
        "legend": "true",
        "xformat": "D/M",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#008000",
            "#ff0000",
            "#0080ff",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 3221.3330154418945,
        "y": 4080.3336238861084,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "bb095d9b.b89b7",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2704.333183288574,
        "y": 4085.3333568573,
        "wires": [
            [
                "9e842e1e.52753"
            ]
        ]
    },
    {
        "id": "b61fffca.8e02d",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "214dd717.1f06b8",
        "order": 3,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Média en el período",
        "format": "{{msg.payload[0].Tmedia | number:1 }}ºC",
        "layout": "row-left",
        "x": 3050.3332748413086,
        "y": 3893.333225250244,
        "wires": []
    },
    {
        "id": "f4e625f3.ec1bd8",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "214dd717.1f06b8",
        "order": 4,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Máxima en el período",
        "format": "{{msg.payload[0].Tmax | number:1 }}ºC",
        "layout": "row-left",
        "x": 3044.554862976074,
        "y": 3932.736711502075,
        "wires": []
    },
    {
        "id": "9b3bb1b3.e959e",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "214dd717.1f06b8",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Mínima en el período",
        "format": "{{msg.payload[0].Tmin | number:1 }}ºC",
        "layout": "row-left",
        "x": 3043.554862976074,
        "y": 3970.7366771698,
        "wires": []
    },
    {
        "id": "587c3c6f.eac384",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "214dd717.1f06b8",
        "order": 6,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Número de datos",
        "format": "{{msg.payload[0].datos }} muestras",
        "layout": "row-left",
        "x": 3039.554862976074,
        "y": 4008.00962638855,
        "wires": []
    },
    {
        "id": "8298a484.3bf928",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "6229964b.6665b8"
        ],
        "x": 2278.826410293579,
        "y": 4012.483232498169,
        "wires": [
            [
                "a2a27854.8708e8"
            ]
        ]
    },
    {
        "id": "f3059ac.9a27c68",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "6229964b.6665b8"
        ],
        "x": 2225.006748199463,
        "y": 4134.889485359192,
        "wires": [
            [
                "f79a3f2c.2c32f"
            ]
        ]
    },
    {
        "id": "67992bd4.fb8724",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "54da7b47.e1af74"
        ],
        "x": 2274.166742324829,
        "y": 3956.667474746704,
        "wires": [
            [
                "a2a27854.8708e8"
            ]
        ]
    },
    {
        "id": "827b13d6.2230b",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "links": [
            "54da7b47.e1af74"
        ],
        "x": 2218.333245277405,
        "y": 4066.3334941864014,
        "wires": [
            [
                "f79a3f2c.2c32f"
            ]
        ]
    },
    {
        "id": "59659979.b641b8",
        "type": "http response",
        "z": "73d3abd6.5859c4",
        "name": "",
        "statusCode": "",
        "headers": {
            "Content-Disposition": "attachment; filename=registros.csv"
        },
        "x": 2295.4933528900146,
        "y": 3392.5185585021973,
        "wires": []
    },
    {
        "id": "415cdf35.43132",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "Unicode y separador",
        "func": "//add Unicode BOM character (byte order mark) to make EXCEL knows this is UTF-8\nif(global.get(\"separador_decimal\")==\"punto\")\n{\n    msg.payload='\\ufeff'+msg.payload;\n\n}\nelse\n{\n    msg.payload='\\ufeff'+(msg.payload).replace(/\\./g,\",\");\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2117.4935245513916,
        "y": 3390.5186672210693,
        "wires": [
            [
                "59659979.b641b8"
            ]
        ]
    },
    {
        "id": "30ceea52.be7136",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "consulta",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde2\") || ahora);\nvar hasta = new Date(global.get(\"hasta2\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),0,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),23,59,59,999);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final } } },\n    { \"$project\": {\n        \"_id\": 0,\n        \"date\": 1,\n        \"topic\" : \"$topic\",\n        \"temperatura\": \"$DHT11.temp\",\n        \"humedad\": \"$DHT11.hum\",\n        \"iluminacion\": \"$LED\"\n        }\n    },\n    { \"$sort\": {\"date\": 1} }\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1484.4937438964844,
        "y": 3388.5183429718018,
        "wires": [
            [
                "84887ede.06c88"
            ]
        ]
    },
    {
        "id": "7a120ed.5eb96f",
        "type": "http in",
        "z": "73d3abd6.5859c4",
        "name": "",
        "url": "/registros",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 1321.4937057495117,
        "y": 3388.518321990967,
        "wires": [
            [
                "30ceea52.be7136"
            ]
        ]
    },
    {
        "id": "6300faa9.7b5644",
        "type": "ui_template",
        "z": "73d3abd6.5859c4",
        "group": "74c8a49c.b7393c",
        "name": "",
        "order": 3,
        "width": "0",
        "height": "0",
        "format": "<style>\n.button {\n    text-align: center;\n    font: bold 17px Arial;\n    text-decoration: none;\n    background-color: #339966;\n    color: white;\n    padding: 8px 10px;\n    border: 2px solid #CCCCCC;\n  }\n  \n  .button:hover\n  {\n   background-color: #26734d;\n  }\n\n</style>\n<a href=\"/registros\" class=\"button\">Descarga registros en CSV (EXCEL)</a>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1340.4937286376953,
        "y": 3280.5181550979614,
        "wires": [
            []
        ]
    },
    {
        "id": "2e5b7296.c6d9be",
        "type": "csv",
        "z": "73d3abd6.5859c4",
        "name": "",
        "sep": ";",
        "hdrin": "",
        "hdrout": true,
        "multi": "one",
        "ret": "\\r\\n",
        "temp": "date,topic, temperatura, humedad, iluminacion",
        "skip": 0,
        "x": 1946.4936981201172,
        "y": 3390.5185050964355,
        "wires": [
            [
                "415cdf35.43132"
            ]
        ]
    },
    {
        "id": "d9f89729.6c7ac8",
        "type": "ui_switch",
        "z": "73d3abd6.5859c4",
        "name": "separdor decimal",
        "label": "{{msg.topic}}",
        "tooltip": "",
        "group": "74c8a49c.b7393c",
        "order": 4,
        "width": "0",
        "height": "0",
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 1425.4967041015625,
        "y": 3745.4951639175415,
        "wires": [
            [
                "fc1d82f1.65401"
            ]
        ]
    },
    {
        "id": "5d55f956.8f7818",
        "type": "inject",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 1388.4937286376953,
        "y": 3693.4070711135864,
        "wires": [
            [
                "fc1d82f1.65401"
            ]
        ]
    },
    {
        "id": "fc1d82f1.65401",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "set global separador_decimal",
        "func": "if(msg.payload===true)\n{\n    global.set(\"separador_decimal\",\"coma\");\n    msg.topic=\"separador decimal = coma\";\n}\nelse\n{\n    global.set(\"separador_decimal\",\"punto\");\n    msg.topic=\"separador decimal = punto\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1688.5052375793457,
        "y": 3691.114408493042,
        "wires": [
            [
                "d9f89729.6c7ac8"
            ]
        ]
    },
    {
        "id": "30f1d45.8b5dd2c",
        "type": "ui_date_picker",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Fecha inicio",
        "group": "74c8a49c.b7393c",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": true,
        "topic": "",
        "x": 1545.2748794555664,
        "y": 3523.2510380744934,
        "wires": [
            [
                "2a4c1599.2393aa"
            ]
        ]
    },
    {
        "id": "e5659435.098278",
        "type": "ui_date_picker",
        "z": "73d3abd6.5859c4",
        "name": "",
        "label": "Fecha final",
        "group": "74c8a49c.b7393c",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": true,
        "topic": "",
        "x": 1548.286231994629,
        "y": 3572.2452754974365,
        "wires": [
            [
                "21f473de.99375c"
            ]
        ]
    },
    {
        "id": "2a4c1599.2393aa",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "desde2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1751.2805557250977,
        "y": 3521.912925720215,
        "wires": [
            []
        ]
    },
    {
        "id": "21f473de.99375c",
        "type": "change",
        "z": "73d3abd6.5859c4",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hasta2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1754.5078353881836,
        "y": 3572.796480178833,
        "wires": [
            []
        ]
    },
    {
        "id": "cc427390.27ddc",
        "type": "inject",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 1347.2833786010742,
        "y": 3547.6714782714844,
        "wires": [
            [
                "30f1d45.8b5dd2c",
                "e5659435.098278"
            ]
        ]
    },
    {
        "id": "3c7913a4.62511c",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Controles para seleccionar fechas",
        "info": "",
        "x": 1404.2833671569824,
        "y": 3451.148762702942,
        "wires": []
    },
    {
        "id": "89b280f3.897f1",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Botón en HTML para lanzar descarga de fichero",
        "info": "",
        "x": 1450.2834854125977,
        "y": 3232.6006088256836,
        "wires": []
    },
    {
        "id": "7bc2c19c.964d5",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Flujo para descarga de fichero",
        "info": "",
        "x": 1392.507911682129,
        "y": 3330.5239753723145,
        "wires": []
    },
    {
        "id": "918f62c8.6d25b",
        "type": "comment",
        "z": "73d3abd6.5859c4",
        "name": "Selector de separador decimal",
        "info": "",
        "x": 1400.5078926086426,
        "y": 3633.0691957473755,
        "wires": []
    },
    {
        "id": "84887ede.06c88",
        "type": "mongodb in",
        "z": "73d3abd6.5859c4",
        "mongodb": "e20d151e.b671d8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 1722.8958740234375,
        "y": 3390.888997077942,
        "wires": [
            [
                "2e5b7296.c6d9be"
            ]
        ]
    },
    {
        "id": "ba5b055e.fdccb8",
        "type": "telegrambot-command",
        "z": "73d3abd6.5859c4",
        "name": "/logica",
        "bot": "7cdb84f8.2dccfc",
        "command": "/logica",
        "commandType": "str",
        "commandCase": false,
        "x": 2651.507869720459,
        "y": 3351.02352142334,
        "wires": [
            [
                "f6caf7d7.591e48"
            ]
        ]
    },
    {
        "id": "f6caf7d7.591e48",
        "type": "telegrambot-switch",
        "z": "73d3abd6.5859c4",
        "name": "switch prediccion",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "question": "Que lógica de LED quieres?",
        "answers": [
            "positiva",
            "negativa"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2851.015682220459,
        "y": 3350.00008392334,
        "wires": [
            [
                "39e038fe.861158"
            ],
            [
                "1778a071.1f887"
            ],
            [
                "16830fb4.3ccaf"
            ]
        ]
    },
    {
        "id": "39e038fe.861158",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "logica positiva",
        "func": "msg.payload = {\"logica\": true}\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 3070.000057220459,
        "y": 3323.00008392334,
        "wires": [
            [
                "32c35267.3f375e",
                "6b6dc69e.40dee8",
                "63d99675.8a82e8",
                "45fec49b.4f219c",
                "e7c871fa.69122"
            ]
        ]
    },
    {
        "id": "16830fb4.3ccaf",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "TimeOut",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2976.000057220459,
        "y": 3426.00008392334,
        "wires": []
    },
    {
        "id": "1778a071.1f887",
        "type": "function",
        "z": "73d3abd6.5859c4",
        "name": "logica negativa",
        "func": "msg.payload = {\"logica\": false}\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 3072.000057220459,
        "y": 3375.00008392334,
        "wires": [
            [
                "32c35267.3f375e",
                "45fec49b.4f219c",
                "63d99675.8a82e8",
                "6b6dc69e.40dee8",
                "452a62d1.c3ee8c"
            ]
        ]
    },
    {
        "id": "32c35267.3f375e",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/logica",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 3360.000057220459,
        "y": 3322.00008392334,
        "wires": []
    },
    {
        "id": "6b6dc69e.40dee8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/logica",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 3361.000057220459,
        "y": 3353.00008392334,
        "wires": []
    },
    {
        "id": "63d99675.8a82e8",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/logica",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 3355.000057220459,
        "y": 3385.00008392334,
        "wires": []
    },
    {
        "id": "45fec49b.4f219c",
        "type": "mqtt out",
        "z": "73d3abd6.5859c4",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/logica",
        "qos": "",
        "retain": "",
        "broker": "119a9834.2725a8",
        "x": 3356.000057220459,
        "y": 3420.00008392334,
        "wires": []
    },
    {
        "id": "34849c26.1336f4",
        "type": "link in",
        "z": "73d3abd6.5859c4",
        "name": "logica",
        "links": [
            "b0ccfd83.bc6e1"
        ],
        "x": 2637.000057220459,
        "y": 3306.00008392334,
        "wires": [
            [
                "f6caf7d7.591e48"
            ]
        ]
    },
    {
        "id": "b0ccfd83.bc6e1",
        "type": "link out",
        "z": "73d3abd6.5859c4",
        "name": "HumMax",
        "links": [
            "34849c26.1336f4"
        ],
        "x": 534,
        "y": 893,
        "wires": []
    },
    {
        "id": "68d157d9.ca1788",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 2658.5005645751953,
        "y": 2309.333320617676,
        "wires": [
            [
                "a6792083.61587"
            ]
        ]
    },
    {
        "id": "ae1496ec.648ca8",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 2642,
        "y": 2252.333251953125,
        "wires": [
            [
                "873ae34e.271a2"
            ]
        ]
    },
    {
        "id": "72648b69.cfed94",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 2637,
        "y": 2211.333251953125,
        "wires": [
            [
                "60c058da.5857b8"
            ]
        ]
    },
    {
        "id": "5fca7308.1436cc",
        "type": "json",
        "z": "73d3abd6.5859c4",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 2649,
        "y": 2155.333251953125,
        "wires": [
            [
                "412d81fb.a5906"
            ]
        ]
    },
    {
        "id": "452a62d1.c3ee8c",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta negativa",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la lógica negativa",
        "parseMode": "",
        "x": 3271.000057220459,
        "y": 3516.333335876465,
        "wires": []
    },
    {
        "id": "e7c871fa.69122",
        "type": "telegrambot-notify",
        "z": "73d3abd6.5859c4",
        "name": "respuesta positiva",
        "bot": "7cdb84f8.2dccfc",
        "chatId": "-487674790",
        "message": "Se ha establecido la lógica positiva",
        "parseMode": "",
        "x": 3296.000057220459,
        "y": 3271.333335876465,
        "wires": []
    },
    {
        "id": "64b6358d.44399c",
        "type": "debug",
        "z": "73d3abd6.5859c4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 3242.7188262939453,
        "y": 4847.319488525391,
        "wires": []
    },
    {
        "id": "7810adf7.653f94",
        "type": "debug",
        "z": "73d3abd6.5859c4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 1144.8750190734863,
        "y": 4020.0235500335693,
        "wires": []
    },
    {
        "id": "db93d18e.8efba",
        "type": "debug",
        "z": "73d3abd6.5859c4",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 4378.375106811523,
        "y": 385.5078344345093,
        "wires": []
    },
    {
        "id": "ca038aaa.b2c768",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "f7f1daa4.953198",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Switches",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3727.822265625,
        "y": 4288.80859375,
        "wires": []
    },
    {
        "id": "74016b62.1ca874",
        "type": "ui_toast",
        "z": "73d3abd6.5859c4",
        "position": "dialog",
        "displayTime": "5",
        "highlight": "red",
        "outputs": 1,
        "ok": "OK",
        "cancel": "",
        "topic": "",
        "name": "",
        "x": 3706.552734375,
        "y": 4394.27734375,
        "wires": [
            []
        ]
    },
    {
        "id": "2b215827.a33c68",
        "type": "inject",
        "z": "73d3abd6.5859c4",
        "name": "Imput",
        "topic": "ALERTA",
        "payload": "NIVEL DE TEMPERATURA MUY ALTO",
        "payloadType": "str",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "x": 3491.552734375,
        "y": 4396.2109375,
        "wires": [
            [
                "74016b62.1ca874"
            ]
        ]
    },
    {
        "id": "c219708e.fc2c2",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "480b2f17.d4f68",
        "order": 5,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Ultimo dia",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 3701.572265625,
        "y": 4472.294921875,
        "wires": [
            []
        ]
    },
    {
        "id": "53aebd26.9fea14",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "480b2f17.d4f68",
        "order": 6,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Ultima semana",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 3724.384521484375,
        "y": 4527.529296875,
        "wires": [
            []
        ]
    },
    {
        "id": "800b4e1b.d2867",
        "type": "ui_button",
        "z": "73d3abd6.5859c4",
        "name": "",
        "group": "480b2f17.d4f68",
        "order": 7,
        "width": "4",
        "height": "1",
        "passthru": false,
        "label": "Ultimo mes",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 3718.134521484375,
        "y": 4575.029296875,
        "wires": [
            []
        ]
    },
    {
        "id": "cfb34d5e.0671f",
        "type": "ui_text",
        "z": "73d3abd6.5859c4",
        "group": "480b2f17.d4f68",
        "order": 4,
        "width": "12",
        "height": "1",
        "name": "",
        "label": "Selección rápida",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3704.052635192871,
        "y": 4634.44366645813,
        "wires": []
    },
    {
        "id": "7cdb84f8.2dccfc",
        "type": "telegrambot-config",
        "z": "",
        "botname": "pruebasjj_bot",
        "usernames": "",
        "chatIds": "",
        "pollInterval": "300"
    },
    {
        "id": "119a9834.2725a8",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "iot.ac.uma.es",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "e20d151e.b671d8",
        "type": "mongodb",
        "z": "",
        "hostname": "iot.ac.uma.es",
        "port": "27017",
        "db": "II2",
        "name": ""
    },
    {
        "id": "bb9efe90.56759",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "iot.ac.uma.es",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "ad80f7e8.78e008",
        "type": "ui_group",
        "z": "",
        "name": "Estado de la puerta",
        "tab": "56fab207.a8dbec",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ababf17b.c03a5",
        "type": "ui_group",
        "z": "",
        "name": "Iluminacion",
        "tab": "56fab207.a8dbec",
        "order": 2,
        "disp": true,
        "width": "7",
        "collapse": false
    },
    {
        "id": "9071932d.24bb7",
        "type": "ui_group",
        "z": "",
        "name": "Gases cocina",
        "tab": "56fab207.a8dbec",
        "order": 6,
        "disp": true,
        "width": "7",
        "collapse": false
    },
    {
        "id": "ca148fe3.d3cc6",
        "type": "ui_group",
        "z": "",
        "name": "Gases salon",
        "tab": "56fab207.a8dbec",
        "order": 7,
        "disp": true,
        "width": "7",
        "collapse": false
    },
    {
        "id": "db9f7504.18ea18",
        "type": "ui_group",
        "z": "",
        "name": "Temperatura",
        "tab": "56fab207.a8dbec",
        "order": 3,
        "disp": true,
        "width": "7",
        "collapse": false
    },
    {
        "id": "7e286cdf.c91524",
        "type": "ui_group",
        "z": "",
        "name": "Humedad",
        "tab": "56fab207.a8dbec",
        "order": 4,
        "disp": true,
        "width": "7",
        "collapse": false
    },
    {
        "id": "f7f1daa4.953198",
        "type": "ui_group",
        "z": "",
        "name": "Control de luz",
        "tab": "56fab207.a8dbec",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "9701ec3e.193b3",
        "type": "ui_group",
        "z": "",
        "name": "Graficas",
        "tab": "56fab207.a8dbec",
        "order": 9,
        "disp": true,
        "width": "27",
        "collapse": false
    },
    {
        "id": "cb23c557.dc6358",
        "type": "ui_group",
        "z": "",
        "name": "Actualizacion de datos",
        "tab": "d7c55fec.16eb9",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "1438b091.2136ff",
        "type": "ui_group",
        "z": "",
        "name": "Recogida de datos",
        "tab": "d7c55fec.16eb9",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "36f4ebd4.a8ee44",
        "type": "ui_group",
        "z": "",
        "name": "Switch y Led",
        "tab": "d7c55fec.16eb9",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "a70f5b0b.df12e8",
        "type": "ui_group",
        "z": "",
        "name": "Tiempo de pwm",
        "tab": "d7c55fec.16eb9",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "f42ff0cb.b3e19",
        "type": "ui_group",
        "z": "",
        "name": "Ultima Actualizacion",
        "tab": "56fab207.a8dbec",
        "order": 8,
        "disp": true,
        "width": "7",
        "collapse": false
    },
    {
        "id": "37aa3ec9.ddcf02",
        "type": "ui_group",
        "z": "",
        "name": "Cocina",
        "tab": "ad8ee459.b50348",
        "order": 3,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "480b2f17.d4f68",
        "type": "ui_group",
        "z": "",
        "name": "Seleccion de fechas",
        "tab": "ad8ee459.b50348",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "2c5ff0a8.d15d8",
        "type": "ui_group",
        "z": "",
        "name": "Temperaturas límite",
        "tab": "d7c55fec.16eb9",
        "order": 5,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "a6246985.3ae3b8",
        "type": "ui_group",
        "z": "",
        "name": "Humedades límite",
        "tab": "d7c55fec.16eb9",
        "order": 6,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "b1fec677.5835b8",
        "type": "ui_group",
        "z": "",
        "name": "Habitacion",
        "tab": "ad8ee459.b50348",
        "order": 4,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "1b936e19.7800e2",
        "type": "ui_group",
        "z": "",
        "name": "Salon",
        "tab": "ad8ee459.b50348",
        "order": 5,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "214dd717.1f06b8",
        "type": "ui_group",
        "z": "",
        "name": "Baño",
        "tab": "ad8ee459.b50348",
        "order": 6,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "74c8a49c.b7393c",
        "type": "ui_group",
        "z": "",
        "name": "Consulta de datos a descargar",
        "tab": "ad8ee459.b50348",
        "order": 2,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "56fab207.a8dbec",
        "type": "ui_tab",
        "z": "",
        "name": "Panel de Control ",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "d7c55fec.16eb9",
        "type": "ui_tab",
        "z": "",
        "name": "Configuracion",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "ad8ee459.b50348",
        "type": "ui_tab",
        "z": "",
        "name": "Históricos y Descarga de Datos",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    }
]