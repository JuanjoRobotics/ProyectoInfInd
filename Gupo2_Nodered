[
    {
        "id": "b6a6fd6.bab9a",
        "type": "tab",
        "label": "GRUPO2_NODERED",
        "disabled": false,
        "info": ""
    },
    {
        "id": "443d8dda.c889b4",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch encender",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres encender?",
        "answers": [
            "cocina",
            "habitacion",
            "salon",
            "toilette",
            "todo"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 685,
        "y": 1130,
        "wires": [
            [
                "51023401.c81a8c"
            ],
            [
                "eb04611d.01379"
            ],
            [
                "fda8a5a5.b4f528"
            ],
            [
                "31cbb29b.ebca9e"
            ],
            [
                "ffe11173.0d769"
            ],
            [
                "5c25d822.7d4448"
            ]
        ]
    },
    {
        "id": "2a179599.cd655a",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/encender",
        "bot": "407d7e26.e9903",
        "command": "/encender",
        "commandType": "str",
        "commandCase": false,
        "x": 499,
        "y": 1138,
        "wires": [
            [
                "443d8dda.c889b4"
            ]
        ]
    },
    {
        "id": "db8bd76b.686488",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "habitacion-bajo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "habitacion encendida a nivel bajo",
        "parseMode": "",
        "x": 1515.0000305175781,
        "y": 619.9999866485596,
        "wires": []
    },
    {
        "id": "cd3bc479.82c118",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "salon-bajo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "salon encendido a nivel bajo",
        "parseMode": "",
        "x": 1621.9999542236328,
        "y": 1068.999963760376,
        "wires": []
    },
    {
        "id": "664cf8e2.937438",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "wc-bajo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "baño encendido a nivel bajo",
        "parseMode": "",
        "x": 1520.0000267028809,
        "y": 1520.9999084472656,
        "wires": []
    },
    {
        "id": "9f4a2668.db5478",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "todo-bajo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se han encendido todas las luces a nivel bajo",
        "parseMode": "",
        "x": 1516.000114440918,
        "y": 2048.0001430511475,
        "wires": []
    },
    {
        "id": "cc37426a.97894",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch apagar",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres apagar?",
        "answers": [
            "cocina",
            "habitacion",
            "salon",
            "toilette",
            "todo"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 335,
        "y": 2863.0003700256348,
        "wires": [
            [
                "ade202bb.1a42d"
            ],
            [
                "dbd397dd.cdbce8"
            ],
            [
                "58dd2e10.81d6d"
            ],
            [
                "4b139350.032a3c"
            ],
            [
                "2faf3ef0.955902"
            ],
            [
                "75d15b75.bf3354"
            ]
        ]
    },
    {
        "id": "f852a8d9.b7afe8",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/apagar",
        "bot": "407d7e26.e9903",
        "command": "/apagar",
        "commandType": "str",
        "commandCase": false,
        "x": 55,
        "y": 2865.0003700256348,
        "wires": [
            [
                "cc37426a.97894"
            ]
        ]
    },
    {
        "id": "4bd8ffd.bfc6b",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "cocina apagada",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "cocina apagada",
        "parseMode": "",
        "x": 943.9999389648438,
        "y": 2733.000651359558,
        "wires": []
    },
    {
        "id": "6011bf3a.9dbb1",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "habitacion apagado",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "habitacion apagada",
        "parseMode": "",
        "x": 988,
        "y": 2830.00048828125,
        "wires": []
    },
    {
        "id": "93ac73ee.6d365",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "salon apagado",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "salon apagado",
        "parseMode": "",
        "x": 990,
        "y": 2949.00048828125,
        "wires": []
    },
    {
        "id": "65b4672c.adef98",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "wc apagado",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "baño apagado",
        "parseMode": "",
        "x": 947,
        "y": 3070.00048828125,
        "wires": []
    },
    {
        "id": "343af585.10f9aa",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "todo apagado",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se han apagado todas las luces",
        "parseMode": "",
        "x": 930.9999237060547,
        "y": 3156.0005674362183,
        "wires": []
    },
    {
        "id": "51023401.c81a8c",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch cocina",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 918.0000114440918,
        "y": 264.00002670288086,
        "wires": [
            [
                "2ed2c80b.f186b8"
            ],
            [
                "a2651e6e.58fbf"
            ],
            [
                "44a3c115.2342f"
            ],
            [
                "f09d8896.2fe898"
            ],
            [
                "67692e2d.6e37a"
            ]
        ]
    },
    {
        "id": "1737e2e5.06ebed",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "cocina-medio",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "cocina encendida a nivel medio",
        "parseMode": "",
        "x": 1437.9999656677246,
        "y": 201.0000286102295,
        "wires": []
    },
    {
        "id": "1658e8a1.c3e1c7",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "cocina-100%",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "cocina encendida a nivel fuego valirio",
        "parseMode": "",
        "x": 1456.0000114440918,
        "y": 407.00003814697266,
        "wires": []
    },
    {
        "id": "732aa6e5.182d78",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "cocina-alto",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "cocina encendida a nivel alto",
        "parseMode": "",
        "x": 1448.0000648498535,
        "y": 295.00003814697266,
        "wires": []
    },
    {
        "id": "eb04611d.01379",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch habitacion",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 973.0000114440918,
        "y": 758.0000267028809,
        "wires": [
            [
                "ea646b45.5a5b88"
            ],
            [
                "ab36744c.cbb8b8"
            ],
            [
                "ae51fbde.5936a8"
            ],
            [
                "9f69c334.7d32b"
            ],
            [
                "271c9ea2.1daca2"
            ]
        ]
    },
    {
        "id": "28e94362.66a81c",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "habitacion-medio",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "habitacion encendida a nivel medio",
        "parseMode": "",
        "x": 1527.0000305175781,
        "y": 729.9999866485596,
        "wires": []
    },
    {
        "id": "ae9c1edb.341e9",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "habitacion-alto",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "habitacion encendida a nivel alto",
        "parseMode": "",
        "x": 1532.0000305175781,
        "y": 826.9999866485596,
        "wires": []
    },
    {
        "id": "81ede20f.b00b6",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "habitacion-100%",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "habitacion encendida a todo leche",
        "parseMode": "",
        "x": 1534.0000305175781,
        "y": 938.9999866485596,
        "wires": []
    },
    {
        "id": "fda8a5a5.b4f528",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch salon",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 1052.0000114440918,
        "y": 1188.0000267028809,
        "wires": [
            [
                "ca44d4f0.0608c8"
            ],
            [
                "be5fec68.125ce"
            ],
            [
                "f9f5ad1b.e369b"
            ],
            [
                "d8dc833f.14e6d"
            ],
            [
                "7eba3c0b.87d3f4"
            ]
        ]
    },
    {
        "id": "31cbb29b.ebca9e",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch wc",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 980.0000305175781,
        "y": 1613.0000267028809,
        "wires": [
            [
                "a396c5.82730938"
            ],
            [
                "4363064e.2f1a28"
            ],
            [
                "50b2fa27.93e3b4"
            ],
            [
                "705abac7.a643e4"
            ],
            [
                "a2d373f7.4927b"
            ]
        ]
    },
    {
        "id": "ea9f424e.0dc75",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "salon-medio",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "salon encendido a nivel medio",
        "parseMode": "",
        "x": 1646.9999542236328,
        "y": 1175.999963760376,
        "wires": []
    },
    {
        "id": "ac779cee.998bb",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "salon-alto",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "salon encendido a nivel alto",
        "parseMode": "",
        "x": 1657.9999542236328,
        "y": 1287.999963760376,
        "wires": []
    },
    {
        "id": "9ea643b0.fed65",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "salon-100%",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "salon encendido para HellBoy",
        "parseMode": "",
        "x": 1665.9999542236328,
        "y": 1398.999963760376,
        "wires": []
    },
    {
        "id": "c12975e8.303e68",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "wc-medio",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "baño encendido a nivel medio",
        "parseMode": "",
        "x": 1522.0000267028809,
        "y": 1615.9999084472656,
        "wires": []
    },
    {
        "id": "19e7d28d.b7ae7d",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "wc-alto",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "baño encendido a nivel alto",
        "parseMode": "",
        "x": 1538.0000038146973,
        "y": 1702.0000286102295,
        "wires": []
    },
    {
        "id": "5f804b0f.3d7fb4",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "wc-100%",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "baño encendido al maximo",
        "parseMode": "",
        "x": 1562.9999389648438,
        "y": 1801.999979019165,
        "wires": []
    },
    {
        "id": "ffe11173.0d769",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch todo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que intensidad quieres?",
        "answers": [
            "Bajo",
            "Medio",
            "Alto",
            "stairway to heaven"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 1034.0000267028809,
        "y": 2145.0000343322754,
        "wires": [
            [
                "7f5fa45c.35833c"
            ],
            [
                "5f331548.e183bc"
            ],
            [
                "ae2ba51c.dfdca8"
            ],
            [
                "1cd0dfdc.735d7"
            ],
            [
                "6d98cd64.764034"
            ]
        ]
    },
    {
        "id": "3b6c9f36.dfbde",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "todo-medio",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se han encendido todas las luces a nivel medio",
        "parseMode": "",
        "x": 1387,
        "y": 2191.000219345093,
        "wires": []
    },
    {
        "id": "dedf0234.c6fd7",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "todo-alto",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se han encendido todas las luces a nivel alto",
        "parseMode": "",
        "x": 1419.999921798706,
        "y": 2354.9999227523804,
        "wires": []
    },
    {
        "id": "11ea8fe9.a0d57",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "todo-100%",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se han encendido todas las luces a toda ostia",
        "parseMode": "",
        "x": 1385.9999752044678,
        "y": 2457.999822616577,
        "wires": []
    },
    {
        "id": "5d082525.1e969c",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Encender y regular PWM",
        "info": "e",
        "x": 604.0000114440918,
        "y": 792.0000267028809,
        "wires": []
    },
    {
        "id": "a3344de0.0a4e9",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Apagar luces",
        "info": "e",
        "x": 330,
        "y": 2767.0003700256348,
        "wires": []
    },
    {
        "id": "6e926321.ee576c",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/estado",
        "bot": "407d7e26.e9903",
        "command": "/estado",
        "commandType": "str",
        "commandCase": false,
        "x": 3598.9998931884766,
        "y": 219.99999809265137,
        "wires": [
            [
                "e6203c57.26c88"
            ]
        ]
    },
    {
        "id": "e6203c57.26c88",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch estado",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "De que quieres ver el estado?",
        "answers": [
            "cocina",
            "habitacion",
            "salon",
            "toilette",
            "todo"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3767.999984741211,
        "y": 219.00000381469727,
        "wires": [
            [
                "ebc35df1.4bcb"
            ],
            [
                "1eae713d.6a1f4f"
            ],
            [
                "ad07bd5d.7a356"
            ],
            [
                "87207d69.26b7d"
            ],
            [
                "ebc35df1.4bcb",
                "1eae713d.6a1f4f",
                "ad07bd5d.7a356",
                "87207d69.26b7d",
                "722806.c6e007fc"
            ],
            [
                "fa0c306b.0b98a"
            ]
        ]
    },
    {
        "id": "5a8019a5.098548",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "estado habitacion",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4841.000015258789,
        "y": 177.99999809265137,
        "wires": []
    },
    {
        "id": "2b5ce330.cdd44c",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "estado salon",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4822.000015258789,
        "y": 227.99999809265137,
        "wires": []
    },
    {
        "id": "858f5fe9.21aba",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "estado baño",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4825.000015258789,
        "y": 275.99999809265137,
        "wires": []
    },
    {
        "id": "e07ee69d.799b38",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Estado de los sensores",
        "info": "e",
        "x": 3791.9998931884766,
        "y": 135.99999809265137,
        "wires": []
    },
    {
        "id": "38d0eabb.09f126",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/start",
        "bot": "407d7e26.e9903",
        "command": "/start",
        "commandType": "str",
        "commandCase": false,
        "x": 55,
        "y": 418.5557918548584,
        "wires": [
            [
                "bbc611ac.f29af",
                "91e57dc0.9c147"
            ]
        ]
    },
    {
        "id": "81644eb4.12f94",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "mensaje de bienvenida e informacion",
        "info": "e",
        "x": 225,
        "y": 146.0000228881836,
        "wires": []
    },
    {
        "id": "b47c421b.dcf99",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP5826449/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.685791015625,
        "y": 3783.5608530044556,
        "wires": [
            [
                "ca7768cb.2c82d8",
                "bafefa12.deb9f8"
            ]
        ]
    },
    {
        "id": "20fb082c.a54138",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 157.00001525878906,
        "y": 3783.3335905075073,
        "wires": [
            [
                "33a39b4f.1592c4"
            ]
        ]
    },
    {
        "id": "33a39b4f.1592c4",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 419,
        "y": 3783.3335580825806,
        "wires": [
            [
                "b47c421b.dcf99",
                "bde3275b.aeaa98"
            ]
        ]
    },
    {
        "id": "ebc35df1.4bcb",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Registro cocina",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\": \"infind/GRUPO2/ESP5826449/datos\"};\n\nreturn msg;\n\n\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4048.0001831054688,
        "y": 114.00000190734863,
        "wires": [
            [
                "e626307c.a70f6"
            ]
        ]
    },
    {
        "id": "e626307c.a70f6",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4331.999893188477,
        "y": 112.99999809265137,
        "wires": [
            [
                "8719e116.71fac"
            ]
        ]
    },
    {
        "id": "8719e116.71fac",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta cocina",
        "func": "var vcc=msg.payload[0].Vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led =msg.payload[0].LED;\n\n\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado de la cocina es el siguiente:  \\n\";\nmsg.payload+= \"el voltaje de la placa es \"+vcc+\" voltios\\n \"\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"La cocina esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"La cocina esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"La cocina esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"La cocina esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"La cocina esta apagada  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4624.700088500977,
        "y": 113.99999809265137,
        "wires": [
            [
                "3e83b8c0.3a2f18"
            ]
        ]
    },
    {
        "id": "3e83b8c0.3a2f18",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "estado cocina",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 4846.999893188477,
        "y": 97.99999809265137,
        "wires": []
    },
    {
        "id": "1fa13b4d.56db05",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1506.999984741211,
        "y": 40.000003814697266,
        "wires": []
    },
    {
        "id": "34e3ca2c.4dcec6",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1273.0001792907715,
        "y": 72.00004005432129,
        "wires": [
            [
                "1fa13b4d.56db05",
                "b62a2f58.8016a"
            ]
        ]
    },
    {
        "id": "2ed2c80b.f186b8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1129.0001754760742,
        "y": 79.0000228881836,
        "wires": [
            [
                "34e3ca2c.4dcec6"
            ]
        ]
    },
    {
        "id": "b62a2f58.8016a",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "cocina-bajo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "cocina encendida a nivel bajo",
        "parseMode": "",
        "x": 1435.9999656677246,
        "y": 90.00002861022949,
        "wires": []
    },
    {
        "id": "e0a1e2f0.d1f2",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1493.9999656677246,
        "y": 147.0000286102295,
        "wires": []
    },
    {
        "id": "74390645.f18818",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1265.0000534057617,
        "y": 163.00004386901855,
        "wires": [
            [
                "e0a1e2f0.d1f2",
                "1737e2e5.06ebed"
            ]
        ]
    },
    {
        "id": "a2651e6e.58fbf",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1132.0000534057617,
        "y": 169.0000295639038,
        "wires": [
            [
                "74390645.f18818"
            ]
        ]
    },
    {
        "id": "6cf54b75.e57b64",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1260,
        "y": 256.0000190734863,
        "wires": [
            [
                "732aa6e5.182d78",
                "fcb3fba9.ce17e8"
            ]
        ]
    },
    {
        "id": "44a3c115.2342f",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1118.00004196167,
        "y": 252.00003814697266,
        "wires": [
            [
                "6cf54b75.e57b64"
            ]
        ]
    },
    {
        "id": "fcb3fba9.ce17e8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1513.0000648498535,
        "y": 247.00003814697266,
        "wires": []
    },
    {
        "id": "473e6dff.14d874",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1261.0000267028809,
        "y": 323.00007820129395,
        "wires": [
            [
                "fdaca694.208378",
                "1658e8a1.c3e1c7"
            ]
        ]
    },
    {
        "id": "f09d8896.2fe898",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1123.00004196167,
        "y": 312.000036239624,
        "wires": [
            [
                "473e6dff.14d874"
            ]
        ]
    },
    {
        "id": "fdaca694.208378",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1531.0000114440918,
        "y": 353.00003814697266,
        "wires": []
    },
    {
        "id": "d2ace01.2aa272",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 743.0000076293945,
        "y": 2763.0006351470947,
        "wires": [
            [
                "2d08551c.548b7a",
                "4bd8ffd.bfc6b"
            ]
        ]
    },
    {
        "id": "ade202bb.1a42d",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 526.0000610351562,
        "y": 2763.000732421875,
        "wires": [
            [
                "d2ace01.2aa272"
            ]
        ]
    },
    {
        "id": "2d08551c.548b7a",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 980.9999389648438,
        "y": 2680.0006494522095,
        "wires": []
    },
    {
        "id": "1eae713d.6a1f4f",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Registro habitacion",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\": \"infind/GRUPO2/ESP8789990/datos\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4024.9998931884766,
        "y": 184.99999809265137,
        "wires": [
            [
                "28d7e037.bae3a"
            ]
        ]
    },
    {
        "id": "28d7e037.bae3a",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4321.999893188477,
        "y": 192.99999809265137,
        "wires": [
            [
                "2b43c23b.494c3e"
            ]
        ]
    },
    {
        "id": "2b43c23b.494c3e",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta habitacion",
        "func": "var vcc=msg.payload[0].Vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led = msg.payload[0].LED;\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado de la habitacion es el siguiente:  \\n\";\nmsg.payload += \"el voltaje de la placa es \"+vcc+\" voltios\\n \"\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"La  habitacion esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"La  habitacion esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"La  habitacion esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"La  habitacion esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"La habitacion esta apagada  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4623.699844360352,
        "y": 171.99999809265137,
        "wires": [
            [
                "5a8019a5.098548"
            ]
        ]
    },
    {
        "id": "ad07bd5d.7a356",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Registro salon",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\": \"infind/GRUPO2/ESP5821487/datos\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4017.9998931884766,
        "y": 235.99999809265137,
        "wires": [
            [
                "eed1c6d1.3d23a8"
            ]
        ]
    },
    {
        "id": "eed1c6d1.3d23a8",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4328.999893188477,
        "y": 237.99999809265137,
        "wires": [
            [
                "ba6c8318.4ad24"
            ]
        ]
    },
    {
        "id": "ba6c8318.4ad24",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta salon",
        "func": "var vcc=msg.payload[0].Vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led = msg.payload[0].LED;\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado del salon es el siguiente:  \\n\";\nmsg.payload += \"el voltaje de la placa es \"+vcc+\" voltios\\n \"\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"El salon esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"El salon esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"El salon esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"El salon esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"El salon esta apagado  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4616.699844360352,
        "y": 224.99999809265137,
        "wires": [
            [
                "2b5ce330.cdd44c"
            ]
        ]
    },
    {
        "id": "87207d69.26b7d",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Registro baño",
        "func": "msg.mensaje=msg.payload;\nmsg.limit=1;\nmsg.sort={\"date\":-1};\nmsg.payload={\"topic\":\"infind/GRUPO2/ESP1122489/datos\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4030.0001678466797,
        "y": 274.9999990463257,
        "wires": [
            [
                "d77821d4.920a2",
                "60eb3454.c2fddc"
            ]
        ]
    },
    {
        "id": "d77821d4.920a2",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "find",
        "x": 4331.999893188477,
        "y": 289.99999809265137,
        "wires": [
            [
                "3d4ab4da.e8363c",
                "60eb3454.c2fddc"
            ]
        ]
    },
    {
        "id": "3d4ab4da.e8363c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta baño",
        "func": "var vcc=msg.payload[0].Vcc;\nvar fecha=msg.payload[0].date;\nvar Temperatura=msg.payload[0].DHT11.temp;\nvar Humedad=msg.payload[0].DHT11.hum;\nvar led = msg.payload[0].LED;\nmsg.payload=msg.mensaje;\n\nmsg.payload=\"El estado del baño es el siguiente:  \\n\";\nmsg.payload += \"el voltaje de la placa es \"+vcc+\" voltios\\n \"\nmsg.payload+=\"Tenemos unos agradables \"+Temperatura+\" ºC \\n\";\nmsg.payload+=\"La humedad es del \"+Humedad+\" % \\n\";\n\nif (led == 25)\nmsg.payload+=\"El baño esta a nivel bajo  \\n\";\nelse if (led ==50)\nmsg.payload+=\"El baño esta a nivel medio  \\n\";\nelse if (led ==75)\nmsg.payload+=\"El baño esta a nivel alto  \\n\";\nelse if (led ==100)\nmsg.payload+=\"El baño esta a nivel maximo  \\n\";\nelse if (led === 0)\nmsg.payload+=\"El baño esta apagado  \\n\";\n\nmsg.payload+=\"Última actualización: \"+fecha.toLocaleString('es-ES', { timeZone: 'Europe/Madrid', hour12: false });\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4619.699844360352,
        "y": 276.99999809265137,
        "wires": [
            [
                "858f5fe9.21aba"
            ]
        ]
    },
    {
        "id": "84df1c5.f5d5be",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 748.9999694824219,
        "y": 2823.0004873275757,
        "wires": [
            [
                "85ad1cac.e0797",
                "6011bf3a.9dbb1"
            ]
        ]
    },
    {
        "id": "dbd397dd.cdbce8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 529.9999847412109,
        "y": 2819.000569343567,
        "wires": [
            [
                "84df1c5.f5d5be"
            ]
        ]
    },
    {
        "id": "85ad1cac.e0797",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1027,
        "y": 2781.00048828125,
        "wires": []
    },
    {
        "id": "da9d4709.ed2978",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 748.0000076293945,
        "y": 2916.0005378723145,
        "wires": [
            [
                "cc0d389c.ce1418",
                "93ac73ee.6d365"
            ]
        ]
    },
    {
        "id": "58dd2e10.81d6d",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 532.9999923706055,
        "y": 2905.0006351470947,
        "wires": [
            [
                "da9d4709.ed2978"
            ]
        ]
    },
    {
        "id": "cc0d389c.ce1418",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1043,
        "y": 2902.00048828125,
        "wires": []
    },
    {
        "id": "20b9c369.b2857c",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 753.0000228881836,
        "y": 3003.0007610321045,
        "wires": [
            [
                "6e16edb.8f35014",
                "65b4672c.adef98"
            ]
        ]
    },
    {
        "id": "4b139350.032a3c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 556.0000076293945,
        "y": 2989.0008583068848,
        "wires": [
            [
                "20b9c369.b2857c"
            ]
        ]
    },
    {
        "id": "6e16edb.8f35014",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1029,
        "y": 3022.00048828125,
        "wires": []
    },
    {
        "id": "5eacf827.5d9998",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 763.9999847412109,
        "y": 3078.0005493164062,
        "wires": [
            [
                "343af585.10f9aa",
                "6e16edb.8f35014",
                "cc0d389c.ce1418",
                "85ad1cac.e0797",
                "2d08551c.548b7a"
            ]
        ]
    },
    {
        "id": "2faf3ef0.955902",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 561.0000343322754,
        "y": 3068.0006465911865,
        "wires": [
            [
                "5eacf827.5d9998"
            ]
        ]
    },
    {
        "id": "67692e2d.6e37a",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 942.0000114440918,
        "y": 416.00002670288086,
        "wires": []
    },
    {
        "id": "ea646b45.5a5b88",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1190.0000114440918,
        "y": 603.0000267028809,
        "wires": [
            [
                "25d4862a.b3786a"
            ]
        ]
    },
    {
        "id": "ab36744c.cbb8b8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1202.0000114440918,
        "y": 699.0000267028809,
        "wires": [
            [
                "99bff246.6c142"
            ]
        ]
    },
    {
        "id": "ae51fbde.5936a8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1204.0000114440918,
        "y": 771.0000267028809,
        "wires": [
            [
                "18cb874a.288ed9"
            ]
        ]
    },
    {
        "id": "9f69c334.7d32b",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1211.0000114440918,
        "y": 859.0000267028809,
        "wires": [
            [
                "dd6faeb8.59c66"
            ]
        ]
    },
    {
        "id": "25d4862a.b3786a",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1333.9999923706055,
        "y": 605.0000419616699,
        "wires": [
            [
                "db8bd76b.686488",
                "3a3ccdff.f6d102"
            ]
        ]
    },
    {
        "id": "99bff246.6c142",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1340.9999923706055,
        "y": 704.0000419616699,
        "wires": [
            [
                "28e94362.66a81c",
                "b8beecc0.2339c"
            ]
        ]
    },
    {
        "id": "18cb874a.288ed9",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1345.9999923706055,
        "y": 785.0000419616699,
        "wires": [
            [
                "ae9c1edb.341e9",
                "fa5f8cf1.c17a2"
            ]
        ]
    },
    {
        "id": "dd6faeb8.59c66",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1349.9999923706055,
        "y": 854.0000419616699,
        "wires": [
            [
                "81ede20f.b00b6",
                "47f3200a.dccef"
            ]
        ]
    },
    {
        "id": "3a3ccdff.f6d102",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1569.0000305175781,
        "y": 561.9999866485596,
        "wires": []
    },
    {
        "id": "b8beecc0.2339c",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1575.0000305175781,
        "y": 670.9999866485596,
        "wires": []
    },
    {
        "id": "fa5f8cf1.c17a2",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1581.0000305175781,
        "y": 783.9999866485596,
        "wires": []
    },
    {
        "id": "47f3200a.dccef",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1582.0000305175781,
        "y": 887.9999866485596,
        "wires": []
    },
    {
        "id": "ca44d4f0.0608c8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1258.999984741211,
        "y": 1102.9999771118164,
        "wires": [
            [
                "ae27c11e.6fd77"
            ]
        ]
    },
    {
        "id": "be5fec68.125ce",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1257.0000114440918,
        "y": 1168.0000267028809,
        "wires": [
            [
                "1cc242d5.55b4fd"
            ]
        ]
    },
    {
        "id": "f9f5ad1b.e369b",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1257.99995803833,
        "y": 1229.0000267028809,
        "wires": [
            [
                "2baa3933.741cd6"
            ]
        ]
    },
    {
        "id": "d8dc833f.14e6d",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1266.000015258789,
        "y": 1288.000002861023,
        "wires": [
            [
                "9975295c.a11cd8"
            ]
        ]
    },
    {
        "id": "ae27c11e.6fd77",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1398.9999389648438,
        "y": 1095.9999904632568,
        "wires": [
            [
                "cd3bc479.82c118",
                "1bb30f53.bcd9d1"
            ]
        ]
    },
    {
        "id": "1cc242d5.55b4fd",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1390.9999408721924,
        "y": 1164.9999904632568,
        "wires": [
            [
                "ea9f424e.0dc75",
                "1d1c9340.98cc0d"
            ]
        ]
    },
    {
        "id": "2baa3933.741cd6",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1395.0000457763672,
        "y": 1234.9999732971191,
        "wires": [
            [
                "ac779cee.998bb",
                "65799d00.97eb64"
            ]
        ]
    },
    {
        "id": "9975295c.a11cd8",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1402.999963760376,
        "y": 1296.0000295639038,
        "wires": [
            [
                "9ea643b0.fed65",
                "79bb003.60c2c"
            ]
        ]
    },
    {
        "id": "1bb30f53.bcd9d1",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1635.9999542236328,
        "y": 1024.999963760376,
        "wires": []
    },
    {
        "id": "1d1c9340.98cc0d",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1652.9999542236328,
        "y": 1121.999963760376,
        "wires": []
    },
    {
        "id": "79bb003.60c2c",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1675.9999542236328,
        "y": 1343.999963760376,
        "wires": []
    },
    {
        "id": "65799d00.97eb64",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1679.9999542236328,
        "y": 1241.999963760376,
        "wires": []
    },
    {
        "id": "a396c5.82730938",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1157.0000038146973,
        "y": 1537.000018119812,
        "wires": [
            [
                "f602e1ad.df5f6"
            ]
        ]
    },
    {
        "id": "4363064e.2f1a28",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1157,
        "y": 1594.0000219345093,
        "wires": [
            [
                "f2ea24e9.718ef8"
            ]
        ]
    },
    {
        "id": "50b2fa27.93e3b4",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1169.0000305175781,
        "y": 1651.0000267028809,
        "wires": [
            [
                "9a514d3d.d8c31"
            ]
        ]
    },
    {
        "id": "705abac7.a643e4",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1186.0000305175781,
        "y": 1717.0000314712524,
        "wires": [
            [
                "d8dfa960.f109e8"
            ]
        ]
    },
    {
        "id": "f602e1ad.df5f6",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1294.0000114440918,
        "y": 1519.999963760376,
        "wires": [
            [
                "664cf8e2.937438",
                "a07a05c6.4907c8"
            ]
        ]
    },
    {
        "id": "f2ea24e9.718ef8",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1297.999984741211,
        "y": 1591.9999141693115,
        "wires": [
            [
                "c12975e8.303e68",
                "a6a193bc.61653"
            ]
        ]
    },
    {
        "id": "9a514d3d.d8c31",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1304.0000114440918,
        "y": 1652.9999713897705,
        "wires": [
            [
                "19e7d28d.b7ae7d",
                "d6c96ba0.4f33c8"
            ]
        ]
    },
    {
        "id": "d8dfa960.f109e8",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1315.0000629425049,
        "y": 1711.0000324249268,
        "wires": [
            [
                "5f804b0f.3d7fb4",
                "844c97e8.c46348"
            ]
        ]
    },
    {
        "id": "a07a05c6.4907c8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1536.0000267028809,
        "y": 1462.9999084472656,
        "wires": []
    },
    {
        "id": "a6a193bc.61653",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1564.0000267028809,
        "y": 1569.9999084472656,
        "wires": []
    },
    {
        "id": "d6c96ba0.4f33c8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1620.9998512268066,
        "y": 1663.0000267028809,
        "wires": []
    },
    {
        "id": "844c97e8.c46348",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1634.9999961853027,
        "y": 1751.9999771118164,
        "wires": []
    },
    {
        "id": "7f5fa45c.35833c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 25",
        "func": "msg.payload = {\"level\": 25}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1196.0000686645508,
        "y": 2003.99995803833,
        "wires": [
            [
                "a5cd042e.c68218"
            ]
        ]
    },
    {
        "id": "5f331548.e183bc",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 50",
        "func": "msg.payload = {\"level\": 50}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1211.0000762939453,
        "y": 2128.0001106262207,
        "wires": [
            [
                "46ffc400.7d898c"
            ]
        ]
    },
    {
        "id": "ae2ba51c.dfdca8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 75",
        "func": "msg.payload = {\"level\": 75}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1229.9999771118164,
        "y": 2254.000026702881,
        "wires": [
            [
                "46c47b4c.a6d5a4"
            ]
        ]
    },
    {
        "id": "1cd0dfdc.735d7",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 1233.0000476837158,
        "y": 2389.9999504089355,
        "wires": [
            [
                "3fb9907f.c497f"
            ]
        ]
    },
    {
        "id": "a5cd042e.c68218",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1344.0000686645508,
        "y": 1999.99995803833,
        "wires": [
            [
                "9f4a2668.db5478",
                "d4da7a26.547b48",
                "f32ce44f.168b28",
                "142b8c68.a5d804",
                "d29a1c6b.67756"
            ]
        ]
    },
    {
        "id": "46ffc400.7d898c",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1363.0000762939453,
        "y": 2127.0001106262207,
        "wires": [
            [
                "3b6c9f36.dfbde",
                "1623a1cf.e8d30e",
                "d4b43eb9.e05d8",
                "25e89cb6.c3bab4",
                "ad866ed6.c1b4f"
            ]
        ]
    },
    {
        "id": "46c47b4c.a6d5a4",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1391.0000381469727,
        "y": 2289.999972343445,
        "wires": [
            [
                "dedf0234.c6fd7",
                "3b9c37f2.dbf758",
                "d4decff2.edbf6",
                "24813598.62f2ca",
                "72720104.e8948"
            ]
        ]
    },
    {
        "id": "3fb9907f.c497f",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 1393.0000476837158,
        "y": 2402.9999504089355,
        "wires": [
            [
                "11ea8fe9.a0d57",
                "6153c34.854ad3c",
                "c65edb21.952ac8",
                "95801c43.c3b86",
                "8a509fb3.92919"
            ]
        ]
    },
    {
        "id": "eb06e125.0b666",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 781.0000457763672,
        "y": 4412.697559356689,
        "wires": []
    },
    {
        "id": "bd4116d4.3edab8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "sensor puerta",
        "func": "var deteccion = msg.payload.VL53L0X;\n\nif ((deteccion > 0) && (deteccion <=200)) {\nmsg.payload = \"Se ha abierto la puerta\"}\nif (deteccion > 200) {\nmsg.payload = \"Se ha cerrado la puerta\"}\nif (deteccion == -1){\nmsg.payload = \"Sensor láser de la puerta no inicializado\"}\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 553.3334541320801,
        "y": 4666.697967529297,
        "wires": [
            [
                "115c3712.2d4659"
            ]
        ]
    },
    {
        "id": "9607fb80.ea46f8",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/puerta",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 174.33340072631836,
        "y": 4705.698618888855,
        "wires": [
            [
                "c7bc9b23.19b138"
            ]
        ]
    },
    {
        "id": "28d1854.9533e7a",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "calidad del aire de la cocina",
        "info": "",
        "x": 152.3333854675293,
        "y": 4773.697727203369,
        "wires": []
    },
    {
        "id": "cba386a4.400fb8",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "estado puerta principal",
        "info": "",
        "x": 175.33340072631836,
        "y": 4657.697810173035,
        "wires": []
    },
    {
        "id": "8e94daa2.bec0c8",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 149.00001525878906,
        "y": 4349.697555541992,
        "wires": [
            [
                "c52d1b40.8ee7c8"
            ]
        ]
    },
    {
        "id": "c081f90b.ac8d68",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura cocina",
        "func": "var deteccion = msg.payload.DHT11.temp;\nmsg.payload = null\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DE LA COCINA ES DEMASIADO ALTA \\n\";\n\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DE LA COCINA ES DEMASIADO BAJA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 543.0000152587891,
        "y": 4346.697061538696,
        "wires": [
            [
                "eb06e125.0b666",
                "9a017098.bcf6a"
            ]
        ]
    },
    {
        "id": "57d9f234.42134c",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "temperaturas",
        "info": "",
        "x": 140.00001525878906,
        "y": 4305.697422027588,
        "wires": []
    },
    {
        "id": "5a3e6f9b.721fc",
        "type": "mongodb out",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 889.772705078125,
        "y": 3875.3335580825806,
        "wires": []
    },
    {
        "id": "d4bdc02.4b42b4",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP8789990/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.685791015625,
        "y": 3876.5608530044556,
        "wires": [
            [
                "5a3e6f9b.721fc",
                "d505cbff.b24898"
            ]
        ]
    },
    {
        "id": "ec730376.20c3a",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 160.99998474121094,
        "y": 3887.3335275650024,
        "wires": [
            [
                "312127a1.01efb8"
            ]
        ]
    },
    {
        "id": "312127a1.01efb8",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 427.2225971221924,
        "y": 3887.3343019485474,
        "wires": [
            [
                "d4bdc02.4b42b4",
                "c087d39c.1cac8"
            ]
        ]
    },
    {
        "id": "66876178.43cea",
        "type": "mongodb out",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 904.772705078125,
        "y": 3960.3335580825806,
        "wires": []
    },
    {
        "id": "d5f3a504.d59c88",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP1122489/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 611.685791015625,
        "y": 3962.5608530044556,
        "wires": [
            [
                "66876178.43cea",
                "a1741fc8.f175e",
                "47c4c91f.5c4e08"
            ]
        ]
    },
    {
        "id": "15f3b54d.f85dab",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 145,
        "y": 3975.3335275650024,
        "wires": [
            [
                "7acd7576.1f3cfc"
            ]
        ]
    },
    {
        "id": "7acd7576.1f3cfc",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 417,
        "y": 3969.3335580825806,
        "wires": [
            [
                "d5f3a504.d59c88",
                "87457202.2fbf8"
            ]
        ]
    },
    {
        "id": "b711ac9.9469c5",
        "type": "mongodb out",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 900.772705078125,
        "y": 4054.3335580825806,
        "wires": []
    },
    {
        "id": "77d4440d.58528c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "+ fecha",
        "func": "msg.payload.date = new Date();\nmsg.payload.topic = \"infind/GRUPO2/ESP5821487/datos\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 608.685791015625,
        "y": 4056.5608530044556,
        "wires": [
            [
                "b711ac9.9469c5",
                "9038839f.0bfb6"
            ]
        ]
    },
    {
        "id": "16c8b4d5.c4dffb",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 152,
        "y": 4060.333372116089,
        "wires": [
            [
                "e7f5450d.eb1568"
            ]
        ]
    },
    {
        "id": "e7f5450d.eb1568",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 445.0000114440918,
        "y": 4055.333734512329,
        "wires": [
            [
                "77d4440d.58528c",
                "50171cd2.dad344"
            ]
        ]
    },
    {
        "id": "583c6f52.ab8fe",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "javi",
        "info": "e",
        "x": 91,
        "y": 3745.3335580825806,
        "wires": []
    },
    {
        "id": "89e6b06c.d5a4d",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Frank",
        "info": "e",
        "x": 94,
        "y": 3851.3335580825806,
        "wires": []
    },
    {
        "id": "f6e63e4e.822d3",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Leo",
        "info": "e",
        "x": 114,
        "y": 4027.3335580825806,
        "wires": []
    },
    {
        "id": "93e11dda.2f776",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Juanjo",
        "info": "e",
        "x": 102,
        "y": 3939.3335580825806,
        "wires": []
    },
    {
        "id": "c52d1b40.8ee7c8",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 365.0000457763672,
        "y": 4347.697061538696,
        "wires": [
            [
                "c081f90b.ac8d68"
            ]
        ]
    },
    {
        "id": "c7bc9b23.19b138",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 398.3334159851074,
        "y": 4702.698619842529,
        "wires": [
            [
                "bd4116d4.3edab8",
                "ba488eea.41c15"
            ]
        ]
    },
    {
        "id": "722806.c6e007fc",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "estado casa",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se va a mostrar el estado de cada parte de la casa",
        "parseMode": "",
        "x": 4049.9998931884766,
        "y": 333.99999809265137,
        "wires": []
    },
    {
        "id": "d4da7a26.547b48",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1584.0003509521484,
        "y": 1889.9999046325684,
        "wires": []
    },
    {
        "id": "f32ce44f.168b28",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP230/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1562.378158569336,
        "y": 1924.9146995544434,
        "wires": []
    },
    {
        "id": "142b8c68.a5d804",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1592.378158569336,
        "y": 1962.0965843200684,
        "wires": []
    },
    {
        "id": "d29a1c6b.67756",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1607.378158569336,
        "y": 1994.0965843200684,
        "wires": []
    },
    {
        "id": "ad866ed6.c1b4f",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1649.378074645996,
        "y": 2119.8239192962646,
        "wires": []
    },
    {
        "id": "25e89cb6.c3bab4",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1654.7559509277344,
        "y": 2171.738649368286,
        "wires": []
    },
    {
        "id": "d4b43eb9.e05d8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1674.7559509277344,
        "y": 2208.920534133911,
        "wires": []
    },
    {
        "id": "1623a1cf.e8d30e",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1689.7559509277344,
        "y": 2240.920534133911,
        "wires": []
    },
    {
        "id": "3b9c37f2.dbf758",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1739.3779277801514,
        "y": 2374.8237075805664,
        "wires": []
    },
    {
        "id": "d4decff2.edbf6",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1727.7557353973389,
        "y": 2409.7385025024414,
        "wires": []
    },
    {
        "id": "24813598.62f2ca",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1747.7557353973389,
        "y": 2446.9203872680664,
        "wires": []
    },
    {
        "id": "72720104.e8948",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1751.75563621521,
        "y": 2493.9202995300293,
        "wires": []
    },
    {
        "id": "c65edb21.952ac8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1731.378179550171,
        "y": 2564.550874710083,
        "wires": []
    },
    {
        "id": "95801c43.c3b86",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1719.7559871673584,
        "y": 2599.465669631958,
        "wires": []
    },
    {
        "id": "8a509fb3.92919",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1739.7559871673584,
        "y": 2636.647554397583,
        "wires": []
    },
    {
        "id": "6153c34.854ad3c",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 1748.7560329437256,
        "y": 2685.647529602051,
        "wires": []
    },
    {
        "id": "6b842bd0.1818a4",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "-------------------------------------Avisos especiales-------------------------------------",
        "info": "",
        "x": 528.92333984375,
        "y": 4204.521771430969,
        "wires": []
    },
    {
        "id": "bbc611ac.f29af",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch bienvenida",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "¡Hola! Soy el bot del grupo 2, Puedo hacer muchas cosas, solo tienes que pulsar en una de los siguientes opciones. ¿No sabes que hace cada una?, ¡Tranquilo!, tienes un tutorial justo debajo, ahora sí... ¿En que puedo ayudarte?",
        "answers": [
            "Encender",
            "Apagar",
            "Ver estado",
            "Tutorial"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 247.89588165283203,
        "y": 295.4450912475586,
        "wires": [
            [
                "cbba333c.04e21"
            ],
            [
                "9ab85234.69824"
            ],
            [
                "c64e6401.daea98"
            ],
            [
                "f67902b1.876ae"
            ],
            []
        ]
    },
    {
        "id": "1501b58b.72ce0a",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Ayuda",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "",
        "parseMode": "",
        "x": 582.8958358764648,
        "y": 336.0002899169922,
        "wires": []
    },
    {
        "id": "f67902b1.876ae",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "ayuda mensaje",
        "func": "msg.payload = \"¿Estás un poco perdido? Tranquilo, yo te ayudo. \\n\";\nmsg.payload += \"En primer lugar puedes utilizar el comando /encender o /apagar para modificar las luces. \\n\";\nmsg.payload += \"Una vez lo hagas podrás elegir qué quieres enceder, tienes varios niveles para elegir. \\n\";\nmsg.payload += \"Por otro lado tienes el comando /estado para comprobar cierta información de cada rincón de la casa. \\n\";\nmsg.payload += \"Otro comando interesante es /prediccion, que te permite ver la prediccion del tiempo atmosferico. \\n\";\nmsg.payload += \"Con el comando /configuracion podrás tocar varios parámetros como el tiempo de recogida de datos, el de pwm, el estado del switch y del led y el tiempo de actualizacion . Tambien puedes actualizar manualmente con /actualiza \\n\";\nmsg.payload += \"Si escribes /TempMax o /TempMin podrás cambiar la temperatura a la que quieres los avisos \\n\";\nmsg.payload += \"Con /HumMax y /HumMin puedes regular los avisos para la humedad, con /logica puedes cambiar la lógica de los LEDs \\n\";\nmsg.payload += \"Hay otros mensajes que se envian automaticamente si ocurren situaciones concretas, como por ejemplo, que se abra la puerta de la casa o que tengas un nivel de humo demasiado alto. \\n\";\nmsg.payload += \"¿No me crees? Pues metele fuego a la casa para que veas lo efectivo que soy ^^. \\n\";\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 491.89585876464844,
        "y": 276.00025939941406,
        "wires": [
            [
                "1501b58b.72ce0a"
            ]
        ]
    },
    {
        "id": "de451e7a.9d6c6",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4813.999984741211,
        "y": 2805.7644367218018,
        "wires": []
    },
    {
        "id": "74763ab9.1fee74",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch tiempo",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Muy bien, ¿Que tiempo de recogida de datos quieres?",
        "answers": [
            "5 segundos",
            "10 segundo",
            "30 segundos",
            "1 minuto",
            "5 minutos"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4028.0478591918945,
        "y": 2711.89013671875,
        "wires": [
            [
                "66f5ad9a.26c304"
            ],
            [
                "d83fdb95.a04bf8"
            ],
            [
                "8c4ddc65.839c9"
            ],
            [
                "423e9c2d.5724e4"
            ],
            [
                "d3a9283b.e07588"
            ],
            [
                "c198c49d.974f18"
            ]
        ]
    },
    {
        "id": "66f5ad9a.26c304",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "5 segundos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 5};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4257.943832397461,
        "y": 2573.7781686782837,
        "wires": [
            [
                "2ff2dd7d.9a5042",
                "de451e7a.9d6c6",
                "edd4cfa9.eebfe",
                "1110825b.ff9dae",
                "2edd8532.c4174a",
                "7d0103b3.4c420c"
            ]
        ]
    },
    {
        "id": "d83fdb95.a04bf8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "10 segundos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 10};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4267.0478515625,
        "y": 2658.778076171875,
        "wires": [
            [
                "d4392650.f12138",
                "de451e7a.9d6c6",
                "edd4cfa9.eebfe",
                "1110825b.ff9dae",
                "2edd8532.c4174a",
                "7d0103b3.4c420c"
            ]
        ]
    },
    {
        "id": "8c4ddc65.839c9",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "30 segundos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 30};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4272.0478515625,
        "y": 2729.778076171875,
        "wires": [
            [
                "2a5b91a3.f5d31e",
                "de451e7a.9d6c6",
                "edd4cfa9.eebfe",
                "1110825b.ff9dae",
                "2edd8532.c4174a",
                "7d0103b3.4c420c"
            ]
        ]
    },
    {
        "id": "423e9c2d.5724e4",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "1 minuto",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 60};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4273.047836303711,
        "y": 2797.7784729003906,
        "wires": [
            [
                "b595b298.395f",
                "de451e7a.9d6c6",
                "edd4cfa9.eebfe",
                "1110825b.ff9dae",
                "2edd8532.c4174a",
                "7d0103b3.4c420c"
            ]
        ]
    },
    {
        "id": "d3a9283b.e07588",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "5 minutos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"envia\": 300};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4282.047958374023,
        "y": 2862.000274658203,
        "wires": [
            [
                "9a4ac80b.6eff18",
                "de451e7a.9d6c6",
                "edd4cfa9.eebfe",
                "1110825b.ff9dae",
                "2edd8532.c4174a",
                "7d0103b3.4c420c"
            ]
        ]
    },
    {
        "id": "2ff2dd7d.9a5042",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 5 segundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 5 segundos",
        "parseMode": "",
        "x": 4550.94384765625,
        "y": 2407.6682739257812,
        "wires": []
    },
    {
        "id": "d4392650.f12138",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 10 segundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 10 segundos",
        "parseMode": "",
        "x": 4554.944076538086,
        "y": 2460.6694355010986,
        "wires": []
    },
    {
        "id": "2a5b91a3.f5d31e",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 30 segundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 30 segundos",
        "parseMode": "",
        "x": 4561.943954467773,
        "y": 2505.6693439483643,
        "wires": []
    },
    {
        "id": "b595b298.395f",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 1 minuto",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 1 minuto",
        "parseMode": "",
        "x": 4544.944076538086,
        "y": 2556.8910236358643,
        "wires": []
    },
    {
        "id": "9a4ac80b.6eff18",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 5 minutos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el tiempo en 5 minutos",
        "parseMode": "",
        "x": 4553.943832397461,
        "y": 2604.8901691436768,
        "wires": []
    },
    {
        "id": "e8cc7f8e.3d593",
        "type": "http request",
        "z": "b6a6fd6.bab9a",
        "name": "AEMET http request",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.aemet.es/xml/municipios/localidad_29067.xml",
        "tls": "",
        "x": 2416.198657989502,
        "y": 2772.112356185913,
        "wires": [
            [
                "68104835.c57d48"
            ]
        ]
    },
    {
        "id": "68104835.c57d48",
        "type": "xml",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 2638.1983528137207,
        "y": 2659.1124324798584,
        "wires": [
            [
                "bd69917.0a0717",
                "bf740ca2.bb73",
                "c9b3281a.ba9fb8",
                "940746a1.bccf28"
            ]
        ]
    },
    {
        "id": "bd69917.0a0717",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "fecha elaboracion",
        "rules": [
            {
                "t": "set",
                "p": "fecha",
                "pt": "global",
                "to": "payload.root.elaborado[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2878.498546600342,
        "y": 2465.1122312545776,
        "wires": [
            []
        ]
    },
    {
        "id": "cc602b5f.813708",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var cielo_hoy = global.get(\"cielo_hoy\");\nvar fecha = global.get(\"fecha\")\nvar lluvia_hoy = global.get(\"lluvia_hoy\")\nvar periodo = global.get(\"periodo\")\nmsg.payload.chatId =  1308127721;\nmsg.payload = \"hoy (\" +periodo+\") tendremos el cielo \"+cielo_hoy+\" y con una probabilidad de lluvias de \"+lluvia_hoy+\" % \\n\";\nmsg.payload +=\"Fecha de elaboracion: \"+fecha+ \"\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3204.498565673828,
        "y": 2607.112238883972,
        "wires": [
            [
                "3de24ba9.1f3964"
            ]
        ]
    },
    {
        "id": "25ac99c5.0ee426",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/prediccion",
        "bot": "407d7e26.e9903",
        "command": "/prediccion",
        "commandType": "str",
        "commandCase": false,
        "x": 1990.3073844909668,
        "y": 2811.11141204834,
        "wires": [
            [
                "d3ab4397.f7906",
                "e49b8ce6.0735b"
            ]
        ]
    },
    {
        "id": "3de24ba9.1f3964",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3372.498519897461,
        "y": 2607.1124029159546,
        "wires": []
    },
    {
        "id": "d3ab4397.f7906",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var hora = new Date().getHours();\nmsg.payload = hora;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2171.498302459717,
        "y": 2765.11141204834,
        "wires": [
            [
                "891a0bcc.01cb68"
            ]
        ]
    },
    {
        "id": "bf740ca2.bb73",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\n\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].prob_precipitacion[cont]._;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2865.498550415039,
        "y": 2512.1126680374146,
        "wires": [
            [
                "2eee1454.ef33ac"
            ]
        ]
    },
    {
        "id": "891a0bcc.01cb68",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "hora",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2281.498302459717,
        "y": 2717.11141204834,
        "wires": [
            []
        ]
    },
    {
        "id": "2eee1454.ef33ac",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3001.4985542297363,
        "y": 2515.112343788147,
        "wires": [
            []
        ]
    },
    {
        "id": "c9b3281a.ba9fb8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].estado_cielo[cont].$.descripcion;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2879.4982261657715,
        "y": 2605.112403869629,
        "wires": [
            [
                "d1c67d5.753398"
            ]
        ]
    },
    {
        "id": "d1c67d5.753398",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "estado cielo hoy",
        "rules": [
            {
                "t": "set",
                "p": "cielo_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3041.498447418213,
        "y": 2604.1124029159546,
        "wires": [
            [
                "cc602b5f.813708"
            ]
        ]
    },
    {
        "id": "940746a1.bccf28",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].estado_cielo[cont].$.periodo;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2881.4983291625977,
        "y": 2668.112190246582,
        "wires": [
            [
                "2fa1b16e.4617ae"
            ]
        ]
    },
    {
        "id": "2fa1b16e.4617ae",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "periodo",
        "rules": [
            {
                "t": "set",
                "p": "periodo",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3039.4982833862305,
        "y": 2673.112027168274,
        "wires": [
            []
        ]
    },
    {
        "id": "f1f76e94.b1919",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Esta funcion calcula la hora actual",
        "info": "",
        "x": 2272.4983978271484,
        "y": 2681.111452102661,
        "wires": []
    },
    {
        "id": "86033eb1.25197",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Recibo el comando",
        "info": "",
        "x": 4709.307140350342,
        "y": 2303.1111764907837,
        "wires": []
    },
    {
        "id": "fba53918.a70088",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "convierto en globales las variables que necesito",
        "info": "",
        "x": 3198.4986419677734,
        "y": 2472.112724304199,
        "wires": []
    },
    {
        "id": "adfb53a1.0cda7",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Para estas necesito primero elegir el periodo correcto",
        "info": "",
        "x": 3384.4983711242676,
        "y": 2694.1122465133667,
        "wires": []
    },
    {
        "id": "3b957cdc.5ae544",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Las junto todas en esta funcion y lo envio a telegram",
        "info": "",
        "x": 3355.498561859131,
        "y": 2539.1122369766235,
        "wires": []
    },
    {
        "id": "e49b8ce6.0735b",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch prediccion",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que prediccion quieres ver?",
        "answers": [
            "hoy",
            "mañana",
            "Pasado mañana"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2186.9764404296875,
        "y": 2845.334228515625,
        "wires": [
            [
                "e8cc7f8e.3d593"
            ],
            [
                "33ab5bda.17dd54"
            ],
            [
                "fe5fef1.5ab871"
            ],
            [
                "242d8e40.4ea0e2"
            ]
        ]
    },
    {
        "id": "33ab5bda.17dd54",
        "type": "http request",
        "z": "b6a6fd6.bab9a",
        "name": "AEMET http request",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.aemet.es/xml/municipios/localidad_29067.xml",
        "tls": "",
        "x": 2414.643352508545,
        "y": 2836.8895778656006,
        "wires": [
            [
                "43129129.01487"
            ]
        ]
    },
    {
        "id": "43129129.01487",
        "type": "xml",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 2656.6435050964355,
        "y": 2774.8895082473755,
        "wires": [
            [
                "7666660e.48c2f8",
                "4e4eb8f7.265c28",
                "ac0fab28.a2c3f8"
            ]
        ]
    },
    {
        "id": "7666660e.48c2f8",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "estado cielo mañana",
        "rules": [
            {
                "t": "set",
                "p": "cielo_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[1].estado_cielo[0].$.descripcion",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2925.9431228637695,
        "y": 2724.8895959854126,
        "wires": [
            []
        ]
    },
    {
        "id": "4e4eb8f7.265c28",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "fecha elaboracion",
        "rules": [
            {
                "t": "set",
                "p": "fecha",
                "pt": "global",
                "to": "payload.root.elaborado[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2930.943290710449,
        "y": 2766.8895988464355,
        "wires": [
            [
                "35b5b73e.dbb248"
            ]
        ]
    },
    {
        "id": "ac0fab28.a2c3f8",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "lluvia mañana",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[1].prob_precipitacion[0]._",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2919.9432830810547,
        "y": 2807.8898191452026,
        "wires": [
            []
        ]
    },
    {
        "id": "db155e72.cd63e",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var cielo_manana = global.get(\"cielo_manana\");\nvar lluvia_manana = global.get(\"lluvia_manana\")\nvar fecha = global.get(\"fecha\")\nvar periodo = global.get(\"periodo\")\nmsg.payload.chatId =  1308127721;\nmsg.payload = \"Mañana tendremos el cielo \"+cielo_manana+\" y con una probabilidad de lluvias de \"+lluvia_manana+\" % \\n\";\nmsg.payload +=\"Fecha de elaboracion: \"+fecha+ \"\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3376.943458557129,
        "y": 2887.889594078064,
        "wires": [
            [
                "71a8080d.f3e5c8"
            ]
        ]
    },
    {
        "id": "71a8080d.f3e5c8",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3565.943950653076,
        "y": 2884.889594078064,
        "wires": []
    },
    {
        "id": "35b5b73e.dbb248",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\n\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].prob_precipitacion[cont]._;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3209.9433364868164,
        "y": 2884.8897771835327,
        "wires": [
            [
                "c2fe150e.041258",
                "db155e72.cd63e"
            ]
        ]
    },
    {
        "id": "c2fe150e.041258",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3244.9433364868164,
        "y": 2821.8897161483765,
        "wires": [
            []
        ]
    },
    {
        "id": "bb634e98.95cb2",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "convierto en globales las variables que necesito",
        "info": "",
        "x": 3267.942886352539,
        "y": 2762.8897676467896,
        "wires": []
    },
    {
        "id": "14ae0cdb.522943",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Las junto todas en esta funcion y lo envio a telegram",
        "info": "",
        "x": 3498.944065093994,
        "y": 2816.889899253845,
        "wires": []
    },
    {
        "id": "c8d280ce.76585",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "estado cielo pasado mañana",
        "rules": [
            {
                "t": "set",
                "p": "cielo_pasado_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[2].estado_cielo[0].$.descripcion",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2940.699775695801,
        "y": 2965.5243158340454,
        "wires": [
            []
        ]
    },
    {
        "id": "bf020ac7.3ecfa8",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "lluvia pasado mañana",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_pasado_manana",
                "pt": "global",
                "to": "payload.root.prediccion[0].dia[2].prob_precipitacion[0]._",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2954.699592590332,
        "y": 3068.5243158340454,
        "wires": [
            [
                "f2d87ebf.7950c"
            ]
        ]
    },
    {
        "id": "fe5fef1.5ab871",
        "type": "http request",
        "z": "b6a6fd6.bab9a",
        "name": "AEMET http request",
        "method": "GET",
        "ret": "txt",
        "url": "http://www.aemet.es/xml/municipios/localidad_29067.xml",
        "tls": "",
        "x": 2436.6993293762207,
        "y": 2893.524099246366,
        "wires": [
            [
                "5b57a5d8.04bb7c"
            ]
        ]
    },
    {
        "id": "5b57a5d8.04bb7c",
        "type": "xml",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "attr": "",
        "chr": "",
        "x": 2672.6993827819824,
        "y": 2917.523952484131,
        "wires": [
            [
                "f6399945.2196b8",
                "1455fca1.8160b3",
                "c8d280ce.76585",
                "bf020ac7.3ecfa8"
            ]
        ]
    },
    {
        "id": "f6399945.2196b8",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "fecha elaboracion",
        "rules": [
            {
                "t": "set",
                "p": "fecha",
                "pt": "global",
                "to": "payload.root.elaborado[0]",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2958.9997024536133,
        "y": 3014.5243158340454,
        "wires": [
            []
        ]
    },
    {
        "id": "f2d87ebf.7950c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var cielo_pasado_manana = global.get(\"cielo_pasado_manana\");\nvar lluvia_pasado_manana = global.get(\"lluvia_pasado_manana\")\nvar fecha = global.get(\"fecha\")\nvar periodo = global.get(\"periodo\")\nmsg.payload.chatId =  1308127721;\nmsg.payload = \"Pasado mañana tendremos el cielo \"+cielo_pasado_manana+\" y con una probabilidad de lluvias de \"+lluvia_pasado_manana+\" % \\n\";\nmsg.payload +=\"Fecha de elaboracion: \"+fecha+ \"\\n\";\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3162.999454498291,
        "y": 3180.5245599746704,
        "wires": [
            [
                "b6c77b64.967628"
            ]
        ]
    },
    {
        "id": "b6c77b64.967628",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3350.9999656677246,
        "y": 3100.524061203003,
        "wires": []
    },
    {
        "id": "1455fca1.8160b3",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var hora = global.get(\"hora\");\nvar cont = 0;\n\nif (hora >= 07 && hora <=12)\ncont = 5;\nelse if (hora >=13 && hora <= 18)\ncont=6;\nelse if (hora>=19 && hora <=24)\ncont=3;\nelse cont=4;\nmsg.payload = msg.payload.root.prediccion[0].dia[0].prob_precipitacion[cont]._;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2946.9990882873535,
        "y": 3158.5245599746704,
        "wires": [
            [
                "fdec8ebe.fec3d"
            ]
        ]
    },
    {
        "id": "fdec8ebe.fec3d",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "hora",
        "rules": [
            {
                "t": "set",
                "p": "lluvia_hoy",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 3145.9996376037598,
        "y": 3090.524437904358,
        "wires": [
            []
        ]
    },
    {
        "id": "79536b22.5b8844",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Las junto todas en esta funcion y lo envio a telegram",
        "info": "",
        "x": 3408.000015258789,
        "y": 3045.524389266968,
        "wires": []
    },
    {
        "id": "f91148fb.64ccf8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4722.999782562256,
        "y": 2105.1895780563354,
        "wires": []
    },
    {
        "id": "2e44f95c.def036",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/configuracion",
        "bot": "407d7e26.e9903",
        "command": "/configuracion",
        "commandType": "str",
        "commandCase": false,
        "x": 3656.055461883545,
        "y": 2139.5371351242065,
        "wires": [
            [
                "5a18311b.41be"
            ]
        ]
    },
    {
        "id": "5a18311b.41be",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch pwm",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que tiempo de pwm de datos quieres?",
        "answers": [
            "5 milisegundos",
            "10 milisegundos",
            "100 milisegundos",
            "200 milisegundos",
            "500 milisegundos"
        ],
        "outputs": 6,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3892.055419921875,
        "y": 2141.3154296875,
        "wires": [
            [
                "5558da42.b2f794"
            ],
            [
                "fbaa0fe9.da1bf"
            ],
            [
                "349b7335.9f483c"
            ],
            [
                "23e0f5da.7ffc2a"
            ],
            [
                "4bc69aba.2e6924"
            ],
            [
                "83e4c6bc.064b18"
            ]
        ]
    },
    {
        "id": "5558da42.b2f794",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "5 milisegundos",
        "func": "\nmsg.payload= {\"velocidad\": 5};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4154.95166015625,
        "y": 2041.203125,
        "wires": [
            [
                "f91148fb.64ccf8",
                "e5bd2332.840c6",
                "3ce772d3.14a69e",
                "b9bfa734.f05cf8",
                "1e6f1d5.0f27de3",
                "459b04ad.c18d2c"
            ]
        ]
    },
    {
        "id": "fbaa0fe9.da1bf",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "10 milisegundos",
        "func": "\n\nmsg.payload= {\"velocidad\": 10};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4162.055419921875,
        "y": 2108.203369140625,
        "wires": [
            [
                "f91148fb.64ccf8",
                "814fe3c8.ff16f",
                "3ce772d3.14a69e",
                "b9bfa734.f05cf8",
                "1e6f1d5.0f27de3",
                "459b04ad.c18d2c"
            ]
        ]
    },
    {
        "id": "349b7335.9f483c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "100 milisegundos",
        "func": "\n\nmsg.payload= {\"velocidad\": 100};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4179.055446624756,
        "y": 2176.2033109664917,
        "wires": [
            [
                "eb92a907.7e5218",
                "f91148fb.64ccf8",
                "3ce772d3.14a69e",
                "b9bfa734.f05cf8",
                "1e6f1d5.0f27de3",
                "459b04ad.c18d2c"
            ]
        ]
    },
    {
        "id": "23e0f5da.7ffc2a",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "200 milisegundos",
        "func": "\n\nmsg.payload= {\"velocidad\": 200};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4186.055419921875,
        "y": 2241.203369140625,
        "wires": [
            [
                "fc3b38b8.e27ae8",
                "f91148fb.64ccf8",
                "3ce772d3.14a69e",
                "b9bfa734.f05cf8",
                "1e6f1d5.0f27de3",
                "459b04ad.c18d2c"
            ]
        ]
    },
    {
        "id": "4bc69aba.2e6924",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "500 milisegundos",
        "func": "\n\nmsg.payload= {\"velocidad\": 500};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4187.055419921875,
        "y": 2305.425537109375,
        "wires": [
            [
                "80b2c12e.b6043",
                "f91148fb.64ccf8",
                "3ce772d3.14a69e",
                "b9bfa734.f05cf8",
                "1e6f1d5.0f27de3",
                "459b04ad.c18d2c"
            ]
        ]
    },
    {
        "id": "eb92a907.7e5218",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 100 milisegundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 100 milisegundos",
        "parseMode": "",
        "x": 4592.951602935791,
        "y": 1952.0944471359253,
        "wires": []
    },
    {
        "id": "fc3b38b8.e27ae8",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 200 milisegundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 200 milisegundos",
        "parseMode": "",
        "x": 4594.951602935791,
        "y": 2003.3163003921509,
        "wires": []
    },
    {
        "id": "80b2c12e.b6043",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 500 milisegundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 500 milisegundos",
        "parseMode": "",
        "x": 4595.951606750488,
        "y": 2047.3158121109009,
        "wires": []
    },
    {
        "id": "e5bd2332.840c6",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 5 milisegundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 5 milisegundos",
        "parseMode": "",
        "x": 4584.895664215088,
        "y": 1872.00004196167,
        "wires": []
    },
    {
        "id": "814fe3c8.ff16f",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 10 milisegundos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido el pwm en 10 milisegundos",
        "parseMode": "",
        "x": 4591.895694732666,
        "y": 1910.9993810653687,
        "wires": []
    },
    {
        "id": "a4f0f180.5f155",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "prediccion",
        "links": [
            "816c814a.25976"
        ],
        "x": 1973.3830680847168,
        "y": 2887.67244720459,
        "wires": [
            [
                "e49b8ce6.0735b"
            ]
        ]
    },
    {
        "id": "816c814a.25976",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "prediccion",
        "links": [
            "a4f0f180.5f155"
        ],
        "x": 588.3907451629639,
        "y": 506.7740993499756,
        "wires": []
    },
    {
        "id": "b1e87929.364d98",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "pwm",
        "links": [
            "31527604.7bd99a"
        ],
        "x": 587.3867769241333,
        "y": 549.7620763778687,
        "wires": []
    },
    {
        "id": "31527604.7bd99a",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "b1e87929.364d98"
        ],
        "x": 3719.378837585449,
        "y": 2076.3379101753235,
        "wires": [
            [
                "5a18311b.41be"
            ]
        ]
    },
    {
        "id": "9ab85234.69824",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "apagar",
        "links": [
            "5c26c9f0.3d4948"
        ],
        "x": 427.3828411102295,
        "y": 175.76206398010254,
        "wires": []
    },
    {
        "id": "5c26c9f0.3d4948",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "apagar",
        "links": [
            "9ab85234.69824"
        ],
        "x": 85.39062690734863,
        "y": 2809.6684188842773,
        "wires": [
            [
                "cc37426a.97894"
            ]
        ]
    },
    {
        "id": "c64e6401.daea98",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "estado",
        "links": [
            "901c3215.5989c"
        ],
        "x": 428.3828411102295,
        "y": 224.7737865447998,
        "wires": []
    },
    {
        "id": "901c3215.5989c",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "c64e6401.daea98"
        ],
        "x": 3624.3905391693115,
        "y": 171.42194747924805,
        "wires": [
            [
                "e6203c57.26c88"
            ]
        ]
    },
    {
        "id": "cbba333c.04e21",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "encender",
        "links": [
            "b90845c5.a3c9c8"
        ],
        "x": 424.37500953674316,
        "y": 129.52378463745117,
        "wires": []
    },
    {
        "id": "b90845c5.a3c9c8",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "encender",
        "links": [
            "cbba333c.04e21"
        ],
        "x": 494.3789014816284,
        "y": 1200.406244277954,
        "wires": [
            [
                "443d8dda.c889b4"
            ]
        ]
    },
    {
        "id": "433e4263.d4dd8c",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Elige el nivel de la cocina",
        "info": "e",
        "x": 912.7656364440918,
        "y": 149.75002670288086,
        "wires": []
    },
    {
        "id": "4cab7d6d.ed6404",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Elige el nivel de la habitacion",
        "info": "e",
        "x": 960.7656364440918,
        "y": 669.7500267028809,
        "wires": []
    },
    {
        "id": "552628b6.10fa98",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Elige el nivel del salon",
        "info": "e",
        "x": 1039.7656364440918,
        "y": 1112.7500839233398,
        "wires": []
    },
    {
        "id": "b11cc951.7203e8",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Elige el nivel del baño",
        "info": "e",
        "x": 1007.765739440918,
        "y": 1502.7500190734863,
        "wires": []
    },
    {
        "id": "2ec23f96.c2964",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Elige el nivel de todas las habitaciones",
        "info": "e",
        "x": 1101.7655944824219,
        "y": 1964.749987602234,
        "wires": []
    },
    {
        "id": "fc420ac7.3d25b8",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "velocidad de respuesta del pwm",
        "info": "",
        "x": 3896.1405296325684,
        "y": 2035.263632774353,
        "wires": []
    },
    {
        "id": "50309b0.01a7f64",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Cocina",
        "info": "",
        "x": 4166.849422454834,
        "y": 4078.252639770508,
        "wires": []
    },
    {
        "id": "8db78aea.6032b8",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Salón",
        "info": "",
        "x": 4127.09871673584,
        "y": 4300.251315116882,
        "wires": []
    },
    {
        "id": "1411993a.36aa67",
        "type": "ui_led",
        "z": "b6a6fd6.bab9a",
        "group": "d663aec0.fe33b",
        "order": 5,
        "width": "5",
        "height": "1",
        "label": "Puerta abierta (ROJO) / Puerta cerrada (VERDE)",
        "labelPlacement": "left",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 655.099365234375,
        "y": 4720.108776092529,
        "wires": []
    },
    {
        "id": "4dfc16c1.1e0dc8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Temp/Hum salon",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4092.098747253418,
        "y": 4350.251691818237,
        "wires": [
            [
                "a0812f4a.973b3",
                "be6c64de.a6fbb8"
            ],
            [
                "1f18a783.b863a8",
                "192a2930.9bf477"
            ],
            [
                "2a0db64f.b744ba",
                "49a33b1d.d8c764",
                "e5884feb.347b5"
            ]
        ]
    },
    {
        "id": "834afba1.cf68b8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Temp/Hum cocina",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4158.098747253418,
        "y": 4132.251684188843,
        "wires": [
            [
                "19273a97.3d76d5",
                "2b6d1ade.a64d16"
            ],
            [
                "b7581fe3.5a95a",
                "52e599c2.b6a5d8"
            ],
            [
                "b3f63961.888808",
                "b715e8fe.fec3c8",
                "463f7649.ed4e28"
            ]
        ]
    },
    {
        "id": "ba488eea.41c15",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Puerta",
        "func": "var puerta = msg.payload.VL53L0X;\nif (puerta <= 200 )\n\nmsg={\"payload\": 1 , \"topic\": \"Puerta\"};\n\nelse\n\nmsg={\"payload\": 0 , \"topic\": \"Puerta\"};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 526.0990791320801,
        "y": 4721.251679420471,
        "wires": [
            [
                "1411993a.36aa67"
            ]
        ]
    },
    {
        "id": "50171cd2.dad344",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "salon",
        "links": [
            "40427554.fae22c"
        ],
        "x": 529.3867444992065,
        "y": 4090.0201711654663,
        "wires": []
    },
    {
        "id": "40427554.fae22c",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "salon",
        "links": [
            "50171cd2.dad344"
        ],
        "x": 3911.7120265960693,
        "y": 4343.911848068237,
        "wires": [
            [
                "4dfc16c1.1e0dc8"
            ]
        ]
    },
    {
        "id": "bde3275b.aeaa98",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "cocina",
        "links": [
            "be8b2086.958dc"
        ],
        "x": 504.7656373977661,
        "y": 3820.2502975463867,
        "wires": []
    },
    {
        "id": "be8b2086.958dc",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "cocina",
        "links": [
            "bde3275b.aeaa98"
        ],
        "x": 4006.090892791748,
        "y": 4127.14248085022,
        "wires": [
            [
                "834afba1.cf68b8"
            ]
        ]
    },
    {
        "id": "b3f63961.888808",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "2698f6e4.59cfda",
        "order": 13,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "cocina",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4386.666748046875,
        "y": 4172.002154350281,
        "wires": []
    },
    {
        "id": "2a0db64f.b744ba",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "2698f6e4.59cfda",
        "order": 9,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "salon",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4278.666328430176,
        "y": 4382.001319885254,
        "wires": []
    },
    {
        "id": "8909523.ce1d5b",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "------------------DASHBOARD------------------",
        "info": "",
        "x": 4347.333099365234,
        "y": 3971.334536552429,
        "wires": []
    },
    {
        "id": "91655768.5f6528",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "------------------RECOGIDA DE DATOS------------------",
        "info": "",
        "x": 445.6666564941406,
        "y": 3702.33349609375,
        "wires": []
    },
    {
        "id": "bd0f125.3f2e7f",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "------------------PREDICCION------------------",
        "info": "",
        "x": 2887.1915740966797,
        "y": 2421.000594139099,
        "wires": []
    },
    {
        "id": "e18692a.4cebf7",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "tiempo de recogida de datos",
        "info": "e",
        "x": 4066.047966003418,
        "y": 2550.000078201294,
        "wires": []
    },
    {
        "id": "7febd0f4.c6a86",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch bienvenida",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Aqui tienes mas opciones",
        "answers": [
            "actualizacion",
            "Prediccion",
            "Configuracion"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 409.76563262939453,
        "y": 524.7499923706055,
        "wires": [
            [
                "b5e70ccc.29844"
            ],
            [
                "816c814a.25976"
            ],
            [
                "b1e87929.364d98"
            ],
            []
        ]
    },
    {
        "id": "91e57dc0.9c147",
        "type": "delay",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 187.00000762939453,
        "y": 501.37889289855957,
        "wires": [
            [
                "7febd0f4.c6a86",
                "37207d09.bd2f72"
            ]
        ]
    },
    {
        "id": "a49f8695.7e1978",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/switch",
        "bot": "407d7e26.e9903",
        "command": "/switch",
        "commandType": "str",
        "commandCase": false,
        "x": 3589.7668647766113,
        "y": 881.4158964157104,
        "wires": [
            [
                "25b81ebd.01df22"
            ]
        ]
    },
    {
        "id": "ab27013d.109af",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4177.7663497924805,
        "y": 553.4158697128296,
        "wires": [
            [
                "ef5502bb.44f27"
            ]
        ]
    },
    {
        "id": "ee368bc3.2de0a8",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch switch salon",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el switch del salon?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3951.765884399414,
        "y": 546.4158563613892,
        "wires": [
            [
                "ab27013d.109af"
            ],
            [
                "f062816a.f5efc"
            ],
            [
                "f4d74bfe.e35cc8"
            ]
        ]
    },
    {
        "id": "f062816a.f5efc",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4187.765983581543,
        "y": 607.4158554077148,
        "wires": [
            [
                "55927cfc.c903e4"
            ]
        ]
    },
    {
        "id": "760758d1.30b378",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4641.266563415527,
        "y": 561.3064956665039,
        "wires": []
    },
    {
        "id": "c4c82085.96ac",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "switch",
        "links": [
            "fd27cfbe.ebe2b"
        ],
        "x": 3596.266366958618,
        "y": 825.4159288406372,
        "wires": [
            [
                "25b81ebd.01df22"
            ]
        ]
    },
    {
        "id": "ef5502bb.44f27",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4347.16703414917,
        "y": 539.6658716201782,
        "wires": [
            [
                "760758d1.30b378",
                "48366918.f34898"
            ]
        ]
    },
    {
        "id": "55927cfc.c903e4",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4368.166858673096,
        "y": 598.6658487319946,
        "wires": [
            [
                "760758d1.30b378",
                "91b9c857.6c1cf8"
            ]
        ]
    },
    {
        "id": "91b9c857.6c1cf8",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha encendido el led del salon",
        "parseMode": "",
        "x": 4581.000389099121,
        "y": 612.665867805481,
        "wires": []
    },
    {
        "id": "48366918.f34898",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha apagado el led del salon",
        "parseMode": "",
        "x": 4567.000389099121,
        "y": 509.6658983230591,
        "wires": []
    },
    {
        "id": "921af297.98632",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4186.3336181640625,
        "y": 667.6658754348755,
        "wires": [
            [
                "5799071c.144a38"
            ]
        ]
    },
    {
        "id": "5799071c.144a38",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4372.33362197876,
        "y": 663.6658754348755,
        "wires": [
            [
                "760758d1.30b378"
            ]
        ]
    },
    {
        "id": "40cd6f0b.5d233",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio dashboard salon",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4222.000732421875,
        "y": 4458.334928512573,
        "wires": [
            [
                "b6af2d44.3feea"
            ]
        ]
    },
    {
        "id": "b6af2d44.3feea",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4399.000049591064,
        "y": 4467.334391593933,
        "wires": [
            [
                "cba883c1.42a7"
            ]
        ]
    },
    {
        "id": "6e4b3f30.e3c18",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio dashboard cocina",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4170.000129699707,
        "y": 4231.334922790527,
        "wires": [
            [
                "210997f4.baca38"
            ]
        ]
    },
    {
        "id": "210997f4.baca38",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4355.000045776367,
        "y": 4233.334383964539,
        "wires": [
            [
                "a008c3b3.0a534"
            ]
        ]
    },
    {
        "id": "129688bc.957917",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio dashboard habitacion",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4154.0006103515625,
        "y": 4701.334774017334,
        "wires": [
            [
                "8f53997a.09ec58"
            ]
        ]
    },
    {
        "id": "8f53997a.09ec58",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4363.000793457031,
        "y": 4709.334991455078,
        "wires": [
            [
                "6784ec93.c636e4"
            ]
        ]
    },
    {
        "id": "f74734d5.0d9068",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio dashboard baño",
        "func": "var luz = msg.payload\nmsg.payload = {}\nmsg.payload = {\"level\": luz}\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4109.0007247924805,
        "y": 4979.334458351135,
        "wires": [
            [
                "8e1ae5ec.8ecdf8"
            ]
        ]
    },
    {
        "id": "8e1ae5ec.8ecdf8",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4277.000347137451,
        "y": 4950.334285736084,
        "wires": [
            [
                "4cab5d17.017874"
            ]
        ]
    },
    {
        "id": "a008c3b3.0a534",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4610.000717163086,
        "y": 4229.3351402282715,
        "wires": []
    },
    {
        "id": "6784ec93.c636e4",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4587.000637054443,
        "y": 4677.334882736206,
        "wires": []
    },
    {
        "id": "4cab5d17.017874",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4545.0003662109375,
        "y": 4959.334384918213,
        "wires": []
    },
    {
        "id": "cba883c1.42a7",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4660.00048828125,
        "y": 4449.333984375,
        "wires": []
    },
    {
        "id": "91f3222e.4f8b7",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Habitación",
        "info": "",
        "x": 4106.43172454834,
        "y": 4540.001377105713,
        "wires": []
    },
    {
        "id": "e416497c.b774e8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Temp/Hum habitacion",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4083.4317474365234,
        "y": 4599.001699447632,
        "wires": [
            [
                "f28d73ff.6d969",
                "a481795d.811bf8"
            ],
            [
                "59c86deb.817334",
                "17607cd6.275703"
            ],
            [
                "10fecbd3.edf6a4",
                "81ec5b3d.594a78",
                "563a3063.aee26"
            ]
        ]
    },
    {
        "id": "1d9784d1.c8130b",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "habitacion",
        "links": [
            "c087d39c.1cac8"
        ],
        "x": 3899.0450286865234,
        "y": 4587.661855697632,
        "wires": [
            [
                "e416497c.b774e8"
            ]
        ]
    },
    {
        "id": "10fecbd3.edf6a4",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "2698f6e4.59cfda",
        "order": 10,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "habitacion",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4333.000144958496,
        "y": 4635.751111030579,
        "wires": []
    },
    {
        "id": "c087d39c.1cac8",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "habitacion",
        "links": [
            "1d9784d1.c8130b"
        ],
        "x": 509.99998474121094,
        "y": 3924.6667795181274,
        "wires": []
    },
    {
        "id": "346b3bc8.f02bd4",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/Peligro",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 152.00004196166992,
        "y": 4813.000755310059,
        "wires": [
            [
                "9b152ee0.5864b"
            ]
        ]
    },
    {
        "id": "9b152ee0.5864b",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 399.0000801086426,
        "y": 4812.000755310059,
        "wires": [
            [
                "7e8733a4.745b1c",
                "6f74a549.e2c66c",
                "192c4096.168b3f",
                "8121c9ee.755a68",
                "df63927f.e0786",
                "f985e175.faecd"
            ]
        ]
    },
    {
        "id": "7e8733a4.745b1c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "CO",
        "func": "var CO=msg.payload.CO\n\n\nif (CO == 1)\nmsg.payload = \"peligro bajo de CO en la cocina\"\nif (CO == 2)\nmsg.payload =\"peligro medio de CO en la cocina\"\nif (CO == 3)\nmsg.payload=\"peligro alto de CO en la cocina\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 565.8334083557129,
        "y": 4775.334283828735,
        "wires": [
            [
                "b55aeea1.dba72"
            ]
        ]
    },
    {
        "id": "b55aeea1.dba72",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 757.000186920166,
        "y": 4815.334115982056,
        "wires": []
    },
    {
        "id": "6f74a549.e2c66c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta CO",
        "func": "var CO=msg.payload.CO\n\nif (CO === 0)\nmsg.payload = 0\nif (CO == 1)\nmsg.payload = 1\nif (CO == 2)\nmsg.payload = 2\nif (CO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 594.0001564025879,
        "y": 4898.000709533691,
        "wires": [
            [
                "3ccf17ce.859338"
            ]
        ]
    },
    {
        "id": "3ccf17ce.859338",
        "type": "ui_led",
        "z": "b6a6fd6.bab9a",
        "group": "3c99888e.a2a758",
        "order": 4,
        "width": "2",
        "height": "1",
        "label": "CO",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 788.000186920166,
        "y": 4894.001008987427,
        "wires": []
    },
    {
        "id": "192c4096.168b3f",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta LPG",
        "func": "var LPG=msg.payload.LPG\n\nif (LPG === 0)\nmsg.payload = 0\nif (LPG == 1)\nmsg.payload = 1\nif (LPG == 2)\nmsg.payload = 2\nif (LPG == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 601.8335113525391,
        "y": 4937.334344863892,
        "wires": [
            [
                "6ef68c96.bc9be4"
            ]
        ]
    },
    {
        "id": "6ef68c96.bc9be4",
        "type": "ui_led",
        "z": "b6a6fd6.bab9a",
        "group": "3c99888e.a2a758",
        "order": 4,
        "width": "2",
        "height": "1",
        "label": "LPG",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 785.000186920166,
        "y": 4932.334344863892,
        "wires": []
    },
    {
        "id": "8121c9ee.755a68",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta HUMO",
        "func": "var HUMO=msg.payload.Humo\n\nif (HUMO === 0)\nmsg.payload = 0\nif (HUMO == 1)\nmsg.payload = 1\nif (HUMO == 2)\nmsg.payload = 2\nif (HUMO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 615.0001792907715,
        "y": 4977.334344863892,
        "wires": [
            [
                "b81b50af.e0a8e"
            ]
        ]
    },
    {
        "id": "b81b50af.e0a8e",
        "type": "ui_led",
        "z": "b6a6fd6.bab9a",
        "group": "3c99888e.a2a758",
        "order": 4,
        "width": "2",
        "height": "1",
        "label": "Humo",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 781.000186920166,
        "y": 4978.33434677124,
        "wires": []
    },
    {
        "id": "edd4cfa9.eebfe",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4822.16618347168,
        "y": 2861.0003986358643,
        "wires": []
    },
    {
        "id": "3ce772d3.14a69e",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4708.007106781006,
        "y": 2152.554690361023,
        "wires": []
    },
    {
        "id": "959cdb1.cad6e28",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch actualiza",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Y por último, ¿Que tiempo de actualizacion de datos quieres?",
        "answers": [
            "manual",
            "60 minutos",
            "120 minutos",
            "240 minutos"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4163.499588012695,
        "y": 3029.445022583008,
        "wires": [
            [
                "94e199a7.7ea918"
            ],
            [
                "6bc92cbd.8348d4"
            ],
            [
                "fd54733f.8bf25"
            ],
            [
                "ba3c0c59.87f54"
            ],
            [
                "e164169.3b5cce8"
            ]
        ]
    },
    {
        "id": "6bc92cbd.8348d4",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "60 minutos",
        "func": "\n\nmsg.payload= {\"actualiza\": 60};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4368.395332336426,
        "y": 3026.332962036133,
        "wires": [
            [
                "ea1f774f.a6a2e8",
                "7ca06424.8ab91c",
                "9c1c6bdb.733f28",
                "bc3d01a.dac7",
                "fa909b34.5501a8",
                "e4cc0e85.ee20d"
            ]
        ]
    },
    {
        "id": "fd54733f.8bf25",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "120 minutos",
        "func": "\n\nmsg.payload= {\"actualiza\": 120};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4375.499336242676,
        "y": 3122.332962036133,
        "wires": [
            [
                "63986556.53445c",
                "7ca06424.8ab91c",
                "9c1c6bdb.733f28",
                "bc3d01a.dac7",
                "fa909b34.5501a8",
                "e4cc0e85.ee20d"
            ]
        ]
    },
    {
        "id": "ba3c0c59.87f54",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "240 minutos",
        "func": "//msg.payload=msg.mensaje;\n\nmsg.payload= {\"actualiza\": 240};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4383.499336242676,
        "y": 3216.332962036133,
        "wires": [
            [
                "d3b9ae4.c9d5f5",
                "7ca06424.8ab91c",
                "9c1c6bdb.733f28",
                "bc3d01a.dac7",
                "fa909b34.5501a8",
                "e4cc0e85.ee20d"
            ]
        ]
    },
    {
        "id": "94e199a7.7ea918",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "manual",
        "func": "\nmsg.payload= {\"actualiza\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4367.499824523926,
        "y": 2941.332962036133,
        "wires": [
            [
                "eefe71b2.7e671",
                "7ca06424.8ab91c",
                "9c1c6bdb.733f28",
                "bc3d01a.dac7",
                "fa909b34.5501a8",
                "e4cc0e85.ee20d"
            ]
        ]
    },
    {
        "id": "a329411c.465e1",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "tiempo de actualizacion",
        "info": "e",
        "x": 4152.499473571777,
        "y": 2962.555100440979,
        "wires": []
    },
    {
        "id": "eefe71b2.7e671",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta manual",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion manual",
        "parseMode": "",
        "x": 4711.388496398926,
        "y": 2919.556106567383,
        "wires": []
    },
    {
        "id": "ea1f774f.a6a2e8",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 60 minutos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion en 60 minutos",
        "parseMode": "",
        "x": 4733.388496398926,
        "y": 3015.556106567383,
        "wires": []
    },
    {
        "id": "63986556.53445c",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 120 minutos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion en 120 minutos",
        "parseMode": "",
        "x": 4722.388496398926,
        "y": 3107.556106567383,
        "wires": []
    },
    {
        "id": "d3b9ae4.c9d5f5",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta 240 minutos",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la actualizacion en 240 minutos",
        "parseMode": "",
        "x": 4745.388496398926,
        "y": 3188.556106567383,
        "wires": []
    },
    {
        "id": "7ca06424.8ab91c",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4785.000312805176,
        "y": 2967.778274536133,
        "wires": []
    },
    {
        "id": "9c1c6bdb.733f28",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4790.000312805176,
        "y": 3067.014358520508,
        "wires": []
    },
    {
        "id": "df63927f.e0786",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": " LPG",
        "func": "var LPG = msg.payload.LPG\n\nif (LPG == 1)\nmsg.payload = \"peligro bajo de LPG en la cocina\"\nif (LPG == 2)\nmsg.payload = \"peligro medio de LPG en la cocina\"\nif (LPG == 3)\nmsg.payload = \"peligro alto de LPG en la cocina\"\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 578.1702461242676,
        "y": 4808.5423374176025,
        "wires": [
            [
                "b55aeea1.dba72"
            ]
        ]
    },
    {
        "id": "f985e175.faecd",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Humo",
        "func": "var Humo = msg.payload.Humo\n\nif (Humo == 1)\nmsg.payload = \"peligro bajo de Humo en la cocina\"\nif (Humo == 2)\nmsg.payload = \"peligro medio de Humo en la cocina\"\nif (Humo == 3)\nmsg.payload = \"peligro alto de Humo en la cocina\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 585.1598129272461,
        "y": 4845.538875579834,
        "wires": [
            [
                "b55aeea1.dba72"
            ]
        ]
    },
    {
        "id": "a1159910.46dcf8",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/Peligro",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 1059.229377746582,
        "y": 4751.668270111084,
        "wires": [
            [
                "820ba1b5.b5dfb"
            ]
        ]
    },
    {
        "id": "820ba1b5.b5dfb",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1261.6736602783203,
        "y": 4783.6676235198975,
        "wires": [
            [
                "69fa1496.5e80ec",
                "e7458e2d.f4ebc",
                "33c75139.3e55ce",
                "f5e74b53.9b3548",
                "a3df7a38.1f0e08",
                "f2c9c439.acdb48"
            ]
        ]
    },
    {
        "id": "69fa1496.5e80ec",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "CO",
        "func": "var CO=msg.payload.CO\n\n\nif (CO == 1)\nmsg.payload = \"peligro bajo de CO en el salon\"\nif (CO == 2)\nmsg.payload =\"peligro medio de CO en el salon\"\nif (CO == 3)\nmsg.payload=\"peligro alto de CO en el salon\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1394.5071601867676,
        "y": 4706.000953674316,
        "wires": [
            [
                "9851fae7.a82248"
            ]
        ]
    },
    {
        "id": "9851fae7.a82248",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 1594.6739463806152,
        "y": 4736.001029968262,
        "wires": []
    },
    {
        "id": "e7458e2d.f4ebc",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta CO",
        "func": "var CO=msg.payload.CO\n\nif (CO === 0)\nmsg.payload = 0\nif (CO == 1)\nmsg.payload = 1\nif (CO == 2)\nmsg.payload = 2\nif (CO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1434.6736679077148,
        "y": 4858.66729927063,
        "wires": [
            [
                "48bb8670.16de98"
            ]
        ]
    },
    {
        "id": "48bb8670.16de98",
        "type": "ui_led",
        "z": "b6a6fd6.bab9a",
        "group": "c8594790.14e3d8",
        "order": 6,
        "width": "2",
        "height": "1",
        "label": "CO",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1633.6736526489258,
        "y": 4826.667697906494,
        "wires": []
    },
    {
        "id": "33c75139.3e55ce",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta LPG",
        "func": "var LPG=msg.payload.LPG\n\nif (LPG === 0)\nmsg.payload = 0\nif (LPG == 1)\nmsg.payload = 1\nif (LPG == 2)\nmsg.payload = 2\nif (LPG == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1442.507022857666,
        "y": 4898.00093460083,
        "wires": [
            [
                "6fe8ba29.b8b8d4"
            ]
        ]
    },
    {
        "id": "6fe8ba29.b8b8d4",
        "type": "ui_led",
        "z": "b6a6fd6.bab9a",
        "group": "c8594790.14e3d8",
        "order": 7,
        "width": "2",
        "height": "1",
        "label": "LPG",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1632.6736526489258,
        "y": 4864.000705718994,
        "wires": []
    },
    {
        "id": "f5e74b53.9b3548",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta HUMO",
        "func": "var HUMO=msg.payload.Humo\n\nif (HUMO === 0)\nmsg.payload = 0\nif (HUMO == 1)\nmsg.payload = 1\nif (HUMO == 2)\nmsg.payload = 2\nif (HUMO == 3)\nmsg.payload = 3\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1455.6736907958984,
        "y": 4938.00093460083,
        "wires": [
            [
                "4dd91bb0.5f76b4"
            ]
        ]
    },
    {
        "id": "4dd91bb0.5f76b4",
        "type": "ui_led",
        "z": "b6a6fd6.bab9a",
        "group": "c8594790.14e3d8",
        "order": 8,
        "width": "2",
        "height": "1",
        "label": "Humo",
        "labelPlacement": "right",
        "labelAlignment": "left",
        "colorForValue": [
            {
                "color": "red",
                "value": "3",
                "valueType": "num"
            },
            {
                "color": "orange",
                "value": "2",
                "valueType": "num"
            },
            {
                "color": "yellow",
                "value": "1",
                "valueType": "num"
            },
            {
                "color": "green",
                "value": "0",
                "valueType": "num"
            }
        ],
        "allowColorForValueInMessage": false,
        "name": "",
        "x": 1634.6736526489258,
        "y": 4904.000705718994,
        "wires": []
    },
    {
        "id": "a3df7a38.1f0e08",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": " LPG",
        "func": "var LPG = msg.payload.LPG\n\nif (LPG == 1)\nmsg.payload = \"peligro bajo de LPG en el salon\"\nif (LPG == 2)\nmsg.payload = \"peligro medio de LPG en el salon\"\nif (LPG == 3)\nmsg.payload = \"peligro alto de LPG en el salon\"\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1406.8439979553223,
        "y": 4739.209007263184,
        "wires": [
            [
                "9851fae7.a82248"
            ]
        ]
    },
    {
        "id": "f2c9c439.acdb48",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Humo",
        "func": "var Humo = msg.payload.Humo\n\nif (Humo == 1)\nmsg.payload = \"peligro bajo de Humo en el salon\"\nif (Humo == 2)\nmsg.payload = \"peligro medio de Humo en el salon\"\nif (Humo == 3)\nmsg.payload = \"peligro alto de Humo en el salon\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1413.8335647583008,
        "y": 4776.205545425415,
        "wires": [
            [
                "9851fae7.a82248"
            ]
        ]
    },
    {
        "id": "5c10e41a.b0d45c",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "calidad del aire del salon",
        "info": "",
        "x": 1076.0071487426758,
        "y": 4703.667294502258,
        "wires": []
    },
    {
        "id": "52275dfa.aa2de4",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/actualiza",
        "bot": "407d7e26.e9903",
        "command": "/actualiza",
        "commandType": "str",
        "commandCase": false,
        "x": 2175.055519104004,
        "y": 244.66705131530762,
        "wires": [
            [
                "32057679.338baa"
            ]
        ]
    },
    {
        "id": "32057679.338baa",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch actualiza",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Esta seguro de que quiere actualizar?",
        "answers": [
            "Sí",
            "Me lo he pensado mejor..."
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2354.055519104004,
        "y": 241.66705131530762,
        "wires": [
            [
                "2d512ded.dded72",
                "1aeb4ea5.904a01"
            ],
            [
                "8a75cf15.28685"
            ],
            [
                "8122b1a0.4690d"
            ]
        ]
    },
    {
        "id": "518db064.0dca4",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/FOTA",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 2881.500099182129,
        "y": 276.6670513153076,
        "wires": []
    },
    {
        "id": "51a11065.022e4",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/FOTA",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 2883.500099182129,
        "y": 337.6670513153076,
        "wires": []
    },
    {
        "id": "8a75cf15.28685",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta no",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha cancelado la actualizacion",
        "parseMode": "",
        "x": 2587.500099182129,
        "y": 283.6675395965576,
        "wires": []
    },
    {
        "id": "2d512ded.dded72",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta si",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se va a actualizar",
        "parseMode": "",
        "x": 2596.500099182129,
        "y": 173.66705131530762,
        "wires": []
    },
    {
        "id": "fd59fcb4.fd41a",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "actualiza2",
        "links": [
            "b5e70ccc.29844"
        ],
        "x": 2211.833106994629,
        "y": 197.77813529968262,
        "wires": [
            [
                "32057679.338baa"
            ]
        ]
    },
    {
        "id": "b5e70ccc.29844",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "actualiza",
        "links": [
            "fd59fcb4.fd41a"
        ],
        "x": 583.8958101272583,
        "y": 451.8888988494873,
        "wires": []
    },
    {
        "id": "1aeb4ea5.904a01",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "actualiza true",
        "func": "msg.payload = {\"actualiza\": true}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2590.437110900879,
        "y": 230.64263725280762,
        "wires": [
            [
                "518db064.0dca4",
                "51a11065.022e4",
                "6c4424a7.a6341c",
                "6b74b254.6ef06c"
            ]
        ]
    },
    {
        "id": "ca7768cb.2c82d8",
        "type": "mongodb out",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "payonly": true,
        "upsert": false,
        "multi": false,
        "operation": "store",
        "x": 887.8958587646484,
        "y": 3773.2224435806274,
        "wires": []
    },
    {
        "id": "cff4c03f.01279",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "baño",
        "info": "",
        "x": 4071.3331985473633,
        "y": 4806.334994316101,
        "wires": []
    },
    {
        "id": "4011808b.e4439",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Temp/Hum baño",
        "func": "var temp=msg.payload.DHT11.temp;\nvar hum=msg.payload.DHT11.hum;\nvar led=msg.payload.LED;\n\nmsg1={\"payload\":temp, \"topic\": \"Temperatura\"};\nmsg2={\"payload\":hum, \"topic\": \"Humedad\"};\nmsg3={\"payload\":led, \"topic\": \"level\"};\n\n\nreturn [msg1,msg2,msg3];",
        "outputs": 3,
        "noerr": 0,
        "x": 4061.3329849243164,
        "y": 4867.335066795349,
        "wires": [
            [
                "2b1ebd26.46c992",
                "4684707e.d31ae"
            ],
            [
                "88bafc42.6b655",
                "c874914b.73258"
            ],
            [
                "15ae3590.0905da",
                "453c06e8.4620d8",
                "2187fbae.d85024"
            ]
        ]
    },
    {
        "id": "9230863c.18d248",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "baño",
        "links": [
            "87457202.2fbf8"
        ],
        "x": 3896.9462661743164,
        "y": 4855.995223045349,
        "wires": [
            [
                "4011808b.e4439"
            ]
        ]
    },
    {
        "id": "15ae3590.0905da",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "2698f6e4.59cfda",
        "order": 11,
        "width": "3",
        "height": "3",
        "gtype": "compass",
        "title": "baño",
        "label": "%",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4297.9006996154785,
        "y": 4908.084046363831,
        "wires": []
    },
    {
        "id": "87457202.2fbf8",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "baño",
        "links": [
            "9230863c.18d248"
        ],
        "x": 523.5000281333923,
        "y": 4012.000069618225,
        "wires": []
    },
    {
        "id": "ba220e51.d7df",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/TemperaturaMax",
        "bot": "407d7e26.e9903",
        "command": "/TemperaturaMax",
        "commandType": "str",
        "commandCase": false,
        "x": 2089.333345413208,
        "y": 735.3334951400757,
        "wires": [
            [
                "675252b5.030e9c"
            ]
        ]
    },
    {
        "id": "675252b5.030e9c",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch temperatura",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Por favor elija la temperatura a la que quiere que le avisemos si se supera",
        "answers": [
            "30º ",
            "40º",
            "50º",
            "60º (No recomendado)"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2314.666748046875,
        "y": 735.33349609375,
        "wires": [
            [
                "2a150d8.ffce5f2"
            ],
            [
                "becfad11.33879"
            ],
            [
                "b9697e0a.56523"
            ],
            [
                "5086b0ae.f039e"
            ],
            [
                "3b101447.780cbc"
            ]
        ]
    },
    {
        "id": "2b9b19ee.aabc36",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura 30",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 30º",
        "parseMode": "",
        "x": 2764.0001544952393,
        "y": 564.3334951400757,
        "wires": []
    },
    {
        "id": "5c25d822.7d4448",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 732.3333206176758,
        "y": 1226.000005722046,
        "wires": []
    },
    {
        "id": "271c9ea2.1daca2",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1043.3333435058594,
        "y": 856.0000257492065,
        "wires": []
    },
    {
        "id": "7eba3c0b.87d3f4",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1074.3334045410156,
        "y": 1287.0000429153442,
        "wires": []
    },
    {
        "id": "a2d373f7.4927b",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1011.333423614502,
        "y": 1702.0000972747803,
        "wires": []
    },
    {
        "id": "6d98cd64.764034",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 1063.3334045410156,
        "y": 2225.333320617676,
        "wires": []
    },
    {
        "id": "75d15b75.bf3354",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 367.33331298828125,
        "y": 2961.33349609375,
        "wires": []
    },
    {
        "id": "3b101447.780cbc",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2369.000082015991,
        "y": 820.333498954773,
        "wires": []
    },
    {
        "id": "8122b1a0.4690d",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2416.667091369629,
        "y": 327.3337993621826,
        "wires": []
    },
    {
        "id": "e164169.3b5cce8",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4178.667045593262,
        "y": 3106.333915710449,
        "wires": []
    },
    {
        "id": "c198c49d.974f18",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4068.6668701171875,
        "y": 2797.3334999084473,
        "wires": []
    },
    {
        "id": "fa0c306b.0b98a",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3863.6667518615723,
        "y": 329.33332347869873,
        "wires": []
    },
    {
        "id": "242d8e40.4ea0e2",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2270.85799407959,
        "y": 2923.6668491363525,
        "wires": []
    },
    {
        "id": "83e4c6bc.064b18",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3952.666530609131,
        "y": 2226.6666898727417,
        "wires": []
    },
    {
        "id": "185ae380.0f958d",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura 40",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 40º",
        "parseMode": "",
        "x": 2780.0001544952393,
        "y": 638.0001821517944,
        "wires": []
    },
    {
        "id": "f7bc1cd8.0d2d6",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura 50",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 50º",
        "parseMode": "",
        "x": 2764.0001544952393,
        "y": 763.0001821517944,
        "wires": []
    },
    {
        "id": "5ab79d6b.477264",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura 60",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura maxima a 60º",
        "parseMode": "",
        "x": 2737.0001544952393,
        "y": 832.0001821517944,
        "wires": []
    },
    {
        "id": "3417cd33.041c52",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "TempMax",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2817.833433151245,
        "y": 697.0001621246338,
        "wires": [
            [
                "561f6d05.636df4",
                "d9bc52be.02fcb"
            ]
        ]
    },
    {
        "id": "2a150d8.ffce5f2",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 30",
        "func": "msg.payload = 30;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2555.8336505889893,
        "y": 552.3334951400757,
        "wires": [
            [
                "3417cd33.041c52",
                "2b9b19ee.aabc36"
            ]
        ]
    },
    {
        "id": "becfad11.33879",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 40",
        "func": "msg.payload = 40;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2542.0001544952393,
        "y": 640.3334951400757,
        "wires": [
            [
                "3417cd33.041c52",
                "185ae380.0f958d"
            ]
        ]
    },
    {
        "id": "b9697e0a.56523",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 50",
        "func": "msg.payload = 50;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2563.0001544952393,
        "y": 726.3334951400757,
        "wires": [
            [
                "3417cd33.041c52",
                "f7bc1cd8.0d2d6"
            ]
        ]
    },
    {
        "id": "5086b0ae.f039e",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 60",
        "func": "msg.payload = 60;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2550.000093460083,
        "y": 807.3335018157959,
        "wires": [
            [
                "3417cd33.041c52",
                "5ab79d6b.477264"
            ]
        ]
    },
    {
        "id": "ff65802d.150f5",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 163,
        "y": 4408.0004024505615,
        "wires": [
            [
                "75590470.221cfc"
            ]
        ]
    },
    {
        "id": "bdf71e24.6afbb",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 145,
        "y": 4454.0004024505615,
        "wires": [
            [
                "80ab5c90.8999c"
            ]
        ]
    },
    {
        "id": "75590470.221cfc",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 374.0000305175781,
        "y": 4406.000293731689,
        "wires": [
            [
                "33d5998d.1ba1b6"
            ]
        ]
    },
    {
        "id": "80ab5c90.8999c",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 369.00001525878906,
        "y": 4454.000284194946,
        "wires": [
            [
                "1e1f9d5b.a3e443"
            ]
        ]
    },
    {
        "id": "33d5998d.1ba1b6",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura salon",
        "func": "var deteccion = msg.payload.DHT11.temp;\nmsg.payload = null\n\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DEL SALON ES DEMASIADO ALTA \\n\";\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DEL SALON ES DEMASIADO BAJA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 541.0000152587891,
        "y": 4405.000284194946,
        "wires": [
            [
                "eb06e125.0b666",
                "9a017098.bcf6a"
            ]
        ]
    },
    {
        "id": "1e1f9d5b.a3e443",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura habitacion",
        "func": "var deteccion = msg.payload.DHT11.temp;\nmsg.payload = null\n\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DE LA HABITACION ES DEMASIADO ALTA \\n\";\n\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DE LA HABITACION ES DEMASIADO BAJA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 537.0000152587891,
        "y": 4453.000284194946,
        "wires": [
            [
                "eb06e125.0b666",
                "9a017098.bcf6a"
            ]
        ]
    },
    {
        "id": "115c3712.2d4659",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 733.3334159851074,
        "y": 4665.001352310181,
        "wires": []
    },
    {
        "id": "a325713.ad5c29",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 150,
        "y": 4501.0004024505615,
        "wires": [
            [
                "71bb1cd6.3927a4"
            ]
        ]
    },
    {
        "id": "71bb1cd6.3927a4",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 365.00001525878906,
        "y": 4497.000284194946,
        "wires": [
            [
                "5251a454.5f52ec"
            ]
        ]
    },
    {
        "id": "5251a454.5f52ec",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura WC",
        "func": "var deteccion = msg.payload.DHT11.temp;\nmsg.payload = null\n\nif (deteccion >= global.get(\"TempMax\"))\nmsg.payload = \"LA TEMPERATURA DEL BAÑO ES DEMASIADO ALTA, ¿QUE HAS COMIDO? \\n\";\n\nif (deteccion <= global.get(\"TempMin\"))\nmsg.payload = \"LA TEMPERATURA DEL BAÑO ES DEMASIADO BAJA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 546.0000152587891,
        "y": 4498.000284194946,
        "wires": [
            [
                "eb06e125.0b666",
                "9a017098.bcf6a"
            ]
        ]
    },
    {
        "id": "b9bfa734.f05cf8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4702.999782562256,
        "y": 2203.000033378601,
        "wires": []
    },
    {
        "id": "1e6f1d5.0f27de3",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4710.999782562256,
        "y": 2254.000033378601,
        "wires": []
    },
    {
        "id": "d7552ede.40f2f",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4277.999889373779,
        "y": 754.0001039505005,
        "wires": [
            [
                "bced22d5.628ce"
            ]
        ]
    },
    {
        "id": "74962b44.d6a814",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch switch cocina",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el switch de la cocina?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3996.9995040893555,
        "y": 788.0000867843628,
        "wires": [
            [
                "d7552ede.40f2f"
            ],
            [
                "6779338a.0d569c"
            ],
            [
                "2ea56096.5008d"
            ]
        ]
    },
    {
        "id": "6779338a.0d569c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4287.999523162842,
        "y": 808.0000896453857,
        "wires": [
            [
                "a47b7d53.76c0a"
            ]
        ]
    },
    {
        "id": "b11bc746.3890f8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4728.499717712402,
        "y": 756.8907232284546,
        "wires": []
    },
    {
        "id": "bced22d5.628ce",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4447.400573730469,
        "y": 740.2501058578491,
        "wires": [
            [
                "b11bc746.3890f8",
                "9c6dda11.0b2828"
            ]
        ]
    },
    {
        "id": "a47b7d53.76c0a",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4468.4003982543945,
        "y": 799.2500829696655,
        "wires": [
            [
                "b11bc746.3890f8",
                "30452652.76a63a"
            ]
        ]
    },
    {
        "id": "30452652.76a63a",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha encendido el led de la cocina",
        "parseMode": "",
        "x": 4671.233848571777,
        "y": 799.2500982284546,
        "wires": []
    },
    {
        "id": "9c6dda11.0b2828",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha apagado el led de la cocina",
        "parseMode": "",
        "x": 4659.234275817871,
        "y": 715.2501249313354,
        "wires": []
    },
    {
        "id": "27a83317.d98a8c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4286.567157745361,
        "y": 868.2501096725464,
        "wires": [
            [
                "5c03dbd0.30da64"
            ]
        ]
    },
    {
        "id": "5c03dbd0.30da64",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4472.567161560059,
        "y": 864.2501096725464,
        "wires": [
            [
                "b11bc746.3890f8"
            ]
        ]
    },
    {
        "id": "25b81ebd.01df22",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch switch ",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que switch quieres tocar?",
        "answers": [
            "salon",
            "cocina",
            "habitacion",
            "wc"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3753.0002937316895,
        "y": 888.0001192092896,
        "wires": [
            [
                "ee368bc3.2de0a8"
            ],
            [
                "74962b44.d6a814"
            ],
            [
                "6f02a55e.13555c"
            ],
            [
                "6d3ac7d3.6bdac8"
            ],
            [
                "27b106b1.2da0ca"
            ]
        ]
    },
    {
        "id": "e47bf73b.9ba138",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4298.5080490112305,
        "y": 969.5234689712524,
        "wires": [
            [
                "eda73fd1.91f93"
            ]
        ]
    },
    {
        "id": "6f02a55e.13555c",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch switch habitacion",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el switch del habitacion?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4060.5076065063477,
        "y": 1006.5234823226929,
        "wires": [
            [
                "e47bf73b.9ba138"
            ],
            [
                "580711a7.a405b"
            ],
            [
                "513ef117.482fa"
            ]
        ]
    },
    {
        "id": "580711a7.a405b",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4308.507682800293,
        "y": 1023.5234546661377,
        "wires": [
            [
                "70fa2781.147f98"
            ]
        ]
    },
    {
        "id": "5d1ffcd4.d78774",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4735.008140563965,
        "y": 967.4140920639038,
        "wires": []
    },
    {
        "id": "eda73fd1.91f93",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4467.90873336792,
        "y": 955.7734708786011,
        "wires": [
            [
                "5d1ffcd4.d78774",
                "2a330b9e.c87d84"
            ]
        ]
    },
    {
        "id": "70fa2781.147f98",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4488.908557891846,
        "y": 1014.7734479904175,
        "wires": [
            [
                "5d1ffcd4.d78774",
                "94300613.4671d8"
            ]
        ]
    },
    {
        "id": "94300613.4671d8",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha encendido el led de la habitacion",
        "parseMode": "",
        "x": 4675.742027282715,
        "y": 1008.7734823226929,
        "wires": []
    },
    {
        "id": "2a330b9e.c87d84",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha apagado el led de la habitacion",
        "parseMode": "",
        "x": 4659.741966247559,
        "y": 922.7734985351562,
        "wires": []
    },
    {
        "id": "9b761a4b.4f1b78",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4307.0753173828125,
        "y": 1083.7734746932983,
        "wires": [
            [
                "90cd4e43.7f40d"
            ]
        ]
    },
    {
        "id": "90cd4e43.7f40d",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4493.07532119751,
        "y": 1079.7734746932983,
        "wires": [
            [
                "5d1ffcd4.d78774"
            ]
        ]
    },
    {
        "id": "f4d74bfe.e35cc8",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3977.015914916992,
        "y": 616.7500228881836,
        "wires": []
    },
    {
        "id": "2ea56096.5008d",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4093.5158615112305,
        "y": 841.7500314712524,
        "wires": []
    },
    {
        "id": "513ef117.482fa",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4139.516067504883,
        "y": 1063.7500305175781,
        "wires": []
    },
    {
        "id": "27b106b1.2da0ca",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 3800.5159454345703,
        "y": 970.7500219345093,
        "wires": []
    },
    {
        "id": "a3e709ab.2da378",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio apagar",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4330.016021728516,
        "y": 1186.7501239776611,
        "wires": [
            [
                "674ca74a.4f9918"
            ]
        ]
    },
    {
        "id": "6d3ac7d3.6bdac8",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch switch wc",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el switch del wc?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4062.015579223633,
        "y": 1223.7501373291016,
        "wires": [
            [
                "a3e709ab.2da378"
            ],
            [
                "43a6fd1b.b30124"
            ],
            [
                "a7342616.bb23a8"
            ]
        ]
    },
    {
        "id": "43a6fd1b.b30124",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4340.015655517578,
        "y": 1240.7501096725464,
        "wires": [
            [
                "231eb389.a33dbc"
            ]
        ]
    },
    {
        "id": "8031495d.da9848",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4762.516014099121,
        "y": 1185.6407318115234,
        "wires": []
    },
    {
        "id": "674ca74a.4f9918",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4499.416706085205,
        "y": 1173.0001258850098,
        "wires": [
            [
                "8031495d.da9848",
                "3567b2c0.faf75e"
            ]
        ]
    },
    {
        "id": "231eb389.a33dbc",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4520.416530609131,
        "y": 1232.0001029968262,
        "wires": [
            [
                "8031495d.da9848",
                "76610464.f003fc"
            ]
        ]
    },
    {
        "id": "76610464.f003fc",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha encendido el led de la habitacion",
        "parseMode": "",
        "x": 4708.250205993652,
        "y": 1236.0001983642578,
        "wires": []
    },
    {
        "id": "3567b2c0.faf75e",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se ha apagado el led de la habitacion",
        "parseMode": "",
        "x": 4696.249839782715,
        "y": 1141.0001363754272,
        "wires": []
    },
    {
        "id": "37a9b6ea.2699ca",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio boton",
        "func": "if (msg.payload == 1)\nmsg.payload = {\"level\": 1};\n\nif (msg.payload === 0)\nmsg.payload = {\"level\": 0};\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4364.58332824707,
        "y": 1309.0001373291016,
        "wires": [
            [
                "9baced33.2a23f"
            ]
        ]
    },
    {
        "id": "9baced33.2a23f",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4524.583293914795,
        "y": 1297.000129699707,
        "wires": [
            [
                "8031495d.da9848"
            ]
        ]
    },
    {
        "id": "a7342616.bb23a8",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4171.024040222168,
        "y": 1280.9766855239868,
        "wires": []
    },
    {
        "id": "1110825b.ff9dae",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4815,
        "y": 2757.7504596710205,
        "wires": []
    },
    {
        "id": "2edd8532.c4174a",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4800.765625,
        "y": 2705.75,
        "wires": []
    },
    {
        "id": "6c4424a7.a6341c",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/FOTA",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 2892.000587463379,
        "y": 236.00030326843262,
        "wires": []
    },
    {
        "id": "6b74b254.6ef06c",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/FOTA",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 2898.000587463379,
        "y": 186.00030326843262,
        "wires": []
    },
    {
        "id": "bc3d01a.dac7",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4790.000312805176,
        "y": 3153.000442504883,
        "wires": []
    },
    {
        "id": "fa909b34.5501a8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESPESP1122489/config/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4769.000312805176,
        "y": 3236.000442504883,
        "wires": []
    },
    {
        "id": "e9880231.ccdb1",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "-----------------------------------------Configuracion-----------------------------------------",
        "info": "",
        "x": 4197.87922668457,
        "y": 1482.5860843658447,
        "wires": []
    },
    {
        "id": "459b04ad.c18d2c",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion1",
        "links": [
            "e1fef49b.f94938"
        ],
        "x": 4451.874984741211,
        "y": 2322.496181488037,
        "wires": []
    },
    {
        "id": "e1fef49b.f94938",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion1",
        "links": [
            "459b04ad.c18d2c"
        ],
        "x": 3885.883105278015,
        "y": 2712.9220027923584,
        "wires": [
            [
                "74763ab9.1fee74"
            ]
        ]
    },
    {
        "id": "7d0103b3.4c420c",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion2",
        "links": [
            "fa460ecd.7928f"
        ],
        "x": 4828.265625,
        "y": 2543.25,
        "wires": []
    },
    {
        "id": "fa460ecd.7928f",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion2",
        "links": [
            "7d0103b3.4c420c"
        ],
        "x": 4000.266309738159,
        "y": 3035.2509326934814,
        "wires": [
            [
                "959cdb1.cad6e28"
            ]
        ]
    },
    {
        "id": "4e6ee193.04f",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/switch/status",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 3569.5005950927734,
        "y": 559.6667499542236,
        "wires": [
            [
                "600945f.478d2bc"
            ]
        ]
    },
    {
        "id": "6748a7a7.58dd48",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado ==1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3696.137104034424,
        "y": 672.128909111023,
        "wires": [
            [
                "dd0076f4.afd098"
            ]
        ]
    },
    {
        "id": "600945f.478d2bc",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3684.7660064697266,
        "y": 618.3828554153442,
        "wires": [
            [
                "6748a7a7.58dd48"
            ]
        ]
    },
    {
        "id": "24acd28c.a4f6ce",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/switch/status",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 3556.6670455932617,
        "y": 721.6667051315308,
        "wires": [
            [
                "d7cfa35b.9208e"
            ]
        ]
    },
    {
        "id": "4b9784d.25a607c",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/switch/status",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 3588.666877746582,
        "y": 1025.6667366027832,
        "wires": [
            [
                "d60b269b.390b58"
            ]
        ]
    },
    {
        "id": "48f258d2.86d1d8",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/switch/status",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 3670.666877746582,
        "y": 1281.6667413016166,
        "wires": [
            [
                "c69f5569.adfc78"
            ]
        ]
    },
    {
        "id": "32892afe.51cf76",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado == 1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3789.6670532226562,
        "y": 818.6666955947876,
        "wires": [
            [
                "bf6cc6a.f586e38"
            ]
        ]
    },
    {
        "id": "d7cfa35b.9208e",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3706.2959518432617,
        "y": 770.9206228256226,
        "wires": [
            [
                "32892afe.51cf76"
            ]
        ]
    },
    {
        "id": "4c434352.bf2d7c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado ==1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3786.666893005371,
        "y": 1132.6667470932007,
        "wires": [
            [
                "e3f61b01.507b38"
            ]
        ]
    },
    {
        "id": "d60b269b.390b58",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3781.295799255371,
        "y": 1082.9206428527832,
        "wires": [
            [
                "4c434352.bf2d7c"
            ]
        ]
    },
    {
        "id": "1f48490a.e17b57",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var estado = msg.payload.switch\nmsg = {}\nif (estado ==1)\nmsg.payload = 1\nif (estado === 0)\nmsg.payload = 0\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3971.666946411133,
        "y": 1369.6668248176575,
        "wires": [
            [
                "9235e6f4.d85548"
            ]
        ]
    },
    {
        "id": "c69f5569.adfc78",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 3902.295795440674,
        "y": 1275.9208135604858,
        "wires": [
            [
                "1f48490a.e17b57"
            ]
        ]
    },
    {
        "id": "e4cc0e85.ee20d",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "switch2",
        "links": [
            "55847831.8ccf98"
        ],
        "x": 4652.168043136597,
        "y": 3310.000326156616,
        "wires": []
    },
    {
        "id": "fd27cfbe.ebe2b",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "switch",
        "links": [
            "c4c82085.96ac"
        ],
        "x": 589.5000305175781,
        "y": 609.6666793823242,
        "wires": []
    },
    {
        "id": "b0d2bb52.c21a88",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch switch global",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el switch global?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 3860.3335723876953,
        "y": 1702.3335189819336,
        "wires": [
            [
                "49a4155a.9ba4ec"
            ],
            [
                "d0307598.4ffd68"
            ],
            [
                "c318f521.e6ad28"
            ]
        ]
    },
    {
        "id": "55847831.8ccf98",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "switch2",
        "links": [
            "e4cc0e85.ee20d"
        ],
        "x": 3709.1671752929688,
        "y": 1699.6668510437012,
        "wires": [
            [
                "b0d2bb52.c21a88"
            ]
        ]
    },
    {
        "id": "49a4155a.9ba4ec",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio apagar",
        "func": "msg.payload= {\"level\": 0};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4096.00032043457,
        "y": 1655.000144958496,
        "wires": [
            [
                "cbf07809.cdf988"
            ]
        ]
    },
    {
        "id": "d0307598.4ffd68",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Envio encender",
        "func": "msg.payload=msg.mensaje;\n\nmsg.payload= {\"level\": 1};\n\n\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4105.999954223633,
        "y": 1709.0001306533813,
        "wires": [
            [
                "e9db567a.65db08"
            ]
        ]
    },
    {
        "id": "1f0c9f0e.1259c1",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4565.50032043457,
        "y": 1667.890769958496,
        "wires": []
    },
    {
        "id": "cbf07809.cdf988",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4265.40100479126,
        "y": 1641.2501468658447,
        "wires": [
            [
                "1f0c9f0e.1259c1",
                "2410d375.0a3c9c",
                "bdbdf6b5.ad88a8",
                "65a8f836.b5e0b8",
                "c3c23e37.eaf7",
                "7ae6cbb9.9dd6a4"
            ]
        ]
    },
    {
        "id": "e9db567a.65db08",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 4258.40071105957,
        "y": 1697.250144958496,
        "wires": [
            [
                "1f0c9f0e.1259c1",
                "77dcecac.77caf4",
                "bdbdf6b5.ad88a8",
                "65a8f836.b5e0b8",
                "c3c23e37.eaf7",
                "7ae6cbb9.9dd6a4"
            ]
        ]
    },
    {
        "id": "77dcecac.77caf4",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se han encendido los switches",
        "parseMode": "",
        "x": 4491.23469543457,
        "y": 1606.2502670288086,
        "wires": []
    },
    {
        "id": "2410d375.0a3c9c",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se han apagado los switches",
        "parseMode": "",
        "x": 4482.23420715332,
        "y": 1568.250144958496,
        "wires": []
    },
    {
        "id": "c318f521.e6ad28",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4017.0003204345703,
        "y": 1757.000144958496,
        "wires": []
    },
    {
        "id": "bdbdf6b5.ad88a8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4572.00032043457,
        "y": 1711.000144958496,
        "wires": []
    },
    {
        "id": "65a8f836.b5e0b8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4583.00032043457,
        "y": 1749.000144958496,
        "wires": []
    },
    {
        "id": "c3c23e37.eaf7",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/switch/cmd",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 4585.00032043457,
        "y": 1792.000144958496,
        "wires": []
    },
    {
        "id": "7ae6cbb9.9dd6a4",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "led2",
        "links": [
            "6d51fba5.1368b4"
        ],
        "x": 4379.00032043457,
        "y": 1837.000144958496,
        "wires": []
    },
    {
        "id": "c5f732f9.e140c",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch led global",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que quieres hacer con el LED global?",
        "answers": [
            "Apagar",
            "Encender"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 4176.122291564941,
        "y": 3672.524130821228,
        "wires": [
            [
                "1112b2f4.0acabd"
            ],
            [
                "47f1761e.2a81b8"
            ],
            [
                "74da4674.7b3648"
            ]
        ]
    },
    {
        "id": "6d51fba5.1368b4",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "7ae6cbb9.9dd6a4"
        ],
        "x": 4018.7220916748047,
        "y": 3704.261294364929,
        "wires": [
            [
                "c5f732f9.e140c"
            ]
        ]
    },
    {
        "id": "6ce9e189.320f5",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4801.622177124023,
        "y": 3572.5243701934814,
        "wires": []
    },
    {
        "id": "e995bdd0.71b8b",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4805,
        "y": 3621.439194202423,
        "wires": []
    },
    {
        "id": "70b045ec.28061c",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4820,
        "y": 3660.6211347579956,
        "wires": []
    },
    {
        "id": "3d922d4a.31a1c2",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/led/cmd",
        "qos": "",
        "retain": "",
        "broker": "11f84db6.06eda2",
        "x": 4821,
        "y": 3699.621054649353,
        "wires": []
    },
    {
        "id": "74da4674.7b3648",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 4324.621917724609,
        "y": 3741.5240926742554,
        "wires": []
    },
    {
        "id": "47f1761e.2a81b8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 100",
        "func": "msg.payload = {\"level\": 100}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4348.121932983398,
        "y": 3675.5242490768433,
        "wires": [
            [
                "120c0c43.3c3f44"
            ]
        ]
    },
    {
        "id": "120c0c43.3c3f44",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4484.121513366699,
        "y": 3668.5244817733765,
        "wires": [
            [
                "6ce9e189.320f5",
                "e995bdd0.71b8b",
                "70b045ec.28061c",
                "3d922d4a.31a1c2",
                "fcf8b52e.f5b3c8"
            ]
        ]
    },
    {
        "id": "7a93645f.61d68c",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "str",
        "pretty": false,
        "x": 4469.122116088867,
        "y": 3602.5246725082397,
        "wires": [
            [
                "6ce9e189.320f5",
                "e995bdd0.71b8b",
                "70b045ec.28061c",
                "3d922d4a.31a1c2",
                "b589dab1.11cd68"
            ]
        ]
    },
    {
        "id": "1112b2f4.0acabd",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "envio 0",
        "func": "msg.payload = {\"level\": 0}\n\nreturn msg;\n",
        "outputs": 1,
        "noerr": 0,
        "x": 4323.12194442749,
        "y": 3603.524347305298,
        "wires": [
            [
                "7a93645f.61d68c"
            ]
        ]
    },
    {
        "id": "fcf8b52e.f5b3c8",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta encender",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se han encendido los leds",
        "parseMode": "",
        "x": 4702.0102615356445,
        "y": 3503.667455673218,
        "wires": []
    },
    {
        "id": "b589dab1.11cd68",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta apagar",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se han apagado los leds",
        "parseMode": "",
        "x": 4683.009960174561,
        "y": 3455.667688369751,
        "wires": []
    },
    {
        "id": "e9914f41.d6774",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "ACTUALIZACION FOTA",
        "info": "",
        "x": 2461.250160217285,
        "y": 120.73438835144043,
        "wires": []
    },
    {
        "id": "5acb4c0e.4d2444",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch bienvenida",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Aqui tienes mas opciones todavía",
        "answers": [
            "Switch",
            "Temp.maxima",
            "Temp. minima"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 349.6666564941406,
        "y": 665.6666870117188,
        "wires": [
            [
                "fd27cfbe.ebe2b"
            ],
            [
                "fa2ae72f.8996b8"
            ],
            [
                "13a4693e.83d7e7"
            ],
            []
        ]
    },
    {
        "id": "37207d09.bd2f72",
        "type": "delay",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 168.6666717529297,
        "y": 641.6666870117188,
        "wires": [
            [
                "5acb4c0e.4d2444",
                "74e157b1.deddc8"
            ]
        ]
    },
    {
        "id": "fa2ae72f.8996b8",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "tempmax",
        "links": [
            "f7178074.43e25"
        ],
        "x": 585.6666870117188,
        "y": 653.6666870117188,
        "wires": []
    },
    {
        "id": "f7178074.43e25",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "TempMax",
        "links": [
            "fa2ae72f.8996b8"
        ],
        "x": 2122.83331489563,
        "y": 655.0000371932983,
        "wires": [
            [
                "675252b5.030e9c"
            ]
        ]
    },
    {
        "id": "f28d73ff.6d969",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "57330da7.251e34",
        "order": 0,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Habitacion",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4319.000152587891,
        "y": 4548.334246635437,
        "wires": []
    },
    {
        "id": "a0812f4a.973b3",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "57330da7.251e34",
        "order": 0,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Salon",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4293.500152587891,
        "y": 4303.334239959717,
        "wires": []
    },
    {
        "id": "19273a97.3d76d5",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "57330da7.251e34",
        "order": 0,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Cocina",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4434.500156402588,
        "y": 4061.3339881896973,
        "wires": []
    },
    {
        "id": "2b1ebd26.46c992",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "57330da7.251e34",
        "order": 0,
        "width": "3",
        "height": "3",
        "gtype": "gage",
        "title": "Baño",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "50",
        "colors": [
            "#00b500",
            "#e6e600",
            "#ca3838"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4303.500148773193,
        "y": 4802.3342542648315,
        "wires": []
    },
    {
        "id": "87bb1b6b.7d5078",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "DashBoard Text",
        "info": "",
        "x": 3738.8333282470703,
        "y": 4087.6675872802734,
        "wires": []
    },
    {
        "id": "59c86deb.817334",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "95c6b073.e17e4",
        "order": 1,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Habitacion",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4334.000154495239,
        "y": 4592.334247589111,
        "wires": []
    },
    {
        "id": "1f18a783.b863a8",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "95c6b073.e17e4",
        "order": 2,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Salon",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4302.000152587891,
        "y": 4345.334240913391,
        "wires": []
    },
    {
        "id": "b7581fe3.5a95a",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "95c6b073.e17e4",
        "order": 3,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Cocina",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4430.000152587891,
        "y": 4121.334559440613,
        "wires": []
    },
    {
        "id": "88bafc42.6b655",
        "type": "ui_gauge",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "95c6b073.e17e4",
        "order": 4,
        "width": "3",
        "height": "3",
        "gtype": "donut",
        "title": "Baño",
        "label": "units",
        "format": "{{value}}",
        "min": 0,
        "max": "100",
        "colors": [
            "#00bbfa",
            "#077fbb",
            "#2319a3"
        ],
        "seg1": "",
        "seg2": "",
        "x": 4313.000152587891,
        "y": 4852.33425617218,
        "wires": []
    },
    {
        "id": "9110995e.53b9b8",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura",
        "info": "",
        "x": 4586.000156402588,
        "y": 4055.3339881896973,
        "wires": []
    },
    {
        "id": "5622f49f.bb17ec",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "humedad",
        "info": "",
        "x": 4568.000015258789,
        "y": 4122.334112167358,
        "wires": []
    },
    {
        "id": "49a33b1d.d8c764",
        "type": "ui_slider",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Salon____",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3995.0001373291016,
        "y": 4458.334243774414,
        "wires": [
            [
                "40cd6f0b.5d233"
            ]
        ]
    },
    {
        "id": "81ec5b3d.594a78",
        "type": "ui_slider",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Habitacion",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 4,
        "width": "6",
        "height": "1",
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3943.000129699707,
        "y": 4694.33424949646,
        "wires": [
            [
                "129688bc.957917"
            ]
        ]
    },
    {
        "id": "b715e8fe.fec3c8",
        "type": "ui_slider",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Cocina___",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 3,
        "width": "6",
        "height": "1",
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3952.0001373291016,
        "y": 4231.334238052368,
        "wires": [
            [
                "6e4b3f30.e3c18"
            ]
        ]
    },
    {
        "id": "453c06e8.4620d8",
        "type": "ui_slider",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Baño_____",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": false,
        "outs": "all",
        "topic": "",
        "min": 0,
        "max": "100",
        "step": 1,
        "x": 3905.000129699707,
        "y": 4974.3342571258545,
        "wires": [
            [
                "f74734d5.0d9068"
            ]
        ]
    },
    {
        "id": "d36dd242.b51ce",
        "type": "ui_chart",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "bed665f6.de0078",
        "order": 0,
        "width": "8",
        "height": "7",
        "label": "Temperatura",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "12",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 4925,
        "y": 4331.333734512329,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "d97e609e.867fe",
        "type": "ui_chart",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "bed665f6.de0078",
        "order": 0,
        "width": "8",
        "height": "7",
        "label": "Humedad",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "12",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 4928.000165939331,
        "y": 4564.333492279053,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "a481795d.811bf8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"Habitacion\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4786.76579284668,
        "y": 4357.250116348267,
        "wires": [
            [
                "d36dd242.b51ce"
            ]
        ]
    },
    {
        "id": "17607cd6.275703",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"Habitacion\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4776.765670776367,
        "y": 4613.250116348267,
        "wires": [
            [
                "d97e609e.867fe"
            ]
        ]
    },
    {
        "id": "52e599c2.b6a5d8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"cocina\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4774.765609741211,
        "y": 4510.250238418579,
        "wires": [
            [
                "d97e609e.867fe"
            ]
        ]
    },
    {
        "id": "2b6d1ade.a64d16",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"cocina\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4777.765609741211,
        "y": 4287.249994277954,
        "wires": [
            [
                "d36dd242.b51ce"
            ]
        ]
    },
    {
        "id": "4684707e.d31ae",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"baño\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4789.765670776367,
        "y": 4391.250116348267,
        "wires": [
            [
                "d36dd242.b51ce"
            ]
        ]
    },
    {
        "id": "c874914b.73258",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"baño\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4776.76579284668,
        "y": 4574.250240325928,
        "wires": [
            [
                "d97e609e.867fe"
            ]
        ]
    },
    {
        "id": "192a2930.9bf477",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"salon\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4779.765731811523,
        "y": 4541.25005531311,
        "wires": [
            [
                "d97e609e.867fe"
            ]
        ]
    },
    {
        "id": "be6c64de.a6fbb8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"salon\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4779.765609741211,
        "y": 4321.249994277954,
        "wires": [
            [
                "d36dd242.b51ce"
            ]
        ]
    },
    {
        "id": "dd0076f4.afd098",
        "type": "ui_switch",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Salon",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 6,
        "width": "1",
        "height": "1",
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 3936.7662200927734,
        "y": 683.2504281997681,
        "wires": [
            [
                "921af297.98632"
            ]
        ]
    },
    {
        "id": "e3f61b01.507b38",
        "type": "ui_switch",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Habitacion",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 7,
        "width": "1",
        "height": "1",
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 4085.765914916992,
        "y": 1126.2502374649048,
        "wires": [
            [
                "9b761a4b.4f1b78"
            ]
        ]
    },
    {
        "id": "bf6cc6a.f586e38",
        "type": "ui_switch",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Cocina",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 10,
        "width": "1",
        "height": "1",
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 4064.7659759521484,
        "y": 895.2503128051758,
        "wires": [
            [
                "27a83317.d98a8c"
            ]
        ]
    },
    {
        "id": "9235e6f4.d85548",
        "type": "ui_switch",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Baño",
        "tooltip": "",
        "group": "12ab21eb.8662ce",
        "order": 9,
        "width": "1",
        "height": "1",
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "1",
        "onvalueType": "num",
        "onicon": "",
        "oncolor": "",
        "offvalue": "0",
        "offvalueType": "num",
        "officon": "",
        "offcolor": "",
        "x": 4158.766342163086,
        "y": 1374.250470161438,
        "wires": [
            [
                "37a9b6ea.2699ca"
            ]
        ]
    },
    {
        "id": "1dd3a3ab.3f1f4c",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "94936d81.8681a",
        "order": 3,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "Manual",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4370.766342163086,
        "y": 2981.250705718994,
        "wires": [
            [
                "94e199a7.7ea918"
            ]
        ]
    },
    {
        "id": "3cff6f09.c0f6f",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "94936d81.8681a",
        "order": 4,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "60 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4367.26628112793,
        "y": 3071.7499742507935,
        "wires": [
            [
                "6bc92cbd.8348d4"
            ]
        ]
    },
    {
        "id": "954a7d69.37f82",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "94936d81.8681a",
        "order": 5,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "120 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4367.765670776367,
        "y": 3167.000401496887,
        "wires": [
            [
                "fd54733f.8bf25"
            ]
        ]
    },
    {
        "id": "fbee74a4.ba75f8",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "94936d81.8681a",
        "order": 6,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "240 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4377.015670776367,
        "y": 3262.2500343322754,
        "wires": [
            [
                "ba3c0c59.87f54"
            ]
        ]
    },
    {
        "id": "d3788b7b.e5f328",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "5ed1f6a1.e21328",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "5 seg",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4245.765914916992,
        "y": 2614.2500619888306,
        "wires": [
            [
                "66f5ad9a.26c304"
            ]
        ]
    },
    {
        "id": "abc85507.11b4e8",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "5ed1f6a1.e21328",
        "order": 4,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "10 seg",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4252.516098022461,
        "y": 2693.249970436096,
        "wires": [
            [
                "d83fdb95.a04bf8"
            ]
        ]
    },
    {
        "id": "6167a034.4d1cd",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "5ed1f6a1.e21328",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "30 seg",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4263.015609741211,
        "y": 2765.750214576721,
        "wires": [
            [
                "8c4ddc65.839c9"
            ]
        ]
    },
    {
        "id": "e989c646.6322a8",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "5ed1f6a1.e21328",
        "order": 6,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "1 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4270.516036987305,
        "y": 2833.0000915527344,
        "wires": [
            [
                "423e9c2d.5724e4"
            ]
        ]
    },
    {
        "id": "e29940d5.0c2c9",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "5ed1f6a1.e21328",
        "order": 7,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "5 min",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4279.765731811523,
        "y": 2895.2500925064087,
        "wires": [
            [
                "d3a9283b.e07588"
            ]
        ]
    },
    {
        "id": "b7911779.4b9798",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/actualizacion",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 2374.8342933654785,
        "y": 2167.667510986328,
        "wires": [
            [
                "11879604.82c25a"
            ]
        ]
    },
    {
        "id": "7dfa2852.66b078",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/actualizacion",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 2372.7661323547363,
        "y": 2216.2503337860107,
        "wires": [
            [
                "e122753d.36f888"
            ]
        ]
    },
    {
        "id": "8fa49e8c.0fe47",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/actualizacion",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 2380.7663764953613,
        "y": 2264.250388145447,
        "wires": [
            [
                "f16fcfd9.b8c2d"
            ]
        ]
    },
    {
        "id": "c11c3866.c4d328",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/actualizacion",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 2386.7661323547363,
        "y": 2308.2503337860107,
        "wires": [
            [
                "8ec1888a.3c4648"
            ]
        ]
    },
    {
        "id": "b706d5f3.c5a208",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"Se va a actualizar la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2852.3870124816895,
        "y": 2157.633102416992,
        "wires": [
            [
                "bc331e05.f9ff"
            ]
        ]
    },
    {
        "id": "38f9429e.8e2f0e",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"Se va a actualizar la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2856.7658348083496,
        "y": 2214.2502975463867,
        "wires": [
            [
                "bc331e05.f9ff"
            ]
        ]
    },
    {
        "id": "295c5f4e.1dc34",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"Se va a actualizar la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2844.7658348083496,
        "y": 2253.2502975463867,
        "wires": [
            [
                "bc331e05.f9ff"
            ]
        ]
    },
    {
        "id": "97b4070c.8a6ff8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "confirmar actualizacion",
        "func": "var ID = msg.payload.CHIPID\nvar actualizacion = msg.payload.actualizacion\nvar origen = msg.payload.origen\nmsg.payload = {}\nif (actualizacion === false){\nmsg.payload = \"Se va a actualizar la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\n\nif (actualizacion === true) {\nmsg.payload= \"Se ha actualizado la placa \"\nmsg.payload += ID\nmsg.payload += \" causa: \"\nmsg.payload += origen }\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2848.7658348083496,
        "y": 2298.2502975463867,
        "wires": [
            [
                "bc331e05.f9ff"
            ]
        ]
    },
    {
        "id": "bc331e05.f9ff",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "Respuesta actualizacion",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3142.266159057617,
        "y": 2220.250319480896,
        "wires": []
    },
    {
        "id": "92265d73.b07cc",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/TemperaturaMin",
        "bot": "407d7e26.e9903",
        "command": "/TemperaturaMin",
        "commandType": "str",
        "commandCase": false,
        "x": 2137.6666584014893,
        "y": 1095.3333730697632,
        "wires": [
            [
                "8e1f4140.860af"
            ]
        ]
    },
    {
        "id": "8e1f4140.860af",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch temperatura Min",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Por favor elija la temperatura a la que quiere que le avisemos si se baja de ella",
        "answers": [
            "-20º ",
            "-10º",
            "0º",
            "5º"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2361.0001544952393,
        "y": 1096.3333730697632,
        "wires": [
            [
                "1b258e04.54aae2"
            ],
            [
                "ea68fb9.5806308"
            ],
            [
                "5bb9fa9d.1a29c4"
            ],
            [
                "491ce838.be5218"
            ],
            [
                "c9b89d0c.25d72"
            ]
        ]
    },
    {
        "id": "c2503dbd.100f2",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura -10",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a -10º",
        "parseMode": "",
        "x": 2812.3334674835205,
        "y": 924.3333730697632,
        "wires": []
    },
    {
        "id": "c9b89d0c.25d72",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2417.3333950042725,
        "y": 1180.3333768844604,
        "wires": []
    },
    {
        "id": "6bb242c1.4a1d1c",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura 0",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a 0º",
        "parseMode": "",
        "x": 2828.3334674835205,
        "y": 998.0000600814819,
        "wires": []
    },
    {
        "id": "529c53e1.db1e0c",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura 5",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a 5º",
        "parseMode": "",
        "x": 2812.3334674835205,
        "y": 1123.000060081482,
        "wires": []
    },
    {
        "id": "d32255d4.458e88",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "temperatura 10",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la temperatura minima a 10º",
        "parseMode": "",
        "x": 2785.3334674835205,
        "y": 1192.000060081482,
        "wires": []
    },
    {
        "id": "c9b03e90.53405",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "TempMin",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2856.1667461395264,
        "y": 1057.0000400543213,
        "wires": [
            [
                "561f6d05.636df4",
                "fc284cef.3bd3e"
            ]
        ]
    },
    {
        "id": "1b258e04.54aae2",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion -10",
        "func": "msg.payload = -10;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2604.1669635772705,
        "y": 912.3333730697632,
        "wires": [
            [
                "c9b03e90.53405",
                "c2503dbd.100f2"
            ]
        ]
    },
    {
        "id": "ea68fb9.5806308",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 0",
        "func": "msg.payload = 0;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2580.3334674835205,
        "y": 1000.3333730697632,
        "wires": [
            [
                "c9b03e90.53405",
                "6bb242c1.4a1d1c"
            ]
        ]
    },
    {
        "id": "5bb9fa9d.1a29c4",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 5",
        "func": "msg.payload = 5;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2601.3334674835205,
        "y": 1086.3333730697632,
        "wires": [
            [
                "c9b03e90.53405",
                "529c53e1.db1e0c"
            ]
        ]
    },
    {
        "id": "491ce838.be5218",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 10",
        "func": "msg.payload = 10;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2598.3334064483643,
        "y": 1167.3333797454834,
        "wires": [
            [
                "c9b03e90.53405",
                "d32255d4.458e88"
            ]
        ]
    },
    {
        "id": "c47379ad.e85118",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "TempMin",
        "links": [
            "13a4693e.83d7e7"
        ],
        "x": 2171.166627883911,
        "y": 1014.9999151229858,
        "wires": [
            [
                "8e1f4140.860af"
            ]
        ]
    },
    {
        "id": "13a4693e.83d7e7",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "c47379ad.e85118"
        ],
        "x": 585,
        "y": 692,
        "wires": []
    },
    {
        "id": "25b5b5e5.9fe77a",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/HumedadMin",
        "bot": "407d7e26.e9903",
        "command": "/HumedadMin",
        "commandType": "str",
        "commandCase": false,
        "x": 2210,
        "y": 1466,
        "wires": [
            [
                "c50f37e6.78d138"
            ]
        ]
    },
    {
        "id": "c50f37e6.78d138",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch humedad Min",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Por favor elija el porcentaje de humedad a la que quiere que le avisemos si se baja de ella",
        "answers": [
            "5%",
            "15%",
            "20%",
            "25%"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2433.33349609375,
        "y": 1467,
        "wires": [
            [
                "2a4632cb.fe818e"
            ],
            [
                "1b38118d.0d6abe"
            ],
            [
                "49e3b4f1.f13a5c"
            ],
            [
                "7a566451.a17a3c"
            ],
            [
                "b6b6f2a2.3258e"
            ]
        ]
    },
    {
        "id": "234d3188.cc3a9e",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "humedad 5%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 5%",
        "parseMode": "",
        "x": 2884.6668090820312,
        "y": 1295,
        "wires": []
    },
    {
        "id": "b6b6f2a2.3258e",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2499.666736602783,
        "y": 1551.0000038146973,
        "wires": []
    },
    {
        "id": "8954ee39.d57aa",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "humedad 15%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 15%",
        "parseMode": "",
        "x": 2910.6668090820312,
        "y": 1368.6666870117188,
        "wires": []
    },
    {
        "id": "169c6c53.e641c4",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "humedad 20%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 20%",
        "parseMode": "",
        "x": 2894.6668090820312,
        "y": 1493.6666870117188,
        "wires": []
    },
    {
        "id": "b8b86a4f.289718",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "humedad 25%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad minima a 25%",
        "parseMode": "",
        "x": 2867.6668090820312,
        "y": 1562.6666870117188,
        "wires": []
    },
    {
        "id": "f76a1cb2.a531",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "HumMin",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2938.500087738037,
        "y": 1427.666666984558,
        "wires": [
            [
                "277c4f46.19bd3"
            ]
        ]
    },
    {
        "id": "2a4632cb.fe818e",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 5",
        "func": "msg.payload = 5;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2676.5003051757812,
        "y": 1283,
        "wires": [
            [
                "f76a1cb2.a531",
                "234d3188.cc3a9e"
            ]
        ]
    },
    {
        "id": "1b38118d.0d6abe",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 15",
        "func": "msg.payload = 15;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2672.6668090820312,
        "y": 1371,
        "wires": [
            [
                "f76a1cb2.a531",
                "8954ee39.d57aa"
            ]
        ]
    },
    {
        "id": "49e3b4f1.f13a5c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 20",
        "func": "msg.payload = 20;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2693.6668090820312,
        "y": 1457,
        "wires": [
            [
                "f76a1cb2.a531",
                "169c6c53.e641c4"
            ]
        ]
    },
    {
        "id": "7a566451.a17a3c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 25",
        "func": "msg.payload = 25;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2680.666748046875,
        "y": 1538.0000066757202,
        "wires": [
            [
                "f76a1cb2.a531",
                "b8b86a4f.289718"
            ]
        ]
    },
    {
        "id": "e09f3ba6.754648",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "HumMin",
        "links": [
            "f23459f7.a9da38"
        ],
        "x": 2253.499969482422,
        "y": 1385.6665420532227,
        "wires": [
            [
                "c50f37e6.78d138"
            ]
        ]
    },
    {
        "id": "419085b7.719dac",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 1731,
        "y": 4371,
        "wires": []
    },
    {
        "id": "b8c0fa33.e56868",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 1073.000015258789,
        "y": 4307.000484466553,
        "wires": [
            [
                "a4f23127.0fe77"
            ]
        ]
    },
    {
        "id": "6cac9f2c.8c8bb",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "humedad cocina",
        "func": "var deteccion = msg.payload.DHT11.hum;\nmsg.payload = null\nif (deteccion <= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DE LA COCINA ES DEMASIADO BAJA \\n\";\n\nif (deteccion >= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DE LA COCINA ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1457.000015258789,
        "y": 4303.999990463257,
        "wires": [
            [
                "419085b7.719dac",
                "c2f5f87a.c0a098"
            ]
        ]
    },
    {
        "id": "5b04d91f.76a778",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "humedades",
        "info": "",
        "x": 1064.000015258789,
        "y": 4263.000350952148,
        "wires": []
    },
    {
        "id": "a4f23127.0fe77",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1289.0000457763672,
        "y": 4304.999990463257,
        "wires": [
            [
                "6cac9f2c.8c8bb"
            ]
        ]
    },
    {
        "id": "27a191b1.866b1e",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 1087,
        "y": 4365.303331375122,
        "wires": [
            [
                "36f67d30.2319b2"
            ]
        ]
    },
    {
        "id": "86fab40b.cbafb8",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 1069,
        "y": 4411.303331375122,
        "wires": [
            [
                "98488850.efea68"
            ]
        ]
    },
    {
        "id": "36f67d30.2319b2",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1298.0000305175781,
        "y": 4363.30322265625,
        "wires": [
            [
                "493563cf.ce4e2c"
            ]
        ]
    },
    {
        "id": "98488850.efea68",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1293.000015258789,
        "y": 4411.303213119507,
        "wires": [
            [
                "4d12fb39.91dd14"
            ]
        ]
    },
    {
        "id": "493563cf.ce4e2c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "humedad salon",
        "func": "var deteccion = msg.payload.DHT11.hum;\nmsg.payload = null\nif (deteccion <= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DEL SALON ES DEMASIADO BAJA \\n\";\n\nif (deteccion >= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DEL SALON ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1455.000015258789,
        "y": 4362.303213119507,
        "wires": [
            [
                "419085b7.719dac",
                "c2f5f87a.c0a098"
            ]
        ]
    },
    {
        "id": "4d12fb39.91dd14",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "humedad habitacion",
        "func": "var deteccion = msg.payload.DHT11.hum;\nmsg.payload = null\nif (deteccion <= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DE LA HABITACION ES DEMASIADO BAJA \\n\";\n\nif (deteccion >= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DE LA HABITACION ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1461.000015258789,
        "y": 4410.303213119507,
        "wires": [
            [
                "419085b7.719dac",
                "c2f5f87a.c0a098"
            ]
        ]
    },
    {
        "id": "c5394182.787da",
        "type": "mqtt in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/datos",
        "qos": "2",
        "broker": "8fab76dc.3e75b8",
        "x": 1074,
        "y": 4458.303331375122,
        "wires": [
            [
                "aa325244.89276"
            ]
        ]
    },
    {
        "id": "aa325244.89276",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 1289.000015258789,
        "y": 4454.303213119507,
        "wires": [
            [
                "8a47c3cb.0f878"
            ]
        ]
    },
    {
        "id": "8a47c3cb.0f878",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "humedad WC",
        "func": "var deteccion = msg.payload.DHT11.hum;\nmsg.payload = null\nif (deteccion <= global.get(\"HumMin\"))\nmsg.payload = \"LA HUMEDAD DEL BAÑO ES DEMASIADO BAJA \\n\";\n\nif (deteccion >= global.get(\"HumMax\"))\nmsg.payload = \"LA HUMEDAD DEL BAÑO ES DEMASIADO ALTA \\n\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1470.000015258789,
        "y": 4455.303213119507,
        "wires": [
            [
                "419085b7.719dac",
                "c2f5f87a.c0a098"
            ]
        ]
    },
    {
        "id": "b4201728.f70d58",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/HumedadMax",
        "bot": "407d7e26.e9903",
        "command": "/HumedadMax",
        "commandType": "str",
        "commandCase": false,
        "x": 2212,
        "y": 1875,
        "wires": [
            [
                "a78d4734.2d8c48"
            ]
        ]
    },
    {
        "id": "a78d4734.2d8c48",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch humedad Max",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Por favor elija el porcentaje de humedad a la que quiere que le avisemos si se supera",
        "answers": [
            "65%",
            "75%",
            "80%",
            "90%"
        ],
        "outputs": 5,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2436.33349609375,
        "y": 1878,
        "wires": [
            [
                "b7a0abc8.7c9998"
            ],
            [
                "467a9bee.2d3d54"
            ],
            [
                "731c2b06.19ab84"
            ],
            [
                "586fc6da.ba6968"
            ],
            [
                "129f5f32.f78011"
            ]
        ]
    },
    {
        "id": "2c175280.47ffde",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "humedad 65%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 65%",
        "parseMode": "",
        "x": 2893.666748046875,
        "y": 1720,
        "wires": []
    },
    {
        "id": "129f5f32.f78011",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2502.666736602783,
        "y": 1962.0000038146973,
        "wires": []
    },
    {
        "id": "60ba7ebd.041ee",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "humedad 75%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 75%",
        "parseMode": "",
        "x": 2909.666748046875,
        "y": 1793.6666870117188,
        "wires": []
    },
    {
        "id": "9a49ee2d.1738e",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "humedad 80%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 80%",
        "parseMode": "",
        "x": 2893.666748046875,
        "y": 1918.6666870117188,
        "wires": []
    },
    {
        "id": "54d92ca3.e132d4",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "humedad 90%",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la humedad maxima a 90%",
        "parseMode": "",
        "x": 2899.666748046875,
        "y": 1977.6666259765625,
        "wires": []
    },
    {
        "id": "763b394.dec8cc8",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "HumMax",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2937.500026702881,
        "y": 1852.666666984558,
        "wires": [
            [
                "ba0a073c.aab348"
            ]
        ]
    },
    {
        "id": "b7a0abc8.7c9998",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 65",
        "func": "msg.payload = 65;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2686.500244140625,
        "y": 1724,
        "wires": [
            [
                "763b394.dec8cc8",
                "2c175280.47ffde"
            ]
        ]
    },
    {
        "id": "467a9bee.2d3d54",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 75",
        "func": "msg.payload = 75;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2690.6666831970215,
        "y": 1792.9999713897705,
        "wires": [
            [
                "763b394.dec8cc8",
                "60ba7ebd.041ee"
            ]
        ]
    },
    {
        "id": "731c2b06.19ab84",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 80",
        "func": "msg.payload = 80;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2691.666748046875,
        "y": 1873,
        "wires": [
            [
                "763b394.dec8cc8",
                "9a49ee2d.1738e"
            ]
        ]
    },
    {
        "id": "586fc6da.ba6968",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "eleccion 90",
        "func": "msg.payload = 90;\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2695.666748046875,
        "y": 1948,
        "wires": [
            [
                "763b394.dec8cc8",
                "54d92ca3.e132d4"
            ]
        ]
    },
    {
        "id": "d153d3f4.6f033",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "HumMax",
        "links": [
            "e13f9acf.f47018"
        ],
        "x": 2256.499969482422,
        "y": 1796.6665420532227,
        "wires": [
            [
                "a78d4734.2d8c48"
            ]
        ]
    },
    {
        "id": "7d1b0de8.d19dc4",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch bienvenida",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Aqui tienes mas opciones aún!!",
        "answers": [
            "Hum. minima",
            "Hum. maxima",
            "Logica"
        ],
        "outputs": 4,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 346,
        "y": 835,
        "wires": [
            [
                "f23459f7.a9da38"
            ],
            [
                "e13f9acf.f47018"
            ],
            [
                "937b50fe.ae98a"
            ],
            []
        ]
    },
    {
        "id": "74e157b1.deddc8",
        "type": "delay",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "pauseType": "delay",
        "timeout": "10",
        "timeoutUnits": "milliseconds",
        "rate": "1",
        "nbRateUnits": "1",
        "rateUnits": "second",
        "randomFirst": "1",
        "randomLast": "5",
        "randomUnits": "seconds",
        "drop": false,
        "x": 171,
        "y": 755,
        "wires": [
            [
                "7d1b0de8.d19dc4"
            ]
        ]
    },
    {
        "id": "f23459f7.a9da38",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "HumMin",
        "links": [
            "e09f3ba6.754648"
        ],
        "x": 532,
        "y": 822,
        "wires": []
    },
    {
        "id": "e13f9acf.f47018",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "HumMax",
        "links": [
            "d153d3f4.6f033"
        ],
        "x": 534,
        "y": 855,
        "wires": []
    },
    {
        "id": "9b44836.755118",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "8f9d228c.301c3",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Encender",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4144.765975952148,
        "y": 3755.2504711151123,
        "wires": [
            [
                "47f1761e.2a81b8"
            ]
        ]
    },
    {
        "id": "201c1592.0f4a3a",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "8f9d228c.301c3",
        "order": 6,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Apagar",
        "tooltip": "",
        "color": "",
        "bgcolor": "#E9967A",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4135.765968322754,
        "y": 3622.500473022461,
        "wires": [
            [
                "1112b2f4.0acabd"
            ]
        ]
    },
    {
        "id": "cabe44a.faae7b8",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "8f9d228c.301c3",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Encender",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 3896.2658500671387,
        "y": 1792.7500476837158,
        "wires": [
            [
                "d0307598.4ffd68"
            ]
        ]
    },
    {
        "id": "d8e825e8.e69ca8",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "8f9d228c.301c3",
        "order": 3,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "Apagar",
        "tooltip": "",
        "color": "",
        "bgcolor": "#E9967A",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 3895.265853881836,
        "y": 1631.0000486373901,
        "wires": [
            [
                "49a4155a.9ba4ec"
            ]
        ]
    },
    {
        "id": "561f6d05.636df4",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Paso de temperaturas",
        "func": "var TempMin = global.get(\"TempMin\")\nvar TempMax = global.get(\"TempMax\")\nmsg = {}\nmsg.payload = {\"TempMax\":TempMax,\"TempMin\":TempMin}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3028.7577228546143,
        "y": 861.8671865463257,
        "wires": [
            [
                "b22dc67a.036628"
            ]
        ]
    },
    {
        "id": "b22dc67a.036628",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/temperaturas",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 3160.0002002716064,
        "y": 931.000036239624,
        "wires": []
    },
    {
        "id": "9f8bbcf7.d33fb",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "acf3bb1.19ba048",
        "order": 2,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "5 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4131,
        "y": 2076,
        "wires": [
            [
                "5558da42.b2f794"
            ]
        ]
    },
    {
        "id": "bfbca924.75ce08",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "acf3bb1.19ba048",
        "order": 4,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "10 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4136.75,
        "y": 2145,
        "wires": [
            [
                "fbaa0fe9.da1bf"
            ]
        ]
    },
    {
        "id": "d46d89e8.e0aa88",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "acf3bb1.19ba048",
        "order": 5,
        "width": "2",
        "height": "1",
        "passthru": false,
        "label": "100 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4150.25,
        "y": 2207.5,
        "wires": [
            [
                "349b7335.9f483c"
            ]
        ]
    },
    {
        "id": "f7212939.e95728",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "acf3bb1.19ba048",
        "order": 6,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "200 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4161.75,
        "y": 2272.75,
        "wires": [
            [
                "23e0f5da.7ffc2a"
            ]
        ]
    },
    {
        "id": "5eb6f6fc.95d868",
        "type": "ui_button",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "acf3bb1.19ba048",
        "order": 8,
        "width": "3",
        "height": "1",
        "passthru": false,
        "label": "500 ms",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "",
        "x": 4159,
        "y": 2335,
        "wires": [
            [
                "4bc69aba.2e6924"
            ]
        ]
    },
    {
        "id": "4a6e29c8.a8d788",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "8f9d228c.301c3",
        "order": 1,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Switch global",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3735.000316619873,
        "y": 4206.000107765198,
        "wires": []
    },
    {
        "id": "c35fe5af.4b01e8",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "8f9d228c.301c3",
        "order": 4,
        "width": "2",
        "height": "1",
        "name": "",
        "label": "Led global",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3730.2501945495605,
        "y": 4164.250350952148,
        "wires": []
    },
    {
        "id": "b45a167b.22e358",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "12ab21eb.8662ce",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Switches",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "x": 3726.000072479248,
        "y": 4129.00022983551,
        "wires": []
    },
    {
        "id": "43217a69.0642a4",
        "type": "ui_chart",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "bed665f6.de0078",
        "order": 0,
        "width": "8",
        "height": "7",
        "label": "Iluminacion ",
        "chartType": "line",
        "legend": "true",
        "xformat": "HH:mm:ss",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": "12",
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#1f77b4",
            "#aec7e8",
            "#ff7f0e",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 4906,
        "y": 4806,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2187fbae.d85024",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"baño\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4744.765504837036,
        "y": 4854.916624069214,
        "wires": [
            [
                "43217a69.0642a4"
            ]
        ]
    },
    {
        "id": "463f7649.ed4e28",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"cocina\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4742.76544380188,
        "y": 4751.916746139526,
        "wires": [
            [
                "43217a69.0642a4"
            ]
        ]
    },
    {
        "id": "563a3063.aee26",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"habitacion\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4744.765626907349,
        "y": 4815.916748046875,
        "wires": [
            [
                "43217a69.0642a4"
            ]
        ]
    },
    {
        "id": "e5884feb.347b5",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "\nmsg.topic = \"salon\";\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 4747.765565872192,
        "y": 4782.916563034058,
        "wires": [
            [
                "43217a69.0642a4"
            ]
        ]
    },
    {
        "id": "bafefa12.deb9f8",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "7b3d966f.41de48",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Cocina",
        "format": "{{msg.payload.date}}",
        "layout": "row-spread",
        "x": 772.8402576446533,
        "y": 3691.5631046295166,
        "wires": []
    },
    {
        "id": "9038839f.0bfb6",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "7b3d966f.41de48",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Salon",
        "format": "{{msg.payload.date}}",
        "layout": "row-spread",
        "x": 800.8958129882812,
        "y": 4017.222682952881,
        "wires": []
    },
    {
        "id": "d505cbff.b24898",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "7b3d966f.41de48",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Habitacion",
        "format": "{{msg.payload.date}}",
        "layout": "row-spread",
        "x": 812.8958511352539,
        "y": 3839.222608566284,
        "wires": []
    },
    {
        "id": "a1741fc8.f175e",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "7b3d966f.41de48",
        "order": 0,
        "width": "3",
        "height": "1",
        "name": "",
        "label": "Baño",
        "format": "{{msg.payload.date}}",
        "layout": "row-spread",
        "x": 815.8958969116211,
        "y": 3917.222502708435,
        "wires": []
    },
    {
        "id": "77b2b608.0efd88",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "agrega todo/cocina",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final }, \"topic\":\"infind/GRUPO2/ESP5826449/datos\"} },// criterio búsqueda. Se queda con los eltos qur coincidan con fechas\n    { \"$project\": {\n        \"temperatura\": \"$DHT11.temp\" // con las proyecciones se elige de todo el documento los campos que vamos a utilizar\n        }\n    },\n    { \"$group\": { //agrupación - da valores a esos grupos\n        \"_id\": 0,\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1}\n    }}\n \n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2382,
        "y": 4861,
        "wires": [
            [
                "4c65d535.f9c92c"
            ]
        ]
    },
    {
        "id": "4c65d535.f9c92c",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2666,
        "y": 4868,
        "wires": [
            [
                "b2378e77.2b4e5",
                "7d661df0.553b14",
                "e62cee53.1408",
                "20f76178.5ac73e"
            ]
        ]
    },
    {
        "id": "9312f951.f7fc38",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "genera datos gráfica",
        "func": "var arrayavg=[];\nvar arraymax=[];\nvar arraymin=[];\n\n// los arrays usados en la represenstación gráfica deben contener objetos JSON con dos campos: {x , y}\n// en x debemos poner la hora en formato \"timestamp\". Si tenemos un objeto fecha se puede convertir usando el método getTime()\n// en y debemos poner el valor de la variable\n// mas info en: https://github.com/node-red/node-red-dashboard/blob/master/Charts.md\n\nif(Array.isArray(msg.payload) && msg.payload.length>0)\n{\n    for (var i = 0; i < msg.payload.length; i++) { // añade datos a los array\n        arrayavg.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmedia});\n        arraymax.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmax});\n        arraymin.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmin});\n    }\n}\n    \nmsg.payload = [{\n        \"series\":[\"T.media\",\"T.max\",\"T.min\"],\n        \"data\":[arrayavg, arraymax, arraymin],\n        \"labels\":[\"\"]\n        }];\n\nreturn msg;  ",
        "outputs": "1",
        "noerr": 0,
        "x": 2963.0002059936523,
        "y": 4945.0001792907715,
        "wires": [
            [
                "cd2eb224.e6b5",
                "d3e2cb0.8fe9238"
            ]
        ]
    },
    {
        "id": "cd2eb224.e6b5",
        "type": "ui_chart",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "53520691.17b148",
        "order": 8,
        "width": 0,
        "height": 0,
        "label": "Temperaturas diarias",
        "chartType": "line",
        "legend": "true",
        "xformat": "D/M",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#008000",
            "#ff0000",
            "#0080ff",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 3200.9997215270996,
        "y": 4927.999996185303,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "7a015249.006acc",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "desde",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2687.0004806518555,
        "y": 3832.3349933624268,
        "wires": [
            [
                "2928ad44.d635e2"
            ]
        ]
    },
    {
        "id": "34776f07.7d325",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hasta",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2675.2275314331055,
        "y": 3891.217484474182,
        "wires": [
            [
                "61a916f3.114ab8"
            ]
        ]
    },
    {
        "id": "e09b8b5d.fa86b8",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Controles para seleccionar fechas",
        "info": "",
        "x": 2584.994453430176,
        "y": 3781.2477493286133,
        "wires": []
    },
    {
        "id": "29ca3ffb.23999",
        "type": "ui_date_picker",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Fecha de inicio",
        "group": "36584412.3654ac",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": true,
        "topic": "",
        "x": 2505.7642974853516,
        "y": 3828.493642807007,
        "wires": [
            [
                "7a015249.006acc"
            ]
        ]
    },
    {
        "id": "f0c9f673.3f82e8",
        "type": "ui_date_picker",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Fecha de final",
        "group": "36584412.3654ac",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": true,
        "topic": "",
        "x": 2492.77294921875,
        "y": 3888.499397277832,
        "wires": [
            [
                "34776f07.7d325"
            ]
        ]
    },
    {
        "id": "7b7a0145.77cee",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "tempmin dashboard",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3167.1181774139404,
        "y": 1136.3335618972778,
        "wires": []
    },
    {
        "id": "fc284cef.3bd3e",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var tempmin = global.get(\"TempMin\")\nmsg.payload = \"Se ha establecido el limite inferior de temperatura a: \"\nmsg.payload +=tempmin\nmsg.payload += \"º\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3006.048833847046,
        "y": 1105.1807308197021,
        "wires": [
            [
                "7b7a0145.77cee"
            ]
        ]
    },
    {
        "id": "d9bc52be.02fcb",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var tempmax = global.get(\"TempMax\")\nmsg.payload = \"Se ha establecido el limite superior de temperatura a: \"\nmsg.payload +=tempmax\nmsg.payload += \"º\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2997.118116378784,
        "y": 700.333423614502,
        "wires": [
            [
                "c6bb0fc6.974bc"
            ]
        ]
    },
    {
        "id": "c6bb0fc6.974bc",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "tempmax dashboard",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3132.118173599243,
        "y": 750.3334121704102,
        "wires": []
    },
    {
        "id": "43679eb9.7e314",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "hummin dashboard",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3270.1181640625,
        "y": 1453.77783203125,
        "wires": []
    },
    {
        "id": "277c4f46.19bd3",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var hummin = global.get(\"HumMin\")\nmsg.payload = \"Se ha establecido el limite inferior de humedad a: \"\nmsg.payload +=hummin\nmsg.payload += \"%\"\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3109.0488204956055,
        "y": 1422.6250009536743,
        "wires": [
            [
                "43679eb9.7e314"
            ]
        ]
    },
    {
        "id": "34404cf.bc8a5b4",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "hummax dashboard",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "",
        "parseMode": "",
        "x": 3294.1181640625,
        "y": 1851,
        "wires": []
    },
    {
        "id": "ba0a073c.aab348",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "func": "var hummax = global.get(\"HumMax\")\nmsg.payload = \"Se ha establecido el limite superior de humedad a: \"\nmsg.payload +=hummax\nmsg.payload += \"%\"\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 3112.048828125,
        "y": 1851.84716796875,
        "wires": [
            [
                "34404cf.bc8a5b4"
            ]
        ]
    },
    {
        "id": "d7c1f8dd.478d48",
        "type": "ui_text_input",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Temperatura limite superior",
        "tooltip": "",
        "group": "bb511b41.0362b8",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 2309.055788040161,
        "y": 592.8439416885376,
        "wires": [
            [
                "3417cd33.041c52"
            ]
        ]
    },
    {
        "id": "d3c8437c.334c5",
        "type": "ui_text_input",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Temperatura limite inferior",
        "tooltip": "",
        "group": "bb511b41.0362b8",
        "order": 1,
        "width": "6",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 2371.118288040161,
        "y": 927.3333902359009,
        "wires": [
            [
                "c9b03e90.53405"
            ]
        ]
    },
    {
        "id": "28027858.ef8118",
        "type": "ui_text_input",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Humedad limite inferior",
        "tooltip": "",
        "group": "326c39eb.c9b666",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 2435.1181640625,
        "y": 1394.5555419921875,
        "wires": [
            [
                "f76a1cb2.a531"
            ]
        ]
    },
    {
        "id": "bf9bb088.e450d",
        "type": "ui_text_input",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Humedad limite superior",
        "tooltip": "",
        "group": "326c39eb.c9b666",
        "order": 2,
        "width": "6",
        "height": "1",
        "passthru": true,
        "mode": "number",
        "delay": "0",
        "topic": "",
        "x": 2441.118408203125,
        "y": 1801.888916015625,
        "wires": [
            [
                "763b394.dec8cc8"
            ]
        ]
    },
    {
        "id": "b1e18e4d.3e396",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "agrega por días/cocina",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final },\"topic\":\"infind/GRUPO2/ESP5826449/datos\" } },\n    { \"$project\": {\n        \"date\": 1,\n        \"temperatura\": \"$DHT11.temp\"\n        }\n    },\n    { \"$group\": {\n        \"_id\": { // cada muestra una fecha distinta: agrupo por días\n        \"$dateFromParts\" : {\n            \"year\": { \"$year\": \"$date\" }, \n            \"month\": { \"$month\": \"$date\" },\n            \"day\": { \"$dayOfMonth\": \"$date\" }\n        }},\n\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1},\n    }},\n    { \"$sort\": {\"_id\": 1} } //ordena por campo id, que es una fecha\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2367,
        "y": 4965,
        "wires": [
            [
                "38b8866e.4cc6ea"
            ]
        ]
    },
    {
        "id": "38b8866e.4cc6ea",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2659,
        "y": 4954,
        "wires": [
            [
                "9312f951.f7fc38"
            ]
        ]
    },
    {
        "id": "b2378e77.2b4e5",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "53520691.17b148",
        "order": 3,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Média en el período",
        "format": "{{msg.payload[0].Tmedia | number:1 }}ºC",
        "layout": "row-left",
        "x": 3005.0000915527344,
        "y": 4761.999868392944,
        "wires": []
    },
    {
        "id": "7d661df0.553b14",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "53520691.17b148",
        "order": 4,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Máxima en el período",
        "format": "{{msg.payload[0].Tmax | number:1 }}ºC",
        "layout": "row-left",
        "x": 2999.2216796875,
        "y": 4801.403354644775,
        "wires": []
    },
    {
        "id": "e62cee53.1408",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "53520691.17b148",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Mínima en el período",
        "format": "{{msg.payload[0].Tmin | number:1 }}ºC",
        "layout": "row-left",
        "x": 2998.2216796875,
        "y": 4839.4033203125,
        "wires": []
    },
    {
        "id": "20f76178.5ac73e",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "53520691.17b148",
        "order": 6,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Número de datos",
        "format": "{{msg.payload[0].datos }} muestras",
        "layout": "row-left",
        "x": 2994.2216796875,
        "y": 4876.67626953125,
        "wires": []
    },
    {
        "id": "6dafd557.7ac24c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "agrega por días/habitacion",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final },\"topic\":\"infind/GRUPO2/ESP8789990/datos\" } },\n    { \"$project\": {\n        \"date\": 1,\n        \"temperatura\": \"$DHT11.temp\"\n        }\n    },\n    { \"$group\": {\n        \"_id\": { // cada muestra una fecha distinta: agrupo por días\n        \"$dateFromParts\" : {\n            \"year\": { \"$year\": \"$date\" }, \n            \"month\": { \"$month\": \"$date\" },\n            \"day\": { \"$dayOfMonth\": \"$date\" }\n        }},\n\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1},\n    }},\n    { \"$sort\": {\"_id\": 1} } //ordena por campo id, que es una fecha\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2326.000068664551,
        "y": 4681.3336353302,
        "wires": [
            [
                "79483173.39ce5"
            ]
        ]
    },
    {
        "id": "a5526bd0.70a018",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "agrega todo/habitacion",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final }, \"topic\":\"infind/GRUPO2/ESP8789990/datos\"} },// criterio búsqueda. Se queda con los eltos qur coincidan con fechas\n    { \"$project\": {\n        \"temperatura\": \"$DHT11.temp\" // con las proyecciones se elige de todo el documento los campos que vamos a utilizar\n        }\n    },\n    { \"$group\": { //agrupación - da valores a esos grupos\n        \"_id\": 0,\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1}\n    }}\n \n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2354.0001525878906,
        "y": 4569.33363199234,
        "wires": [
            [
                "62ff34d6.81708c"
            ]
        ]
    },
    {
        "id": "62ff34d6.81708c",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2645,
        "y": 4574.33349609375,
        "wires": [
            [
                "711a50c.aca6db",
                "87afddf4.653d6",
                "b96f8873.e9f258",
                "31b8ce1f.bf50d2"
            ]
        ]
    },
    {
        "id": "3b91d345.f4f98c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "genera datos gráfica",
        "func": "var arrayavg=[];\nvar arraymax=[];\nvar arraymin=[];\n\n// los arrays usados en la represenstación gráfica deben contener objetos JSON con dos campos: {x , y}\n// en x debemos poner la hora en formato \"timestamp\". Si tenemos un objeto fecha se puede convertir usando el método getTime()\n// en y debemos poner el valor de la variable\n// mas info en: https://github.com/node-red/node-red-dashboard/blob/master/Charts.md\n\nif(Array.isArray(msg.payload) && msg.payload.length>0)\n{\n    for (var i = 0; i < msg.payload.length; i++) { // añade datos a los array\n        arrayavg.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmedia});\n        arraymax.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmax});\n        arraymin.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmin});\n    }\n}\n    \nmsg.payload = [{\n        \"series\":[\"T.media\",\"T.max\",\"T.min\"],\n        \"data\":[arrayavg, arraymax, arraymin],\n        \"labels\":[\"\"]\n        }];\n\nreturn msg;  ",
        "outputs": "1",
        "noerr": 0,
        "x": 2930.00008392334,
        "y": 4656.333633422852,
        "wires": [
            [
                "fb800945.e204c8"
            ]
        ]
    },
    {
        "id": "fb800945.e204c8",
        "type": "ui_chart",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "74d0e08.fd5c12",
        "order": 8,
        "width": 0,
        "height": 0,
        "label": "Temperaturas diarias",
        "chartType": "line",
        "legend": "true",
        "xformat": "D/M",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#008000",
            "#ff0000",
            "#0080ff",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 3157.999767303467,
        "y": 4647.333633422852,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "79483173.39ce5",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2638,
        "y": 4660.33349609375,
        "wires": [
            [
                "3b91d345.f4f98c"
            ]
        ]
    },
    {
        "id": "711a50c.aca6db",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "74d0e08.fd5c12",
        "order": 3,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Média en el período",
        "format": "{{msg.payload[0].Tmedia | number:1 }}ºC",
        "layout": "row-left",
        "x": 2984.0000915527344,
        "y": 4468.333364486694,
        "wires": []
    },
    {
        "id": "87afddf4.653d6",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "74d0e08.fd5c12",
        "order": 4,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Máxima en el período",
        "format": "{{msg.payload[0].Tmax | number:1 }}ºC",
        "layout": "row-left",
        "x": 2978.2216796875,
        "y": 4507.736850738525,
        "wires": []
    },
    {
        "id": "b96f8873.e9f258",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "74d0e08.fd5c12",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Mínima en el período",
        "format": "{{msg.payload[0].Tmin | number:1 }}ºC",
        "layout": "row-left",
        "x": 2977.2216796875,
        "y": 4545.73681640625,
        "wires": []
    },
    {
        "id": "31b8ce1f.bf50d2",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "74d0e08.fd5c12",
        "order": 6,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Número de datos",
        "format": "{{msg.payload[0].datos }} muestras",
        "layout": "row-left",
        "x": 2973.2216796875,
        "y": 4583.009765625,
        "wires": []
    },
    {
        "id": "2928ad44.d635e2",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "desde",
        "links": [
            "a41091d9.7e0bd",
            "d39f791.f2ea988",
            "7eb0e7af.b4f9f8",
            "c5274b6d.979dc8",
            "9f66ef32.fd9fb",
            "bf102f9f.f7e89",
            "fbc21d7c.1b15e",
            "fb74f4d3.a94d48"
        ],
        "x": 2801.503909111023,
        "y": 3829.872428894043,
        "wires": []
    },
    {
        "id": "61a916f3.114ab8",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "hasta",
        "links": [
            "76a1a19a.f5ffa",
            "13813f40.fb9791",
            "94e84d9.d3029b",
            "fd7efdcf.65176",
            "2e08841d.cea0bc",
            "a6749a6f.327e38",
            "782ac8f1.c017a8",
            "bf04c078.f6771"
        ],
        "x": 2797.562828063965,
        "y": 3887.223342895508,
        "wires": []
    },
    {
        "id": "a41091d9.7e0bd",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "2928ad44.d635e2"
        ],
        "x": 2212.493227005005,
        "y": 4587.483371734619,
        "wires": [
            [
                "a5526bd0.70a018"
            ]
        ]
    },
    {
        "id": "d39f791.f2ea988",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "2928ad44.d635e2"
        ],
        "x": 2158.6735649108887,
        "y": 4709.889624595642,
        "wires": [
            [
                "6dafd557.7ac24c"
            ]
        ]
    },
    {
        "id": "7eb0e7af.b4f9f8",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "2928ad44.d635e2"
        ],
        "x": 2249.6735668182373,
        "y": 4871.889629364014,
        "wires": [
            [
                "77b2b608.0efd88"
            ]
        ]
    },
    {
        "id": "c5274b6d.979dc8",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "2928ad44.d635e2"
        ],
        "x": 2199.673565864563,
        "y": 4980,
        "wires": [
            [
                "b1e18e4d.3e396"
            ]
        ]
    },
    {
        "id": "76a1a19a.f5ffa",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "61a916f3.114ab8"
        ],
        "x": 2207.833559036255,
        "y": 4531.667613983154,
        "wires": [
            [
                "a5526bd0.70a018"
            ]
        ]
    },
    {
        "id": "13813f40.fb9791",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "61a916f3.114ab8"
        ],
        "x": 2152.0000619888306,
        "y": 4641.333633422852,
        "wires": [
            [
                "6dafd557.7ac24c"
            ]
        ]
    },
    {
        "id": "94e84d9.d3029b",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "61a916f3.114ab8"
        ],
        "x": 2242.000062942505,
        "y": 4814.333638191223,
        "wires": [
            [
                "77b2b608.0efd88"
            ]
        ]
    },
    {
        "id": "fd7efdcf.65176",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "61a916f3.114ab8"
        ],
        "x": 2193.000062942505,
        "y": 4913.33364200592,
        "wires": [
            [
                "b1e18e4d.3e396"
            ]
        ]
    },
    {
        "id": "7eb23315.85ae0c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "agrega por días/salon",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final },\"topic\":\"infind/GRUPO2/ESP5821487/datos\" } },\n    { \"$project\": {\n        \"date\": 1,\n        \"temperatura\": \"$DHT11.temp\"\n        }\n    },\n    { \"$group\": {\n        \"_id\": { // cada muestra una fecha distinta: agrupo por días\n        \"$dateFromParts\" : {\n            \"year\": { \"$year\": \"$date\" }, \n            \"month\": { \"$month\": \"$date\" },\n            \"day\": { \"$dayOfMonth\": \"$date\" }\n        }},\n\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1},\n    }},\n    { \"$sort\": {\"_id\": 1} } //ordena por campo id, que es una fecha\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2361,
        "y": 4372.33349609375,
        "wires": [
            [
                "2c377e81.c29562"
            ]
        ]
    },
    {
        "id": "d909bab5.b16168",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "agrega todo/salon",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final }, \"topic\":\"infind/GRUPO2/ESP5821487/datos\"} },// criterio búsqueda. Se queda con los eltos qur coincidan con fechas\n    { \"$project\": {\n        \"temperatura\": \"$DHT11.temp\" // con las proyecciones se elige de todo el documento los campos que vamos a utilizar\n        }\n    },\n    { \"$group\": { //agrupación - da valores a esos grupos\n        \"_id\": 0,\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1}\n    }}\n \n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2415.999931335449,
        "y": 4258.3333568573,
        "wires": [
            [
                "94aa7a66.8e95d8"
            ]
        ]
    },
    {
        "id": "94aa7a66.8e95d8",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2699.999931335449,
        "y": 4265.3333568573,
        "wires": [
            [
                "4bc2bf81.687ba",
                "40f9664e.d82fd8",
                "e985ebc5.92e918",
                "efad848d.b30d78"
            ]
        ]
    },
    {
        "id": "cbefb50c.ccb698",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "genera datos gráfica",
        "func": "var arrayavg=[];\nvar arraymax=[];\nvar arraymin=[];\n\n// los arrays usados en la represenstación gráfica deben contener objetos JSON con dos campos: {x , y}\n// en x debemos poner la hora en formato \"timestamp\". Si tenemos un objeto fecha se puede convertir usando el método getTime()\n// en y debemos poner el valor de la variable\n// mas info en: https://github.com/node-red/node-red-dashboard/blob/master/Charts.md\n\nif(Array.isArray(msg.payload) && msg.payload.length>0)\n{\n    for (var i = 0; i < msg.payload.length; i++) { // añade datos a los array\n        arrayavg.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmedia});\n        arraymax.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmax});\n        arraymin.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmin});\n    }\n}\n    \nmsg.payload = [{\n        \"series\":[\"T.media\",\"T.max\",\"T.min\"],\n        \"data\":[arrayavg, arraymax, arraymin],\n        \"labels\":[\"\"]\n        }];\n\nreturn msg;  ",
        "outputs": "1",
        "noerr": 0,
        "x": 2985.000015258789,
        "y": 4347.333494186401,
        "wires": [
            [
                "a7af9bf2.2d4678"
            ]
        ]
    },
    {
        "id": "a7af9bf2.2d4678",
        "type": "ui_chart",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "e58be95a.39a0c8",
        "order": 8,
        "width": 0,
        "height": 0,
        "label": "Temperaturas diarias",
        "chartType": "line",
        "legend": "true",
        "xformat": "D/M",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#008000",
            "#ff0000",
            "#0080ff",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 3209.9997634887695,
        "y": 4346.333623886108,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "2c377e81.c29562",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2692.999931335449,
        "y": 4351.3333568573,
        "wires": [
            [
                "cbefb50c.ccb698"
            ]
        ]
    },
    {
        "id": "4bc2bf81.687ba",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "e58be95a.39a0c8",
        "order": 3,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Média en el período",
        "format": "{{msg.payload[0].Tmedia | number:1 }}ºC",
        "layout": "row-left",
        "x": 3039.0000228881836,
        "y": 4159.333225250244,
        "wires": []
    },
    {
        "id": "40f9664e.d82fd8",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "e58be95a.39a0c8",
        "order": 4,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Máxima en el período",
        "format": "{{msg.payload[0].Tmax | number:1 }}ºC",
        "layout": "row-left",
        "x": 3033.221611022949,
        "y": 4198.736711502075,
        "wires": []
    },
    {
        "id": "e985ebc5.92e918",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "e58be95a.39a0c8",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Mínima en el período",
        "format": "{{msg.payload[0].Tmin | number:1 }}ºC",
        "layout": "row-left",
        "x": 3032.221611022949,
        "y": 4236.7366771698,
        "wires": []
    },
    {
        "id": "efad848d.b30d78",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "e58be95a.39a0c8",
        "order": 6,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Número de datos",
        "format": "{{msg.payload[0].datos }} muestras",
        "layout": "row-left",
        "x": 3028.221611022949,
        "y": 4274.00962638855,
        "wires": []
    },
    {
        "id": "9f66ef32.fd9fb",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "2928ad44.d635e2"
        ],
        "x": 2267.493158340454,
        "y": 4278.483232498169,
        "wires": [
            [
                "d909bab5.b16168"
            ]
        ]
    },
    {
        "id": "bf102f9f.f7e89",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "2928ad44.d635e2"
        ],
        "x": 2213.673496246338,
        "y": 4400.889485359192,
        "wires": [
            [
                "7eb23315.85ae0c"
            ]
        ]
    },
    {
        "id": "2e08841d.cea0bc",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "61a916f3.114ab8"
        ],
        "x": 2262.833490371704,
        "y": 4222.667474746704,
        "wires": [
            [
                "d909bab5.b16168"
            ]
        ]
    },
    {
        "id": "a6749a6f.327e38",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "61a916f3.114ab8"
        ],
        "x": 2206.99999332428,
        "y": 4332.333494186401,
        "wires": [
            [
                "7eb23315.85ae0c"
            ]
        ]
    },
    {
        "id": "495f3d82.fd7084",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "agrega por días/wc",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final },\"topic\":\"infind/GRUPO2/ESP1122489/datos\" } },\n    { \"$project\": {\n        \"date\": 1,\n        \"temperatura\": \"$DHT11.temp\"\n        }\n    },\n    { \"$group\": {\n        \"_id\": { // cada muestra una fecha distinta: agrupo por días\n        \"$dateFromParts\" : {\n            \"year\": { \"$year\": \"$date\" }, \n            \"month\": { \"$month\": \"$date\" },\n            \"day\": { \"$dayOfMonth\": \"$date\" }\n        }},\n\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1},\n    }},\n    { \"$sort\": {\"_id\": 1} } //ordena por campo id, que es una fecha\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2362.333251953125,
        "y": 4106.33349609375,
        "wires": [
            [
                "f29992d1.bebdb"
            ]
        ]
    },
    {
        "id": "207e739f.8ac96c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "agrega todo/wc",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde\") || ahora);\nvar hasta = new Date(global.get(\"hasta\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),1,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),24,59,59,99);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final }, \"topic\":\"infind/GRUPO2/ESP1122489/datos\"} },// criterio búsqueda. Se queda con los eltos qur coincidan con fechas\n    { \"$project\": {\n        \"temperatura\": \"$DHT11.temp\" // con las proyecciones se elige de todo el documento los campos que vamos a utilizar\n        }\n    },\n    { \"$group\": { //agrupación - da valores a esos grupos\n        \"_id\": 0,\n        \"Tmedia\":{\"$avg\":\"$temperatura\"},\n        \"Tmax\":  {\"$max\":\"$temperatura\"},\n        \"Tmin\":  {\"$min\":\"$temperatura\"},\n        \"datos\": {\"$sum\":1}\n    }}\n \n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2417.333183288574,
        "y": 3992.3333568573,
        "wires": [
            [
                "922a91f6.85ac5"
            ]
        ]
    },
    {
        "id": "922a91f6.85ac5",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2711.333183288574,
        "y": 3999.3333568573,
        "wires": [
            [
                "a9df28a3.92b5c8",
                "b6deeddb.7a155",
                "2cad9268.2c03ce",
                "6964c1e6.c6821"
            ]
        ]
    },
    {
        "id": "9099f846.09ec48",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "genera datos gráfica",
        "func": "var arrayavg=[];\nvar arraymax=[];\nvar arraymin=[];\n\n// los arrays usados en la represenstación gráfica deben contener objetos JSON con dos campos: {x , y}\n// en x debemos poner la hora en formato \"timestamp\". Si tenemos un objeto fecha se puede convertir usando el método getTime()\n// en y debemos poner el valor de la variable\n// mas info en: https://github.com/node-red/node-red-dashboard/blob/master/Charts.md\n\nif(Array.isArray(msg.payload) && msg.payload.length>0)\n{\n    for (var i = 0; i < msg.payload.length; i++) { // añade datos a los array\n        arrayavg.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmedia});\n        arraymax.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmax});\n        arraymin.push({x : msg.payload[i]._id.getTime() , y : msg.payload[i].Tmin});\n    }\n}\n    \nmsg.payload = [{\n        \"series\":[\"T.media\",\"T.max\",\"T.min\"],\n        \"data\":[arrayavg, arraymax, arraymin],\n        \"labels\":[\"\"]\n        }];\n\nreturn msg;  ",
        "outputs": "1",
        "noerr": 0,
        "x": 2996.333267211914,
        "y": 4081.3334941864014,
        "wires": [
            [
                "ad88c11.ccf124"
            ]
        ]
    },
    {
        "id": "ad88c11.ccf124",
        "type": "ui_chart",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "group": "a88ba3a2.208c4",
        "order": 8,
        "width": 0,
        "height": 0,
        "label": "Temperaturas diarias",
        "chartType": "line",
        "legend": "true",
        "xformat": "D/M",
        "interpolate": "linear",
        "nodata": "",
        "dot": false,
        "ymin": "",
        "ymax": "",
        "removeOlder": 1,
        "removeOlderPoints": "",
        "removeOlderUnit": "3600",
        "cutout": 0,
        "useOneColor": false,
        "colors": [
            "#008000",
            "#ff0000",
            "#0080ff",
            "#2ca02c",
            "#98df8a",
            "#d62728",
            "#ff9896",
            "#9467bd",
            "#c5b0d5"
        ],
        "useOldStyle": false,
        "x": 3221.3330154418945,
        "y": 4080.3336238861084,
        "wires": [
            [],
            []
        ]
    },
    {
        "id": "f29992d1.bebdb",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 2704.333183288574,
        "y": 4085.3333568573,
        "wires": [
            [
                "9099f846.09ec48"
            ]
        ]
    },
    {
        "id": "a9df28a3.92b5c8",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "a88ba3a2.208c4",
        "order": 3,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Média en el período",
        "format": "{{msg.payload[0].Tmedia | number:1 }}ºC",
        "layout": "row-left",
        "x": 3050.3332748413086,
        "y": 3893.333225250244,
        "wires": []
    },
    {
        "id": "b6deeddb.7a155",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "a88ba3a2.208c4",
        "order": 4,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Máxima en el período",
        "format": "{{msg.payload[0].Tmax | number:1 }}ºC",
        "layout": "row-left",
        "x": 3044.554862976074,
        "y": 3932.736711502075,
        "wires": []
    },
    {
        "id": "2cad9268.2c03ce",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "a88ba3a2.208c4",
        "order": 5,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Mínima en el período",
        "format": "{{msg.payload[0].Tmin | number:1 }}ºC",
        "layout": "row-left",
        "x": 3043.554862976074,
        "y": 3970.7366771698,
        "wires": []
    },
    {
        "id": "6964c1e6.c6821",
        "type": "ui_text",
        "z": "b6a6fd6.bab9a",
        "group": "a88ba3a2.208c4",
        "order": 6,
        "width": "6",
        "height": "1",
        "name": "",
        "label": "Número de datos",
        "format": "{{msg.payload[0].datos }} muestras",
        "layout": "row-left",
        "x": 3039.554862976074,
        "y": 4008.00962638855,
        "wires": []
    },
    {
        "id": "fbc21d7c.1b15e",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "2928ad44.d635e2"
        ],
        "x": 2278.826410293579,
        "y": 4012.483232498169,
        "wires": [
            [
                "207e739f.8ac96c"
            ]
        ]
    },
    {
        "id": "fb74f4d3.a94d48",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "2928ad44.d635e2"
        ],
        "x": 2225.006748199463,
        "y": 4134.889485359192,
        "wires": [
            [
                "495f3d82.fd7084"
            ]
        ]
    },
    {
        "id": "782ac8f1.c017a8",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "61a916f3.114ab8"
        ],
        "x": 2274.166742324829,
        "y": 3956.667474746704,
        "wires": [
            [
                "207e739f.8ac96c"
            ]
        ]
    },
    {
        "id": "bf04c078.f6771",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "links": [
            "61a916f3.114ab8"
        ],
        "x": 2218.333245277405,
        "y": 4066.3334941864014,
        "wires": [
            [
                "495f3d82.fd7084"
            ]
        ]
    },
    {
        "id": "1f34e3b1.15dc1c",
        "type": "http response",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "statusCode": "",
        "headers": {
            "Content-Disposition": "attachment; filename=registros.csv"
        },
        "x": 2295.4933528900146,
        "y": 3392.5185585021973,
        "wires": []
    },
    {
        "id": "2b36ef16.e2029",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "Unicode y separador",
        "func": "//add Unicode BOM character (byte order mark) to make EXCEL knows this is UTF-8\nif(global.get(\"separador_decimal\")==\"punto\")\n{\n    msg.payload='\\ufeff'+msg.payload;\n\n}\nelse\n{\n    msg.payload='\\ufeff'+(msg.payload).replace(/\\./g,\",\");\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 2117.4935245513916,
        "y": 3390.5186672210693,
        "wires": [
            [
                "1f34e3b1.15dc1c"
            ]
        ]
    },
    {
        "id": "c5fb471.aee5fb8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "consulta",
        "func": "// fecha por defecto es hoy\nvar ahora = new Date();\n// pillo los globales si los hay, si no la fecha de hoy\nvar desde = new Date(global.get(\"desde2\") || ahora);\nvar hasta = new Date(global.get(\"hasta2\") || ahora); \n// el día de inicio desde las cero horas\nvar inicio = new Date(desde.getFullYear(),desde.getMonth(),desde.getDate(),0,0,0,0);\n// el día final es hasta final del día\nvar final = new Date(hasta.getFullYear(),hasta.getMonth(),hasta.getDate(),23,59,59,999);\n\nmsg.payload=\n[\n    { \"$match\": { \"date\": { \"$gte\": inicio , \"$lte\": final } } },\n    { \"$project\": {\n        \"_id\": 0,\n        \"date\": 1,\n        \"topic\" : \"$topic\",\n        \"temperatura\": \"$DHT11.temp\",\n        \"humedad\": \"$DHT11.hum\",\n        \"iluminacion\": \"$LED\"\n        }\n    },\n    { \"$sort\": {\"date\": 1} }\n];\n\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1484.4937438964844,
        "y": 3388.5183429718018,
        "wires": [
            [
                "6660dc6.6cd9824"
            ]
        ]
    },
    {
        "id": "26413403.2ab86c",
        "type": "http in",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "url": "/registros",
        "method": "get",
        "upload": false,
        "swaggerDoc": "",
        "x": 1321.4937057495117,
        "y": 3388.518321990967,
        "wires": [
            [
                "c5fb471.aee5fb8"
            ]
        ]
    },
    {
        "id": "510230f6.e848d",
        "type": "ui_template",
        "z": "b6a6fd6.bab9a",
        "group": "836fb62c.5d2aa8",
        "name": "",
        "order": 3,
        "width": "0",
        "height": "0",
        "format": "<style>\n.button {\n    text-align: center;\n    font: bold 17px Arial;\n    text-decoration: none;\n    background-color: #339966;\n    color: white;\n    padding: 8px 10px;\n    border: 2px solid #CCCCCC;\n  }\n  \n  .button:hover\n  {\n   background-color: #26734d;\n  }\n\n</style>\n<a href=\"/registros\" class=\"button\">Descarga registros en CSV (EXCEL)</a>\n",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "templateScope": "local",
        "x": 1340.4937286376953,
        "y": 3280.5181550979614,
        "wires": [
            []
        ]
    },
    {
        "id": "4686b064.44979",
        "type": "csv",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "sep": ";",
        "hdrin": "",
        "hdrout": true,
        "multi": "one",
        "ret": "\\r\\n",
        "temp": "date,topic, temperatura, humedad, iluminacion",
        "skip": 0,
        "x": 1946.4936981201172,
        "y": 3390.5185050964355,
        "wires": [
            [
                "2b36ef16.e2029"
            ]
        ]
    },
    {
        "id": "2846a680.5c13ca",
        "type": "ui_switch",
        "z": "b6a6fd6.bab9a",
        "name": "separdor decimal",
        "label": "{{msg.topic}}",
        "tooltip": "",
        "group": "836fb62c.5d2aa8",
        "order": 4,
        "width": 0,
        "height": 0,
        "passthru": false,
        "decouple": "false",
        "topic": "",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "x": 1425.4967041015625,
        "y": 3745.4951639175415,
        "wires": [
            [
                "ef4d0b2.513acf8"
            ]
        ]
    },
    {
        "id": "7e024a22.06d454",
        "type": "inject",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "",
        "payload": "true",
        "payloadType": "bool",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 1388.4937286376953,
        "y": 3693.4070711135864,
        "wires": [
            [
                "ef4d0b2.513acf8"
            ]
        ]
    },
    {
        "id": "ef4d0b2.513acf8",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "set global separador_decimal",
        "func": "if(msg.payload===true)\n{\n    global.set(\"separador_decimal\",\"coma\");\n    msg.topic=\"separador decimal = coma\";\n}\nelse\n{\n    global.set(\"separador_decimal\",\"punto\");\n    msg.topic=\"separador decimal = punto\";\n}\nreturn msg;",
        "outputs": 1,
        "noerr": 0,
        "x": 1688.5052375793457,
        "y": 3691.114408493042,
        "wires": [
            [
                "2846a680.5c13ca"
            ]
        ]
    },
    {
        "id": "4c777e79.b741a",
        "type": "ui_date_picker",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Fecha inicio",
        "group": "836fb62c.5d2aa8",
        "order": 1,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "x": 1545.2748794555664,
        "y": 3523.2510380744934,
        "wires": [
            [
                "2e115a1.583d2a6"
            ]
        ]
    },
    {
        "id": "9ebb8db8.d148b",
        "type": "ui_date_picker",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "label": "Fecha final",
        "group": "836fb62c.5d2aa8",
        "order": 2,
        "width": 0,
        "height": 0,
        "passthru": true,
        "topic": "",
        "x": 1548.286231994629,
        "y": 3572.2452754974365,
        "wires": [
            [
                "e2aab4fd.fe1ad8"
            ]
        ]
    },
    {
        "id": "2e115a1.583d2a6",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "desde2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1751.2805557250977,
        "y": 3521.912925720215,
        "wires": [
            []
        ]
    },
    {
        "id": "e2aab4fd.fe1ad8",
        "type": "change",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "hasta2",
                "pt": "global",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1754.5078353881836,
        "y": 3572.796480178833,
        "wires": [
            []
        ]
    },
    {
        "id": "e4ba3a09.ff1c58",
        "type": "inject",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "x": 1347.2833786010742,
        "y": 3547.6714782714844,
        "wires": [
            [
                "4c777e79.b741a",
                "9ebb8db8.d148b"
            ]
        ]
    },
    {
        "id": "29d5b260.60a97e",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Controles para seleccionar fechas",
        "info": "",
        "x": 1404.2833671569824,
        "y": 3451.148762702942,
        "wires": []
    },
    {
        "id": "89e93689.83c788",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Botón en HTML para lanzar descarga de fichero",
        "info": "",
        "x": 1450.2834854125977,
        "y": 3232.6006088256836,
        "wires": []
    },
    {
        "id": "131aaf67.39dc61",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Flujo para descarga de fichero",
        "info": "",
        "x": 1392.507911682129,
        "y": 3330.5239753723145,
        "wires": []
    },
    {
        "id": "9f0bc60c.511968",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Selector de separador decimal",
        "info": "",
        "x": 1400.5078926086426,
        "y": 3633.0691957473755,
        "wires": []
    },
    {
        "id": "6660dc6.6cd9824",
        "type": "mongodb in",
        "z": "b6a6fd6.bab9a",
        "mongodb": "c5464916.ceffc8",
        "name": "",
        "collection": "datos/GRUPO2_json",
        "operation": "aggregate",
        "x": 1722.8958740234375,
        "y": 3390.888997077942,
        "wires": [
            [
                "4686b064.44979"
            ]
        ]
    },
    {
        "id": "8bb70644.ffecd8",
        "type": "telegrambot-command",
        "z": "b6a6fd6.bab9a",
        "name": "/logica",
        "bot": "407d7e26.e9903",
        "command": "/logica",
        "commandType": "str",
        "commandCase": false,
        "x": 2651.507869720459,
        "y": 3351.02352142334,
        "wires": [
            [
                "27b8b155.ac3f7e"
            ]
        ]
    },
    {
        "id": "27b8b155.ac3f7e",
        "type": "telegrambot-switch",
        "z": "b6a6fd6.bab9a",
        "name": "switch prediccion",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "question": "Que lógica de LED quieres?",
        "answers": [
            "positiva",
            "negativa"
        ],
        "outputs": 3,
        "autoAnswerCallback": false,
        "timeoutValue": "20",
        "timeoutUnits": "s",
        "x": 2851.015682220459,
        "y": 3350.00008392334,
        "wires": [
            [
                "9365d4b.6a42428"
            ],
            [
                "4b0c3285.818e0c"
            ],
            [
                "5c265e.a55dd9a4"
            ]
        ]
    },
    {
        "id": "9365d4b.6a42428",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "logica positiva",
        "func": "msg.payload = {\"logica\": true}\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 3070.000057220459,
        "y": 3323.00008392334,
        "wires": [
            [
                "b495ffff.d7073",
                "c75fe871.c555e8",
                "bac99192.4cb6",
                "b5051191.71a81",
                "c5a88897.28dd78"
            ]
        ]
    },
    {
        "id": "5c265e.a55dd9a4",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "TimeOut",
        "bot": "407d7e26.e9903",
        "chatId": "",
        "message": "Se acabo el tiempo",
        "parseMode": "",
        "x": 2976.000057220459,
        "y": 3426.00008392334,
        "wires": []
    },
    {
        "id": "4b0c3285.818e0c",
        "type": "function",
        "z": "b6a6fd6.bab9a",
        "name": "logica negativa",
        "func": "msg.payload = {\"logica\": false}\nreturn msg",
        "outputs": 1,
        "noerr": 0,
        "x": 3072.000057220459,
        "y": 3375.00008392334,
        "wires": [
            [
                "b495ffff.d7073",
                "b5051191.71a81",
                "bac99192.4cb6",
                "c75fe871.c555e8",
                "9f581ae0.5bab48"
            ]
        ]
    },
    {
        "id": "b495ffff.d7073",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP8789990/logica",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 3360.000057220459,
        "y": 3322.00008392334,
        "wires": []
    },
    {
        "id": "c75fe871.c555e8",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP1122489/logica",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 3361.000057220459,
        "y": 3353.00008392334,
        "wires": []
    },
    {
        "id": "bac99192.4cb6",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5821487/logica",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 3355.000057220459,
        "y": 3385.00008392334,
        "wires": []
    },
    {
        "id": "b5051191.71a81",
        "type": "mqtt out",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "topic": "infind/GRUPO2/ESP5826449/logica",
        "qos": "",
        "retain": "",
        "broker": "8fab76dc.3e75b8",
        "x": 3356.000057220459,
        "y": 3420.00008392334,
        "wires": []
    },
    {
        "id": "595f3ead.ce138",
        "type": "link in",
        "z": "b6a6fd6.bab9a",
        "name": "logica",
        "links": [
            "937b50fe.ae98a"
        ],
        "x": 2637.000057220459,
        "y": 3306.00008392334,
        "wires": [
            [
                "27b8b155.ac3f7e"
            ]
        ]
    },
    {
        "id": "937b50fe.ae98a",
        "type": "link out",
        "z": "b6a6fd6.bab9a",
        "name": "HumMax",
        "links": [
            "595f3ead.ce138"
        ],
        "x": 534,
        "y": 893,
        "wires": []
    },
    {
        "id": "8ec1888a.3c4648",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 2658.5005645751953,
        "y": 2309.333320617676,
        "wires": [
            [
                "97b4070c.8a6ff8"
            ]
        ]
    },
    {
        "id": "f16fcfd9.b8c2d",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 2642,
        "y": 2252.333251953125,
        "wires": [
            [
                "295c5f4e.1dc34"
            ]
        ]
    },
    {
        "id": "e122753d.36f888",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 2637,
        "y": 2211.333251953125,
        "wires": [
            [
                "38f9429e.8e2f0e"
            ]
        ]
    },
    {
        "id": "11879604.82c25a",
        "type": "json",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 2649,
        "y": 2155.333251953125,
        "wires": [
            [
                "b706d5f3.c5a208"
            ]
        ]
    },
    {
        "id": "9f581ae0.5bab48",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta negativa",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la lógica negativa",
        "parseMode": "",
        "x": 3271.000057220459,
        "y": 3516.333335876465,
        "wires": []
    },
    {
        "id": "c5a88897.28dd78",
        "type": "telegrambot-notify",
        "z": "b6a6fd6.bab9a",
        "name": "respuesta positiva",
        "bot": "407d7e26.e9903",
        "chatId": "-487674790",
        "message": "Se ha establecido la lógica positiva",
        "parseMode": "",
        "x": 3296.000057220459,
        "y": 3271.333335876465,
        "wires": []
    },
    {
        "id": "d3e2cb0.8fe9238",
        "type": "debug",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 3242.7188262939453,
        "y": 4847.319488525391,
        "wires": []
    },
    {
        "id": "47c4c91f.5c4e08",
        "type": "debug",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 956.8750534057617,
        "y": 4009.0236377716064,
        "wires": []
    },
    {
        "id": "60eb3454.c2fddc",
        "type": "debug",
        "z": "b6a6fd6.bab9a",
        "name": "",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 4378.375106811523,
        "y": 385.5078344345093,
        "wires": []
    },
    {
        "id": "5abb84fb.ce18ec",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "añadimos delay para asegurar el orden",
        "info": "",
        "x": 316.5,
        "y": 420.3333435058594,
        "wires": []
    },
    {
        "id": "d88da7c5.e186f8",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Este flujo  avisa si se actualiza una placa",
        "info": "",
        "x": 2712.2421875,
        "y": 2106.734375,
        "wires": []
    },
    {
        "id": "b2ac7261.81747",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Eleccion de limites",
        "info": "",
        "x": 2555.5,
        "y": 494,
        "wires": []
    },
    {
        "id": "98a52c8.4dda5d",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "Encender/apagar los switches",
        "info": "",
        "x": 3993.833282470703,
        "y": 493.00000762939453,
        "wires": []
    },
    {
        "id": "fdbe988d.340cd8",
        "type": "comment",
        "z": "b6a6fd6.bab9a",
        "name": "switch led global",
        "info": "",
        "x": 4300.833457946777,
        "y": 3535.6666898727417,
        "wires": []
    },
    {
        "id": "9a017098.bcf6a",
        "type": "ui_toast",
        "z": "b6a6fd6.bab9a",
        "position": "top right",
        "displayTime": "3",
        "highlight": "",
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "topic": "",
        "name": "",
        "x": 799.8869323730469,
        "y": 4507.023677825928,
        "wires": []
    },
    {
        "id": "c2f5f87a.c0a098",
        "type": "ui_toast",
        "z": "b6a6fd6.bab9a",
        "position": "top left",
        "displayTime": "3",
        "highlight": "",
        "outputs": 0,
        "ok": "OK",
        "cancel": "",
        "topic": "",
        "name": "",
        "x": 1740.265625,
        "y": 4451,
        "wires": []
    },
    {
        "id": "407d7e26.e9903",
        "type": "telegrambot-config",
        "z": "",
        "botname": "pruebasjj_bot",
        "usernames": "",
        "chatIds": "",
        "pollInterval": "300"
    },
    {
        "id": "8fab76dc.3e75b8",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "iot.ac.uma.es",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "c5464916.ceffc8",
        "type": "mongodb",
        "z": "",
        "hostname": "iot.ac.uma.es",
        "connectOptions": "",
        "port": "27017",
        "db": "II2",
        "name": ""
    },
    {
        "id": "11f84db6.06eda2",
        "type": "mqtt-broker",
        "z": "",
        "name": "",
        "broker": "iot.ac.uma.es",
        "port": "1883",
        "clientid": "",
        "usetls": false,
        "compatmode": true,
        "keepalive": "60",
        "cleansession": true,
        "birthTopic": "",
        "birthQos": "0",
        "birthPayload": "",
        "closeTopic": "",
        "closeQos": "0",
        "closePayload": "",
        "willTopic": "",
        "willQos": "0",
        "willPayload": ""
    },
    {
        "id": "d663aec0.fe33b",
        "type": "ui_group",
        "z": "",
        "name": "Estado de la puerta",
        "tab": "9905e55b.fa87c8",
        "order": 5,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "2698f6e4.59cfda",
        "type": "ui_group",
        "z": "",
        "name": "Luz",
        "tab": "9905e55b.fa87c8",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "3c99888e.a2a758",
        "type": "ui_group",
        "z": "",
        "name": "gases cocina",
        "tab": "9905e55b.fa87c8",
        "order": 7,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "c8594790.14e3d8",
        "type": "ui_group",
        "z": "",
        "name": "gases salon",
        "tab": "9905e55b.fa87c8",
        "order": 8,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "57330da7.251e34",
        "type": "ui_group",
        "z": "",
        "name": "Temperatura",
        "tab": "9905e55b.fa87c8",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "95c6b073.e17e4",
        "type": "ui_group",
        "z": "",
        "name": "Humedad",
        "tab": "9905e55b.fa87c8",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "12ab21eb.8662ce",
        "type": "ui_group",
        "z": "",
        "name": "Control de luz",
        "tab": "9905e55b.fa87c8",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "bed665f6.de0078",
        "type": "ui_group",
        "z": "",
        "name": "Graficas",
        "tab": "9905e55b.fa87c8",
        "order": 11,
        "disp": true,
        "width": "24",
        "collapse": false
    },
    {
        "id": "94936d81.8681a",
        "type": "ui_group",
        "z": "",
        "name": "Actualizacion de datos",
        "tab": "845c094c.8d70a8",
        "order": 4,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "5ed1f6a1.e21328",
        "type": "ui_group",
        "z": "",
        "name": "Recogida de datos",
        "tab": "845c094c.8d70a8",
        "order": 3,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "8f9d228c.301c3",
        "type": "ui_group",
        "z": "",
        "name": "Switch y Led",
        "tab": "845c094c.8d70a8",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "acf3bb1.19ba048",
        "type": "ui_group",
        "z": "",
        "name": "Tiempo de pwm",
        "tab": "845c094c.8d70a8",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "7b3d966f.41de48",
        "type": "ui_group",
        "z": "",
        "name": "Ultima Actualizacion",
        "tab": "9905e55b.fa87c8",
        "order": 10,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "53520691.17b148",
        "type": "ui_group",
        "z": "",
        "name": "Cocina",
        "tab": "dba1b5f8.4c0d68",
        "order": 2,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "36584412.3654ac",
        "type": "ui_group",
        "z": "",
        "name": "Seleccion de fechas",
        "tab": "dba1b5f8.4c0d68",
        "order": 1,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "bb511b41.0362b8",
        "type": "ui_group",
        "z": "",
        "name": "Temperaturas límite",
        "tab": "845c094c.8d70a8",
        "order": 5,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "326c39eb.c9b666",
        "type": "ui_group",
        "z": "",
        "name": "Humedades",
        "tab": "845c094c.8d70a8",
        "order": 6,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "74d0e08.fd5c12",
        "type": "ui_group",
        "z": "",
        "name": "Habitacion",
        "tab": "dba1b5f8.4c0d68",
        "order": 3,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "e58be95a.39a0c8",
        "type": "ui_group",
        "z": "",
        "name": "Salon",
        "tab": "dba1b5f8.4c0d68",
        "order": 4,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "a88ba3a2.208c4",
        "type": "ui_group",
        "z": "",
        "name": "Baño",
        "tab": "dba1b5f8.4c0d68",
        "order": 5,
        "disp": true,
        "width": "12",
        "collapse": false
    },
    {
        "id": "836fb62c.5d2aa8",
        "type": "ui_group",
        "z": "",
        "name": "Consulta de datos",
        "tab": "53f82b69.107a04",
        "disp": true,
        "width": "8",
        "collapse": false
    },
    {
        "id": "9905e55b.fa87c8",
        "type": "ui_tab",
        "z": "",
        "name": "Panel de control ",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "845c094c.8d70a8",
        "type": "ui_tab",
        "z": "",
        "name": "Configuracion",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "dba1b5f8.4c0d68",
        "type": "ui_tab",
        "z": "",
        "name": "Históricos",
        "icon": "dashboard",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "53f82b69.107a04",
        "type": "ui_tab",
        "z": "",
        "name": "Descarga Excel",
        "icon": "dashboard",
        "order": 1,
        "disabled": false,
        "hidden": false
    }
]
